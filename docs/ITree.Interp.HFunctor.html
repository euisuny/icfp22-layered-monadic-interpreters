<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="../">Project Page</a>
      <a href="./indexpage.html"> Index </a>
      <a href="./toc.html"> Table of Contents </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">ITree.Interp.HFunctor</h1>

<div class="code">
</div>

<div class="doc">
<a id="lab122"></a><h1 class="section">Higher-order functors</h1>

</div>
<div class="code">

<br/>
<span class="comment">(*&nbsp;This&nbsp;file&nbsp;defines&nbsp;higher-order&nbsp;functors&nbsp;and&nbsp;well-formedness&nbsp;properties&nbsp;for&nbsp;them,<br/>
&nbsp;&nbsp;&nbsp;which&nbsp;are&nbsp;from&nbsp;Johann&nbsp;and&nbsp;Ghani's&nbsp;work&nbsp;on&nbsp;primitive&nbsp;nested&nbsp;types&nbsp;in&nbsp;Haskell<br/>
&nbsp;&nbsp;&nbsp;(See&nbsp;https://arxiv.org/pdf/2101.04819.pdf).<br/>
<br/>
&nbsp;&nbsp;&nbsp;Higher-order&nbsp;functors&nbsp;have&nbsp;a&nbsp;functorial&nbsp;structure&nbsp;over&nbsp;higher-order&nbsp;functions.<br/>
<br/>
&nbsp;&nbsp;&nbsp;We&nbsp;use&nbsp;higher-order&nbsp;functor&nbsp;well-formedness&nbsp;properties&nbsp;for&nbsp;stating&nbsp;well-formedness<br/>
&nbsp;&nbsp;&nbsp;properties&nbsp;over&nbsp;monad&nbsp;transformers,&nbsp;which&nbsp;are&nbsp;higher&nbsp;order&nbsp;functors&nbsp;(similarly<br/>
&nbsp;&nbsp;&nbsp;to&nbsp;how&nbsp;monads&nbsp;form&nbsp;a&nbsp;functor).<br/>
<br/>
&nbsp;&nbsp;&nbsp;We&nbsp;provide&nbsp;higher-order&nbsp;functor&nbsp;instances&nbsp;for&nbsp;ID,&nbsp;State,&nbsp;and&nbsp;Error&nbsp;transformers<br/>
&nbsp;&nbsp;&nbsp;and&nbsp;show&nbsp;that&nbsp;the&nbsp;higher-order&nbsp;functor&nbsp;well-formedness&nbsp;properties&nbsp;are&nbsp;closed&nbsp;under<br/>
&nbsp;&nbsp;&nbsp;nesting&nbsp;these&nbsp;monad&nbsp;transformers.&nbsp;*)</span><br/>

<br/>

<br/>
<span class="comment">(*&nbsp;Higher-order&nbsp;functors&nbsp;*)</span><br/>
<span class="id" title="keyword">Class</span> <a id="HFunctor" class="idref" href="#HFunctor"><span class="id" title="record">HFunctor</span></a> (<a id="f:1" class="idref" href="#f:1"><span class="id" title="binder">f</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">Type</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Type</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Type</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Type</span>) :=<br/>
{ <a id="ffmap" class="idref" href="#ffmap"><span class="id" title="projection">ffmap</span></a> : <span class="id" title="keyword">forall</span> <a id="A:3" class="idref" href="#A:3"><span class="id" title="binder">A</span></a> <a id="B:4" class="idref" href="#B:4"><span class="id" title="binder">B</span></a> <a id="g:5" class="idref" href="#g:5"><span class="id" title="binder">g</span></a>, <span class="id" title="class">Functor</span> <a class="idref" href="ITree.Interp.HFunctor.html#g:5"><span class="id" title="variable">g</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="ITree.Interp.HFunctor.html#A:3"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#B:4"><span class="id" title="variable">B</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#f:1"><span class="id" title="variable">f</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#g:5"><span class="id" title="variable">g</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#A:3"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#f:1"><span class="id" title="variable">f</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#g:5"><span class="id" title="variable">g</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#B:4"><span class="id" title="variable">B</span></a>;<br/>
&nbsp;&nbsp;<a id="hfmap" class="idref" href="#hfmap"><span class="id" title="projection">hfmap</span></a> : <span class="id" title="keyword">forall</span> <a id="g:7" class="idref" href="#g:7"><span class="id" title="binder">g</span></a> <a id="h:8" class="idref" href="#h:8"><span class="id" title="binder">h</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="ITree.Interp.HFunctor.html#g:7"><span class="id" title="variable">g</span></a> <a class="idref" href="ITree.Basics.Basics.html#f7397da22bdab7f77b06c5d98764e7b9"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#h:8"><span class="id" title="variable">h</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="ITree.Interp.HFunctor.html#f:1"><span class="id" title="variable">f</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#g:7"><span class="id" title="variable">g</span></a> <a class="idref" href="ITree.Basics.Basics.html#f7397da22bdab7f77b06c5d98764e7b9"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#f:1"><span class="id" title="variable">f</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#h:8"><span class="id" title="variable">h</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> }.<br/>

<br/>
<span class="id" title="keyword">Arguments</span> <a class="idref" href="ITree.Interp.HFunctor.html#ffmap"><span class="id" title="method">ffmap</span></a> {<span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>} <span class="id" title="var">_</span> <span class="id" title="var">_</span>.<br/>
<span class="id" title="keyword">Arguments</span> <a class="idref" href="ITree.Interp.HFunctor.html#hfmap"><span class="id" title="method">hfmap</span></a> {<span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>} <span class="id" title="var">F</span> [<span class="id" title="var">_</span>].<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="pointwise_eqmR" class="idref" href="#pointwise_eqmR"><span class="id" title="definition">pointwise_eqmR</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="g:10" class="idref" href="#g:10"><span class="id" title="binder">g</span></a> <a id="h:11" class="idref" href="#h:11"><span class="id" title="binder">h</span></a> : <span class="id" title="keyword">Type</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<a id="g_Monad:12" class="idref" href="#g_Monad:12"><span class="id" title="binder">g_Monad</span></a> : <span class="id" title="class">Monad</span> <a class="idref" href="ITree.Interp.HFunctor.html#g:10"><span class="id" title="variable">g</span></a>} {<a id="h_Monad:13" class="idref" href="#h_Monad:13"><span class="id" title="binder">h_Monad</span></a> : <span class="id" title="class">Monad</span> <a class="idref" href="ITree.Interp.HFunctor.html#h:11"><span class="id" title="variable">h</span></a>} {<a id="g_EqmR:14" class="idref" href="#g_EqmR:14"><span class="id" title="binder">g_EqmR</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#EqmR"><span class="id" title="class">EqmR</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#g:10"><span class="id" title="variable">g</span></a>} {<a id="h_EqmR:15" class="idref" href="#h_EqmR:15"><span class="id" title="binder">h_EqmR</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#EqmR"><span class="id" title="class">EqmR</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#h:11"><span class="id" title="variable">h</span></a>} : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Relations.Relation_Definitions.html#relation"><span class="id" title="definition">relation</span></a> (<a class="idref" href="ITree.Interp.HFunctor.html#g:10"><span class="id" title="variable">g</span></a> <a class="idref" href="ITree.Basics.Basics.html#f7397da22bdab7f77b06c5d98764e7b9"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#h:11"><span class="id" title="variable">h</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="keyword">forall</span> (<a id="T:19" class="idref" href="#T:19"><span class="id" title="binder">T</span></a> : <span class="id" title="keyword">Type</span>) (<a id="x:20" class="idref" href="#x:20"><span class="id" title="binder">x</span></a> <a id="y:21" class="idref" href="#y:21"><span class="id" title="binder">y</span></a> : <span class="id" title="var">g</span> <a class="idref" href="ITree.Interp.HFunctor.html#T:16"><span class="id" title="variable">T</span></a>), <a class="idref" href="ITree.EqmR.EqmRMonad.html#eqmR"><span class="id" title="method">eqmR</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#x:17"><span class="id" title="variable">x</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#y:18"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#eqmR"><span class="id" title="method">eqmR</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> (<span class="id" title="var">X</span> <span class="id" title="var">_</span> <a class="idref" href="ITree.Interp.HFunctor.html#x:17"><span class="id" title="variable">x</span></a>) (<span class="id" title="var">X0</span> <span class="id" title="var">_</span> <a class="idref" href="ITree.Interp.HFunctor.html#y:18"><span class="id" title="variable">y</span></a>)).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Class</span> <a id="HFmapProper" class="idref" href="#HFmapProper"><span class="id" title="record">HFmapProper</span></a> <a id="f:22" class="idref" href="#f:22"><span class="id" title="binder">f</span></a> (<a id="f_Hfunctor:23" class="idref" href="#f_Hfunctor:23"><span class="id" title="binder">f_Hfunctor</span></a> : <a class="idref" href="ITree.Interp.HFunctor.html#HFunctor"><span class="id" title="class">HFunctor</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#f:22"><span class="id" title="variable">f</span></a>) `{<a id="f_WF_MonadTLaws:26" class="idref" href="#f_WF_MonadTLaws:26"><span class="id" title="binder">f_WF_MonadTLaws</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonadT.html#WF_IterativeMonadT"><span class="id" title="class">WF_IterativeMonadT</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#f:22"><span class="id" title="variable">f</span></a>} : <span class="id" title="keyword">Type</span> :=<br/>
&nbsp;&nbsp;<a id="hfmap_proper_" class="idref" href="#hfmap_proper_"><span class="id" title="projection">hfmap_proper_</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<a id="g:28" class="idref" href="#g:28"><span class="id" title="binder">g</span></a> <a id="h:29" class="idref" href="#h:29"><span class="id" title="binder">h</span></a> : <span class="id" title="keyword">Type</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<a id="g_Monad:30" class="idref" href="#g_Monad:30"><span class="id" title="binder">g_Monad</span></a> : <span class="id" title="class">Monad</span> <a class="idref" href="ITree.Interp.HFunctor.html#g:28"><span class="id" title="variable">g</span></a>} {<a id="h_Monad:31" class="idref" href="#h_Monad:31"><span class="id" title="binder">h_Monad</span></a> : <span class="id" title="class">Monad</span> <a class="idref" href="ITree.Interp.HFunctor.html#h:29"><span class="id" title="variable">h</span></a>} {<a id="g_EqmR:32" class="idref" href="#g_EqmR:32"><span class="id" title="binder">g_EqmR</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#EqmR"><span class="id" title="class">EqmR</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#g:28"><span class="id" title="variable">g</span></a>} {<a id="h_EqmR:33" class="idref" href="#h_EqmR:33"><span class="id" title="binder">h_EqmR</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#EqmR"><span class="id" title="class">EqmR</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#h:29"><span class="id" title="variable">h</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<a id="g_EQM:34" class="idref" href="#g_EQM:34"><span class="id" title="binder">g_EQM</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#EQM"><span class="id" title="class">EQM</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#g:28"><span class="id" title="variable">g</span></a> <span class="id" title="var">_</span>} {<a id="h_EQM:35" class="idref" href="#h_EQM:35"><span class="id" title="binder">h_EQM</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#EQM"><span class="id" title="class">EQM</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#h:29"><span class="id" title="variable">h</span></a> <span class="id" title="var">_</span>} <a id="X:36" class="idref" href="#X:36"><span class="id" title="binder">X</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="ITree.Interp.HFunctor.html#pointwise_eqmR"><span class="id" title="definition">pointwise_eqmR</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#g:28"><span class="id" title="variable">g</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#h:29"><span class="id" title="variable">h</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#eqmR"><span class="id" title="method">eqmR</span></a> (<span class="id" title="var">m</span> := <a class="idref" href="ITree.Interp.HFunctor.html#f:22"><span class="id" title="variable">f</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#g:28"><span class="id" title="variable">g</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#eqmR"><span class="id" title="method">eqmR</span></a> (<span class="id" title="var">m</span> := <a class="idref" href="ITree.Interp.HFunctor.html#f:22"><span class="id" title="variable">f</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#h:29"><span class="id" title="variable">h</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a>) (<span class="id" title="keyword">fun</span> <a id="x:37" class="idref" href="#x:37"><span class="id" title="binder">x</span></a> =&gt; @<a class="idref" href="ITree.Interp.HFunctor.html#hfmap"><span class="id" title="method">hfmap</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#f:22"><span class="id" title="variable">f</span></a> <span class="id" title="var">_</span> <a class="idref" href="ITree.Interp.HFunctor.html#g:28"><span class="id" title="variable">g</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#h:29"><span class="id" title="variable">h</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#x:37"><span class="id" title="variable">x</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#X:36"><span class="id" title="variable">X</span></a>).<br/>

<br/>
<span class="comment">(*&nbsp;Standard&nbsp;well-formedness&nbsp;property&nbsp;for&nbsp;higher-order&nbsp;functors&nbsp;*)</span><br/>
<span class="id" title="keyword">Class</span> <a id="HFunctorLaws" class="idref" href="#HFunctorLaws"><span class="id" title="record">HFunctorLaws</span></a> (<a id="f:39" class="idref" href="#f:39"><span class="id" title="binder">f</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">Type</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Type</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Type</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<a id="f_Hfunctor:40" class="idref" href="#f_Hfunctor:40"><span class="id" title="binder">f_Hfunctor</span></a> : <a class="idref" href="ITree.Interp.HFunctor.html#HFunctor"><span class="id" title="class">HFunctor</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#f:39"><span class="id" title="variable">f</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="f_WF_MonadTLaws:43" class="idref" href="#f_WF_MonadTLaws:43"><span class="id" title="binder">f_WF_MonadTLaws</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonadT.html#WF_IterativeMonadT"><span class="id" title="class">WF_IterativeMonadT</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#f:39"><span class="id" title="variable">f</span></a>} :=<br/>
&nbsp;&nbsp;{ <a id="hfmap_id" class="idref" href="#hfmap_id"><span class="id" title="projection">hfmap_id</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="T:45" class="idref" href="#T:45"><span class="id" title="binder">T</span></a> (<a id="g:46" class="idref" href="#g:46"><span class="id" title="binder">g</span></a> : <span class="id" title="keyword">Type</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Type</span>) `{<a id="g_EQM:49" class="idref" href="#g_EQM:49"><span class="id" title="binder">g_EQM</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#EQM"><span class="id" title="class">EQM</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#g:46"><span class="id" title="variable">g</span></a>} (<a id="t:50" class="idref" href="#t:50"><span class="id" title="binder">t</span></a> : <a class="idref" href="ITree.Interp.HFunctor.html#f:39"><span class="id" title="variable">f</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#g:46"><span class="id" title="variable">g</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#T:45"><span class="id" title="variable">T</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.Interp.HFunctor.html#hfmap"><span class="id" title="method">hfmap</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> <a id="x:51" class="idref" href="#x:51"><span class="id" title="binder">x</span></a> =&gt; <a class="idref" href="ITree.Interp.HFunctor.html#x:51"><span class="id" title="variable">x</span></a>) <a class="idref" href="ITree.Interp.HFunctor.html#t:50"><span class="id" title="variable">t</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">≈{</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a><a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">}</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#t:50"><span class="id" title="variable">t</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="hfmap_nat" class="idref" href="#hfmap_nat"><span class="id" title="projection">hfmap_nat</span></a> :&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<a id="g:53" class="idref" href="#g:53"><span class="id" title="binder">g</span></a> <a id="h:54" class="idref" href="#h:54"><span class="id" title="binder">h</span></a> : <span class="id" title="keyword">Type</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<a id="g_Monad:55" class="idref" href="#g_Monad:55"><span class="id" title="binder">g_Monad</span></a> : <span class="id" title="class">Monad</span> <a class="idref" href="ITree.Interp.HFunctor.html#g:53"><span class="id" title="variable">g</span></a>} {<a id="h_Monad:56" class="idref" href="#h_Monad:56"><span class="id" title="binder">h_Monad</span></a> : <span class="id" title="class">Monad</span> <a class="idref" href="ITree.Interp.HFunctor.html#h:54"><span class="id" title="variable">h</span></a>} {<a id="g_EqmR:57" class="idref" href="#g_EqmR:57"><span class="id" title="binder">g_EqmR</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#EqmR"><span class="id" title="class">EqmR</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#g:53"><span class="id" title="variable">g</span></a>} {<a id="h_EqmR:58" class="idref" href="#h_EqmR:58"><span class="id" title="binder">h_EqmR</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#EqmR"><span class="id" title="class">EqmR</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#h:54"><span class="id" title="variable">h</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<a id="g_EQM:59" class="idref" href="#g_EQM:59"><span class="id" title="binder">g_EQM</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#EQM"><span class="id" title="class">EQM</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#g:53"><span class="id" title="variable">g</span></a> <span class="id" title="var">_</span>} {<a id="h_EQM:60" class="idref" href="#h_EQM:60"><span class="id" title="binder">h_EQM</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#EQM"><span class="id" title="class">EQM</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#h:54"><span class="id" title="variable">h</span></a> <span class="id" title="var">_</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="F:62" class="idref" href="#F:62"><span class="id" title="binder">F</span></a> : <span class="id" title="keyword">forall</span> <a id="T:61" class="idref" href="#T:61"><span class="id" title="binder">T</span></a>, <a class="idref" href="ITree.Interp.HFunctor.html#g:53"><span class="id" title="variable">g</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#T:61"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#h:54"><span class="id" title="variable">h</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#T:61"><span class="id" title="variable">T</span></a>) {<a id="F_Nat:63" class="idref" href="#F_Nat:63"><span class="id" title="binder">F_Nat</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonadT.html#MonadMorphism"><span class="id" title="class">MonadMorphism</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="ITree.Interp.HFunctor.html#F:62"><span class="id" title="variable">F</span></a>},<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.EqmR.EqmRMonadT.html#MonadMorphism"><span class="id" title="class">MonadMorphism</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="ITree.Interp.HFunctor.html#hfmap"><span class="id" title="method">hfmap</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#F:62"><span class="id" title="variable">F</span></a>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="hfmap_proper" class="idref" href="#hfmap_proper"><span class="id" title="projection">hfmap_proper</span></a> :&gt; <a class="idref" href="ITree.Interp.HFunctor.html#HFmapProper"><span class="id" title="class">HFmapProper</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#f:39"><span class="id" title="variable">f</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#f_Hfunctor:40"><span class="id" title="variable">f_Hfunctor</span></a><br/>
&nbsp;&nbsp;}.<br/>

<br/>
<span class="comment">(*&nbsp;Well-formedness&nbsp;properties&nbsp;of&nbsp;higher-order&nbsp;functors&nbsp;w.r.t.&nbsp;iterative&nbsp;monads&nbsp;*)</span><br/>
<span class="id" title="keyword">Class</span> <a id="HFunctorLawsExtra" class="idref" href="#HFunctorLawsExtra"><span class="id" title="record">HFunctorLawsExtra</span></a> (<a id="f:66" class="idref" href="#f:66"><span class="id" title="binder">f</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">Type</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Type</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Type</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<a id="f_Hfunctor:67" class="idref" href="#f_Hfunctor:67"><span class="id" title="binder">f_Hfunctor</span></a> : <a class="idref" href="ITree.Interp.HFunctor.html#HFunctor"><span class="id" title="class">HFunctor</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#f:66"><span class="id" title="variable">f</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="f_WF_MonadTLaws:70" class="idref" href="#f_WF_MonadTLaws:70"><span class="id" title="binder">f_WF_MonadTLaws</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonadT.html#WF_IterativeMonadT"><span class="id" title="class">WF_IterativeMonadT</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#f:66"><span class="id" title="variable">f</span></a>} :=<br/>
&nbsp;&nbsp;{ <a id="hfmap_lift" class="idref" href="#hfmap_lift"><span class="id" title="projection">hfmap_lift</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<a id="T:72" class="idref" href="#T:72"><span class="id" title="binder">T</span></a> : <span class="id" title="keyword">Type</span>) (<a id="g:73" class="idref" href="#g:73"><span class="id" title="binder">g</span></a> <a id="h:74" class="idref" href="#h:74"><span class="id" title="binder">h</span></a> : <span class="id" title="keyword">Type</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="g_IM:78" class="idref" href="#g_IM:78"><span class="id" title="binder">g_IM</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonadT.html#WF_IterativeMonad"><span class="id" title="class">WF_IterativeMonad</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#g:73"><span class="id" title="variable">g</span></a>} `{<a id="h_IM:82" class="idref" href="#h_IM:82"><span class="id" title="binder">h_IM</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonadT.html#WF_IterativeMonad"><span class="id" title="class">WF_IterativeMonad</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#h:74"><span class="id" title="variable">h</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="F:83" class="idref" href="#F:83"><span class="id" title="binder">F</span></a> : <a class="idref" href="ITree.Interp.HFunctor.html#g:73"><span class="id" title="variable">g</span></a> <a class="idref" href="ITree.Basics.Basics.html#f7397da22bdab7f77b06c5d98764e7b9"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#h:74"><span class="id" title="variable">h</span></a>) {<a id="F_MNT:84" class="idref" href="#F_MNT:84"><span class="id" title="binder">F_MNT</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonadT.html#MonadMorphism"><span class="id" title="class">MonadMorphism</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="ITree.Interp.HFunctor.html#F:83"><span class="id" title="variable">F</span></a>} (<a id="t:85" class="idref" href="#t:85"><span class="id" title="binder">t</span></a> : <a class="idref" href="ITree.Interp.HFunctor.html#g:73"><span class="id" title="variable">g</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#T:72"><span class="id" title="variable">T</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.Interp.HFunctor.html#hfmap"><span class="id" title="method">hfmap</span></a> (<span class="id" title="var">f</span> := <a class="idref" href="ITree.Interp.HFunctor.html#f:66"><span class="id" title="variable">f</span></a>) <a class="idref" href="ITree.Interp.HFunctor.html#F:83"><span class="id" title="variable">F</span></a> (<a class="idref" href="ITree.EqmR.EqmRMonadT.html#lift"><span class="id" title="method">EqmRMonadT.lift</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#t:85"><span class="id" title="variable">t</span></a>) <a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">≈{</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a><a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">}</span></a> <a class="idref" href="ITree.EqmR.EqmRMonadT.html#lift"><span class="id" title="method">EqmRMonadT.lift</span></a> (<a class="idref" href="ITree.Interp.HFunctor.html#F:83"><span class="id" title="variable">F</span></a> <span class="id" title="var">_</span> <a class="idref" href="ITree.Interp.HFunctor.html#t:85"><span class="id" title="variable">t</span></a>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="hfmap_iter" class="idref" href="#hfmap_iter"><span class="id" title="projection">hfmap_iter</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<a id="g:87" class="idref" href="#g:87"><span class="id" title="binder">g</span></a> <a id="h:88" class="idref" href="#h:88"><span class="id" title="binder">h</span></a> : <span class="id" title="keyword">Type</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="g_IM:92" class="idref" href="#g_IM:92"><span class="id" title="binder">g_IM</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonadT.html#WF_IterativeMonad"><span class="id" title="class">WF_IterativeMonad</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#g:87"><span class="id" title="variable">g</span></a>} `{<a id="h_IM:96" class="idref" href="#h_IM:96"><span class="id" title="binder">h_IM</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonadT.html#WF_IterativeMonad"><span class="id" title="class">WF_IterativeMonad</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#h:88"><span class="id" title="variable">h</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="F:98" class="idref" href="#F:98"><span class="id" title="binder">F</span></a> : <span class="id" title="keyword">forall</span> <a id="T:97" class="idref" href="#T:97"><span class="id" title="binder">T</span></a> : <span class="id" title="keyword">Type</span>, <a class="idref" href="ITree.Interp.HFunctor.html#g:87"><span class="id" title="variable">g</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#T:97"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#h:88"><span class="id" title="variable">h</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#T:97"><span class="id" title="variable">T</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="ITree.EqmR.EqmRMonadT.html#MonadMorphism"><span class="id" title="class">MonadMorphism</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#g:87"><span class="id" title="variable">g</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#h:88"><span class="id" title="variable">h</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="ITree.Interp.HFunctor.html#F:98"><span class="id" title="variable">F</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="ITree.EqmR.EqmRMonadT.html#IterMorphism"><span class="id" title="class">IterMorphism</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#g:87"><span class="id" title="variable">g</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#h:88"><span class="id" title="variable">h</span></a> <span class="id" title="var">_</span> <a class="idref" href="ITree.Interp.HFunctor.html#F:98"><span class="id" title="variable">F</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="ITree.EqmR.EqmRMonadT.html#IterMorphism"><span class="id" title="class">IterMorphism</span></a> (<a class="idref" href="ITree.Interp.HFunctor.html#f:66"><span class="id" title="variable">f</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#g:87"><span class="id" title="variable">g</span></a>) (<a class="idref" href="ITree.Interp.HFunctor.html#f:66"><span class="id" title="variable">f</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#h:88"><span class="id" title="variable">h</span></a>) <span class="id" title="var">_</span> (@<a class="idref" href="ITree.Interp.HFunctor.html#hfmap"><span class="id" title="method">hfmap</span></a> <span class="id" title="var">_</span> <a class="idref" href="ITree.Interp.HFunctor.html#f_Hfunctor:67"><span class="id" title="variable">f_Hfunctor</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#g:87"><span class="id" title="variable">g</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#h:88"><span class="id" title="variable">h</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#F:98"><span class="id" title="variable">F</span></a>) <span class="id" title="var">_</span> <span class="id" title="var">_</span>;<br/>
&nbsp;&nbsp;}.<br/>

<br/>
<span class="id" title="keyword">Class</span> <a id="WF_HFunctor" class="idref" href="#WF_HFunctor"><span class="id" title="record">WF_HFunctor</span></a> (<a id="T:100" class="idref" href="#T:100"><span class="id" title="binder">T</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">Type</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Type</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Type</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Type</span>) {<a id="T_HFunctor:101" class="idref" href="#T_HFunctor:101"><span class="id" title="binder">T_HFunctor</span></a> : <a class="idref" href="ITree.Interp.HFunctor.html#HFunctor"><span class="id" title="class">HFunctor</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#T:100"><span class="id" title="variable">T</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="M_IterativeMonadT:104" class="idref" href="#M_IterativeMonadT:104"><span class="id" title="binder">M_IterativeMonadT</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonadT.html#WF_IterativeMonadT"><span class="id" title="class">WF_IterativeMonadT</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#T:100"><span class="id" title="variable">T</span></a>}:= {<br/>
&nbsp;&nbsp;<a id="T_HFunctorLaws" class="idref" href="#T_HFunctorLaws"><span class="id" title="projection">T_HFunctorLaws</span></a> :&gt; <a class="idref" href="ITree.Interp.HFunctor.html#HFunctorLaws"><span class="id" title="class">HFunctorLaws</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#T:100"><span class="id" title="variable">T</span></a>;<br/>
&nbsp;&nbsp;<a id="T_HFunctorLawsExtra" class="idref" href="#T_HFunctorLawsExtra"><span class="id" title="projection">T_HFunctorLawsExtra</span></a> :&gt; <a class="idref" href="ITree.Interp.HFunctor.html#HFunctorLawsExtra"><span class="id" title="class">HFunctorLawsExtra</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#T:100"><span class="id" title="variable">T</span></a>; }.<br/>

<br/>
<span class="id" title="keyword">Import</span> <a class="idref" href="ITree.Basics.Basics.html#Monads"><span class="id" title="module">Monads</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="HFunctorInstances" class="idref" href="#HFunctorInstances"><span class="id" title="section">HFunctorInstances</span></a>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;State&nbsp;transformer&nbsp;forms&nbsp;a&nbsp;higher-order&nbsp;functor&nbsp;and&nbsp;respects&nbsp;well-formedness<br/>
&nbsp;&nbsp;&nbsp;&nbsp;laws.&nbsp;*)</span><br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="stateT_HFunctor" class="idref" href="#stateT_HFunctor"><span class="id" title="instance">stateT_HFunctor</span></a> {<a id="S:108" class="idref" href="#S:108"><span class="id" title="binder">S</span></a>} : <a class="idref" href="ITree.Interp.HFunctor.html#HFunctor"><span class="id" title="class">HFunctor</span></a> (<a class="idref" href="ITree.Basics.Basics.html#Monads.stateT"><span class="id" title="definition">stateT</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#S:108"><span class="id" title="variable">S</span></a>) :=<br/>
&nbsp;&nbsp;{| <a class="idref" href="ITree.Interp.HFunctor.html#ffmap"><span class="id" title="method">ffmap</span></a> := <span class="id" title="keyword">fun</span> <a id="A:109" class="idref" href="#A:109"><span class="id" title="binder">A</span></a> <a id="B:110" class="idref" href="#B:110"><span class="id" title="binder">B</span></a> <a id="g:111" class="idref" href="#g:111"><span class="id" title="binder">g</span></a> <span class="id" title="var">_</span> <a id="f:112" class="idref" href="#f:112"><span class="id" title="binder">f</span></a> <a id="x:113" class="idref" href="#x:113"><span class="id" title="binder">x</span></a> <a id="s:114" class="idref" href="#s:114"><span class="id" title="binder">s</span></a> =&gt; <span class="id" title="method">fmap</span> (<span class="id" title="keyword">fun</span> '<a id="pat:117" class="idref" href="#pat:117"><span class="id" title="binder">(</span></a><a id="pat:117" class="idref" href="#pat:117"><span class="id" title="binder">s'</span></a><a id="pat:117" class="idref" href="#pat:117"><span class="id" title="binder">,</span></a> <a id="pat:117" class="idref" href="#pat:117"><span class="id" title="binder">a</span></a><a id="pat:117" class="idref" href="#pat:117"><span class="id" title="binder">)</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="ITree.Interp.HFunctor.html#s':116"><span class="id" title="variable">s'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#f:112"><span class="id" title="variable">f</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#a:115"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) (<a class="idref" href="ITree.Interp.HFunctor.html#x:113"><span class="id" title="variable">x</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#s:114"><span class="id" title="variable">s</span></a>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.Interp.HFunctor.html#hfmap"><span class="id" title="method">hfmap</span></a> := <span class="id" title="keyword">fun</span> <a id="g:118" class="idref" href="#g:118"><span class="id" title="binder">g</span></a> <a id="h:119" class="idref" href="#h:119"><span class="id" title="binder">h</span></a> <a id="f:120" class="idref" href="#f:120"><span class="id" title="binder">f</span></a> <span class="id" title="var">_</span> <a id="x:121" class="idref" href="#x:121"><span class="id" title="binder">x</span></a> <a id="s:122" class="idref" href="#s:122"><span class="id" title="binder">s</span></a> =&gt; <a class="idref" href="ITree.Interp.HFunctor.html#f:120"><span class="id" title="variable">f</span></a> <span class="id" title="var">_</span> (<a class="idref" href="ITree.Interp.HFunctor.html#x:121"><span class="id" title="variable">x</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#s:122"><span class="id" title="variable">s</span></a>) |}.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="var">Existing</span> <span class="id" title="keyword">Instance</span> <span class="id" title="var">stateT_HFunctor</span> | 0.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Arguments</span> <a class="idref" href="ITree.EqmR.EqmRMonadT.html#lift"><span class="id" title="method">EqmRMonadT.lift</span></a> /.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="stateT_HFunctorLaws" class="idref" href="#stateT_HFunctorLaws"><span class="id" title="instance">stateT_HFunctorLaws</span></a> {<a id="S:123" class="idref" href="#S:123"><span class="id" title="binder">S</span></a>} {<a id="inh_S:124" class="idref" href="#inh_S:124"><span class="id" title="binder">inh_S</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#inhabited"><span class="id" title="class">inhabited</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#S:123"><span class="id" title="variable">S</span></a>}:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="ITree.Interp.HFunctor.html#HFunctorLaws"><span class="id" title="class">HFunctorLaws</span></a> (<a class="idref" href="ITree.Basics.Basics.html#Monads.stateT"><span class="id" title="definition">stateT</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#S:123"><span class="id" title="variable">S</span></a>) <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="ITree.Basics.MonadState.html#stateT_WF_IterativeMonadT"><span class="id" title="instance">stateT_WF_IterativeMonadT</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#inh_S:124"><span class="id" title="variable">inh_S</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.RelationClasses.html#reflexivity"><span class="id" title="definition">reflexivity</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="var">cycle</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">F_Nat</span>. <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#Proper_eqmR_cong"><span class="id" title="instance">Proper_eqmR_cong</span></a>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.EqmR.EqmRMonadT.html#morph_ret"><span class="id" title="definition">morph_ret</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.RelationClasses.html#reflexivity"><span class="id" title="definition">reflexivity</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#eqmR_ret"><span class="id" title="method">eqmR_ret</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">F_Nat</span>. <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.EqmR.EqmRMonadT.html#morph_bind"><span class="id" title="definition">morph_bind</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span>, <span class="id" title="var">a'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span> : <span class="id" title="var">inv</span> <span class="id" title="var">H2</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.EqmR.EqmRMonadT.html#morph_proper"><span class="id" title="definition">morph_proper</span></a>; <span class="id" title="tactic">eauto</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Unshelve</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">F_Nat</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#Proper_eqmR"><span class="id" title="method">Proper_eqmR</span></a>. <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#prod_rel_eq"><span class="id" title="lemma">prod_rel_eq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">H</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#Proper_eqmR_mono"><span class="id" title="method">Proper_eqmR_mono</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="var">inv</span> <span class="id" title="var">H2</span> ;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="prod_sum_dist_rel" class="idref" href="#prod_sum_dist_rel"><span class="id" title="definition">prod_sum_dist_rel</span></a> {<a id="A:125" class="idref" href="#A:125"><span class="id" title="binder">A</span></a> <a id="B:126" class="idref" href="#B:126"><span class="id" title="binder">B</span></a> <a id="C:127" class="idref" href="#C:127"><span class="id" title="binder">C</span></a>} : <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#relationH"><span class="id" title="definition">relationH</span></a> (<a class="idref" href="ITree.Interp.HFunctor.html#A:125"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#B:126"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">+</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#A:125"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#C:127"><span class="id" title="variable">C</span></a>) (<a class="idref" href="ITree.Interp.HFunctor.html#A:125"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">(</span></a><a class="idref" href="ITree.Interp.HFunctor.html#B:126"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">+</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#C:127"><span class="id" title="variable">C</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">)</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="x:128" class="idref" href="#x:128"><span class="id" title="binder">x</span></a> '<a id="pat:131" class="idref" href="#pat:131"><span class="id" title="binder">(</span></a><a id="pat:131" class="idref" href="#pat:131"><span class="id" title="binder">s</span></a><a id="pat:131" class="idref" href="#pat:131"><span class="id" title="binder">,</span></a> <a id="pat:131" class="idref" href="#pat:131"><span class="id" title="binder">y</span></a><a id="pat:131" class="idref" href="#pat:131"><span class="id" title="binder">)</span></a> =&gt; <span class="id" title="keyword">match</span> <a class="idref" href="ITree.Interp.HFunctor.html#x:128"><span class="id" title="variable">x</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">s'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">i</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="ITree.Interp.HFunctor.html#y:129"><span class="id" title="variable">y</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <span class="id" title="var">i'</span> =&gt; <span class="id" title="var">s'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#s:130"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">i'</span> | <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#False"><span class="id" title="inductive">False</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">s'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">r</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="ITree.Interp.HFunctor.html#y:129"><span class="id" title="variable">y</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <span class="id" title="var">r'</span> =&gt; <span class="id" title="var">s'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#s:130"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <span class="id" title="var">r</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">r'</span> | <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#False"><span class="id" title="inductive">False</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="sum_comm_rel" class="idref" href="#sum_comm_rel"><span class="id" title="definition">sum_comm_rel</span></a> {<a id="A:135" class="idref" href="#A:135"><span class="id" title="binder">A</span></a> <a id="B:136" class="idref" href="#B:136"><span class="id" title="binder">B</span></a> <a id="C:137" class="idref" href="#C:137"><span class="id" title="binder">C</span></a>} : <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#relationH"><span class="id" title="definition">relationH</span></a> (<a class="idref" href="ITree.Interp.HFunctor.html#A:135"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">(</span></a><a class="idref" href="ITree.Interp.HFunctor.html#B:136"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">+</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#C:137"><span class="id" title="variable">C</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">)</span></a>) (<a class="idref" href="ITree.Interp.HFunctor.html#B:136"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">(</span></a><a class="idref" href="ITree.Interp.HFunctor.html#A:135"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">+</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#C:137"><span class="id" title="variable">C</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">)</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="x:138" class="idref" href="#x:138"><span class="id" title="binder">x</span></a> <a id="y:139" class="idref" href="#y:139"><span class="id" title="binder">y</span></a> =&gt; <span class="id" title="keyword">match</span> <a class="idref" href="ITree.Interp.HFunctor.html#x:138"><span class="id" title="variable">x</span></a>, <a class="idref" href="ITree.Interp.HFunctor.html#y:139"><span class="id" title="variable">y</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <span class="id" title="var">a</span>, <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <span class="id" title="var">a'</span>) =&gt; <span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">a'</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <span class="id" title="var">b</span>), <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <span class="id" title="var">b'</span> =&gt; <span class="id" title="var">b</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">b'</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <span class="id" title="var">c</span>), <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <span class="id" title="var">c'</span>) =&gt; <span class="id" title="var">c</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">c'</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span>, <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#False"><span class="id" title="inductive">False</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Arguments</span> <a class="idref" href="ITree.Interp.HFunctor.html#prod_sum_dist_rel"><span class="id" title="definition">prod_sum_dist_rel</span></a> /.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span> <span class="id" title="var">crush</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">crunch</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [ <span class="id" title="var">H</span> : (<span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <span class="id" title="var">_</span>)%<span class="id" title="keyword">type</span> |- <span class="id" title="var">_</span> ] =&gt; <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [ <span class="id" title="var">H</span> : (<span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">+</span></a> <span class="id" title="var">_</span>)%<span class="id" title="keyword">type</span> |- <span class="id" title="var">_</span> ] =&gt; <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span> <span class="id" title="var">done</span> := <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">solve</span> [<span class="id" title="tactic">apply</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#final"><span class="id" title="definition">final</span></a>; <span class="id" title="tactic">reflexivity</span> | <span class="id" title="var">crush</span> ; <span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#final"><span class="id" title="definition">final</span></a>; <span class="id" title="var">crush</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="var">crush</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">solve</span> [<span class="id" title="tactic">eauto</span> | <span class="id" title="tactic">tauto</span> | <span class="id" title="tactic">reflexivity</span>]].<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="stateT_HFunctorLawsExt" class="idref" href="#stateT_HFunctorLawsExt"><span class="id" title="instance">stateT_HFunctorLawsExt</span></a> {<a id="S:142" class="idref" href="#S:142"><span class="id" title="binder">S</span></a>} {<a id="inh_S:143" class="idref" href="#inh_S:143"><span class="id" title="binder">inh_S</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#inhabited"><span class="id" title="class">inhabited</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#S:142"><span class="id" title="variable">S</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="ITree.Interp.HFunctor.html#HFunctorLawsExtra"><span class="id" title="class">HFunctorLawsExtra</span></a> (<a class="idref" href="ITree.Basics.Basics.html#Monads.stateT"><span class="id" title="definition">stateT</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#S:142"><span class="id" title="variable">S</span></a>) <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="ITree.Basics.MonadState.html#stateT_WF_IterativeMonadT"><span class="id" title="instance">stateT_WF_IterativeMonadT</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#inh_S:143"><span class="id" title="variable">inh_S</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">F_MNT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="method">fmap</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#Proper_eqmR_cong"><span class="id" title="instance">Proper_eqmR_cong</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.EqmR.EqmRMonadT.html#morph_bind"><span class="id" title="definition">morph_bind</span></a>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span> : <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">subst</span> ; <span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>. <span class="id" title="var">Unshelve</span>. 3 : <span class="id" title="tactic">exact</span> (<span class="id" title="keyword">fun</span> <a id="x:145" class="idref" href="#x:145"><span class="id" title="binder">x</span></a> =&gt; <span class="id" title="method">ret</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">s'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#x:144"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>). <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#Proper_eqmR"><span class="id" title="method">Proper_eqmR</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#prod_rel_eq"><span class="id" title="lemma">prod_rel_eq</span></a>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#Proper_bind"><span class="id" title="definition">Proper_bind</span></a>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="ITree.EqmR.EqmRMonadT.html#morph_ret"><span class="id" title="definition">morph_ret</span></a>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#Proper_eqmR"><span class="id" title="method">Proper_eqmR</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#prod_rel_eq"><span class="id" title="lemma">prod_rel_eq</span></a>; <span class="id" title="tactic">reflexivity</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="ITree.EqmR.EqmRMonadT.html#morph"><span class="id" title="definition">EqmRMonadT.morph</span></a> <span class="id" title="tactic">in</span> *. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">intros</span>; <span class="id" title="var">cbn</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">i0</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H1</span> <span class="id" title="var">i0</span> <span class="id" title="var">s</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#Proper_eqmR"><span class="id" title="method">Proper_eqmR</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>; <span class="id" title="var">cycle</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#prod_rel_eq"><span class="id" title="lemma">prod_rel_eq</span></a>; <span class="id" title="tactic">reflexivity</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etransitivity</span>;<span class="id" title="var">cycle</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#Proper_bind"><span class="id" title="definition">Proper_bind</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">k1</span> := <span class="id" title="keyword">fun</span> <a id="a2:147" class="idref" href="#a2:147"><span class="id" title="binder">a2</span></a> =&gt; <span class="id" title="method">ret</span> <span class="id" title="keyword">match</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#a2:146"><span class="id" title="variable">a2</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <span class="id" title="var">i'</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#a2:146"><span class="id" title="variable">a2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">i'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <span class="id" title="var">r</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#a2:146"><span class="id" title="variable">a2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">r</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>). <span class="id" title="tactic">eapply</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span> : <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">reflexivity</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etransitivity</span>; <span class="id" title="var">cycle</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#Proper_eqmR_mono"><span class="id" title="method">Proper_eqmR_mono</span></a>; <span class="id" title="var">cycle</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#Proper_bind"><span class="id" title="definition">Proper_bind</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">A1</span> := (<span class="id" title="var">S</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a><span class="id" title="var">I</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">+</span></a> <span class="id" title="var">S</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a><span class="id" title="var">R</span>)%<span class="id" title="keyword">type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">RR</span> := <a class="idref" href="ITree.Interp.HFunctor.html#prod_sum_dist_rel"><span class="id" title="definition">prod_sum_dist_rel</span></a>) (<span class="id" title="var">RB</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a>) (<span class="id" title="var">k1</span> := <span class="id" title="method">ret</span>); <span class="id" title="tactic">try</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.EqmR.EqmRMonadT.html#MM_morph_proper"><span class="id" title="method">MM_morph_proper</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">x</span> := (<a id="x:150" class="idref" href="#x:150"><span class="id" title="binder">x</span></a> <span class="id" title="notation">&lt;-</span> <span class="id" title="var">t</span> <span class="id" title="var">i0</span> <span class="id" title="var">s</span> <span class="id" title="notation">;;</span> <span class="id" title="method">ret</span> <span class="id" title="keyword">match</span> <a class="idref" href="ITree.Interp.HFunctor.html#x:148"><span class="id" title="variable">x</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">s</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <span class="id" title="var">i</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> =&gt; (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">s</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">i</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">s</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <span class="id" title="var">r</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> =&gt; (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">s</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">r</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#Proper_eqmR_cong"><span class="id" title="instance">Proper_eqmR_cong</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2 : <span class="id" title="tactic">symmetry</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#bind_ret_r"><span class="id" title="definition">bind_ret_r</span></a>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#Proper_bind"><span class="id" title="definition">Proper_bind</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">RR</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a>); [ <span class="id" title="tactic">reflexivity</span> | ..]; <span class="id" title="var">done</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.Morphisms.html#subrelation_refl"><span class="id" title="lemma">subrelation_refl</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">destruct</span> <span class="id" title="var">g_IM</span>, <span class="id" title="var">h_IM</span>, <span class="id" title="var">M_EQM</span>, <span class="id" title="var">M_EQM0</span>. <span class="id" title="tactic">rename</span> <span class="id" title="var">H</span> <span class="id" title="var">into</span> <span class="id" title="var">F_Nat</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">F_Nat</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">MM_morph_bind</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">MM_morph_bind</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#bind_ret_r"><span class="id" title="definition">bind_ret_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">MM_morph_bind</span> (<span class="id" title="var">S</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">(</span></a><span class="id" title="var">I</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">+</span></a> <span class="id" title="var">R</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">)</span></a>)%<span class="id" title="keyword">type</span> <span class="id" title="var">_</span> (<span class="id" title="var">S</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a><span class="id" title="var">I</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">+</span></a> <span class="id" title="var">S</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a><span class="id" title="var">R</span>)%<span class="id" title="keyword">type</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> (<span class="id" title="var">t</span> <span class="id" title="var">i0</span> <span class="id" title="var">s</span>) (<span class="id" title="var">t</span> <span class="id" title="var">i0</span> <span class="id" title="var">s</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <span class="id" title="var">MM_morph_bind</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [ <span class="id" title="var">done</span> | <span class="id" title="tactic">reflexivity</span> ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etransitivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#Proper_bind"><span class="id" title="definition">Proper_bind</span></a>; [ <span class="id" title="tactic">reflexivity</span> | .. ]; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">MM_morph_ret</span> ; <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> &lt;- <a class="idref" href="ITree.EqmR.EqmRMonad.html#bind_ret_r"><span class="id" title="definition">bind_ret_r</span></a> <span class="id" title="tactic">at</span> 5.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#Proper_bind"><span class="id" title="definition">Proper_bind</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <span class="id" title="var">MM_morph_proper</span>. <span class="id" title="tactic">setoid_rewrite</span> &lt;- <a class="idref" href="ITree.EqmR.EqmRMonad.html#bind_ret_r"><span class="id" title="definition">bind_ret_r</span></a> <span class="id" title="tactic">at</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#Proper_bind"><span class="id" title="definition">Proper_bind</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">RB</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Program.Basics.html#flip"><span class="id" title="definition">flip</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#prod_sum_dist_rel"><span class="id" title="definition">prod_sum_dist_rel</span></a>); [ <span class="id" title="tactic">reflexivity</span> | .. ]; <span class="id" title="var">done</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span> : <span class="id" title="var">done</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Error&nbsp;transformer&nbsp;forms&nbsp;a&nbsp;higher-order&nbsp;functor&nbsp;and&nbsp;respects&nbsp;well-formedness<br/>
&nbsp;&nbsp;&nbsp;&nbsp;laws.&nbsp;*)</span><br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="errorT_HFunctor" class="idref" href="#errorT_HFunctor"><span class="id" title="instance">errorT_HFunctor</span></a> {<a id="exn:152" class="idref" href="#exn:152"><span class="id" title="binder">exn</span></a>} : <a class="idref" href="ITree.Interp.HFunctor.html#HFunctor"><span class="id" title="class">HFunctor</span></a> (<a class="idref" href="ITree.EqmR.Monads.ErrorT.html#errorT"><span class="id" title="definition">errorT</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#exn:152"><span class="id" title="variable">exn</span></a>) :=<br/>
&nbsp;&nbsp;{| <a class="idref" href="ITree.Interp.HFunctor.html#ffmap"><span class="id" title="method">ffmap</span></a> := <span class="id" title="keyword">fun</span> <a id="A:153" class="idref" href="#A:153"><span class="id" title="binder">A</span></a> <a id="B:154" class="idref" href="#B:154"><span class="id" title="binder">B</span></a> <a id="g:155" class="idref" href="#g:155"><span class="id" title="binder">g</span></a> <span class="id" title="var">_</span> <a id="f:156" class="idref" href="#f:156"><span class="id" title="binder">f</span></a> <a id="x:157" class="idref" href="#x:157"><span class="id" title="binder">x</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="method">fmap</span> (<span class="id" title="keyword">fun</span> <a id="e:158" class="idref" href="#e:158"><span class="id" title="binder">e</span></a> =&gt; <span class="id" title="keyword">match</span> <a class="idref" href="ITree.Interp.HFunctor.html#e:158"><span class="id" title="variable">e</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <span class="id" title="var">e</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#e:158"><span class="id" title="variable">e</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <span class="id" title="var">a</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> (<a class="idref" href="ITree.Interp.HFunctor.html#f:156"><span class="id" title="variable">f</span></a> <span class="id" title="var">a</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>) <a class="idref" href="ITree.Interp.HFunctor.html#x:157"><span class="id" title="variable">x</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.Interp.HFunctor.html#hfmap"><span class="id" title="method">hfmap</span></a> := <span class="id" title="keyword">fun</span> <a id="g:160" class="idref" href="#g:160"><span class="id" title="binder">g</span></a> <a id="h:161" class="idref" href="#h:161"><span class="id" title="binder">h</span></a> <a id="f:162" class="idref" href="#f:162"><span class="id" title="binder">f</span></a> <span class="id" title="var">_</span> <a id="x:163" class="idref" href="#x:163"><span class="id" title="binder">x</span></a> =&gt; <a class="idref" href="ITree.Interp.HFunctor.html#f:162"><span class="id" title="variable">f</span></a> <span class="id" title="var">_</span> <a class="idref" href="ITree.Interp.HFunctor.html#x:163"><span class="id" title="variable">x</span></a> |}.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="var">Existing</span> <span class="id" title="keyword">Instance</span> <span class="id" title="var">errorT_HFunctor</span> | 0.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="errorT_HFunctorLaws" class="idref" href="#errorT_HFunctorLaws"><span class="id" title="instance">errorT_HFunctorLaws</span></a> {<a id="exn:164" class="idref" href="#exn:164"><span class="id" title="binder">exn</span></a>} : <a class="idref" href="ITree.Interp.HFunctor.html#HFunctorLaws"><span class="id" title="class">HFunctorLaws</span></a> (<a class="idref" href="ITree.EqmR.Monads.ErrorT.html#errorT"><span class="id" title="definition">errorT</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#exn:164"><span class="id" title="variable">exn</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *;<span class="id" title="var">cycle</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">destruct</span> <span class="id" title="var">F_Nat</span>. <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#Proper_eqmR_cong"><span class="id" title="instance">Proper_eqmR_cong</span></a>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.EqmR.EqmRMonadT.html#morph_ret"><span class="id" title="definition">morph_ret</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.RelationClasses.html#reflexivity"><span class="id" title="definition">reflexivity</span></a>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#eqmR_ret"><span class="id" title="method">eqmR_ret</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">destruct</span> <span class="id" title="var">F_Nat</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#Proper_eqmR_cong"><span class="id" title="instance">Proper_eqmR_cong</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.EqmR.EqmRMonadT.html#morph_bind"><span class="id" title="definition">morph_bind</span></a>; [<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.RelationClasses.html#reflexivity"><span class="id" title="definition">reflexivity</span></a> | ..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Unshelve</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3 : {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">X</span>. <span class="id" title="tactic">exact</span> (<span class="id" title="method">ret</span> (<span class="id" title="var">m</span> := <span class="id" title="var">g</span>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <span class="id" title="var">e</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<span class="id" title="var">k</span> <span class="id" title="var">a</span>). }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="var">shelve</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#Proper_bind"><span class="id" title="definition">Proper_bind</span></a>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.EqmR.EqmRMonadT.html#morph_proper"><span class="id" title="definition">morph_proper</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">all</span> : <span class="id" title="tactic">try</span> <span class="id" title="var">inv</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">MM_morph_proper</span>; <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">destruct</span> <span class="id" title="var">F_Nat</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.EqmR.EqmRMonadT.html#morph_proper"><span class="id" title="definition">morph_proper</span></a>; <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#Proper_eqmR"><span class="id" title="method">Proper_eqmR</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#sum_rel_eq"><span class="id" title="lemma">sum_rel_eq</span></a>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#Proper_eqmR_mono"><span class="id" title="method">Proper_eqmR_mono</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="var">inv</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="errorT_HFunctorLawsExt" class="idref" href="#errorT_HFunctorLawsExt"><span class="id" title="instance">errorT_HFunctorLawsExt</span></a> {<a id="exn:165" class="idref" href="#exn:165"><span class="id" title="binder">exn</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.Interp.HFunctor.html#HFunctorLawsExtra"><span class="id" title="class">HFunctorLawsExtra</span></a> (<a class="idref" href="ITree.EqmR.Monads.ErrorT.html#errorT"><span class="id" title="definition">errorT</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#exn:165"><span class="id" title="variable">exn</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="method">fmap</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">F_MNT</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#Proper_eqmR"><span class="id" title="method">Proper_eqmR</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#sum_rel_eq"><span class="id" title="lemma">sum_rel_eq</span></a>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>. <span class="id" title="var">etransitivity</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.EqmR.EqmRMonadT.html#morph_bind"><span class="id" title="definition">morph_bind</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2 , 3 : <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Unshelve</span>. 6 : <span class="id" title="tactic">exact</span> (<span class="id" title="keyword">fun</span> <a id="x:167" class="idref" href="#x:167"><span class="id" title="binder">x</span></a> =&gt; <span class="id" title="method">ret</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#x:166"><span class="id" title="variable">x</span></a>)). <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.RelationClasses.html#reflexivity"><span class="id" title="definition">reflexivity</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#Proper_bind"><span class="id" title="definition">Proper_bind</span></a>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.EqmR.EqmRMonadT.html#morph_ret"><span class="id" title="definition">morph_ret</span></a>. <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#Proper_eqmR"><span class="id" title="method">Proper_eqmR</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#sum_rel_eq"><span class="id" title="lemma">sum_rel_eq</span></a>; <span class="id" title="tactic">reflexivity</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="ITree.EqmR.EqmRMonadT.html#morph"><span class="id" title="definition">EqmRMonadT.morph</span></a> <span class="id" title="tactic">in</span> *. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">rename</span> <span class="id" title="var">H0</span> <span class="id" title="var">into</span> <span class="id" title="var">F_IM</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">F_IM</span>. <span class="id" title="tactic">intros</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H1</span> <span class="id" title="var">i0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#Proper_eqmR"><span class="id" title="method">Proper_eqmR</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>; <span class="id" title="var">cycle</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#sum_rel_eq"><span class="id" title="lemma">sum_rel_eq</span></a>; <span class="id" title="tactic">reflexivity</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H1</span>. <span class="id" title="tactic">rename</span> <span class="id" title="var">H</span> <span class="id" title="var">into</span> <span class="id" title="var">F_Nat</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">F_Nat</span>. <span class="id" title="tactic">symmetry</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">MM_morph_proper</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">MM_morph_proper</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etransitivity</span>; <span class="id" title="var">cycle</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#Proper_eqmR_mono"><span class="id" title="method">Proper_eqmR_mono</span></a>; <span class="id" title="var">cycle</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#Proper_bind"><span class="id" title="definition">Proper_bind</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">RR</span> := <a class="idref" href="ITree.Interp.HFunctor.html#sum_comm_rel"><span class="id" title="definition">sum_comm_rel</span></a>) (<span class="id" title="var">RB</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a>) (<span class="id" title="var">k1</span> := <span class="id" title="method">ret</span>); <span class="id" title="tactic">try</span> <span class="id" title="var">done</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">MM_morph_proper</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">x</span> := <a id="x:170" class="idref" href="#x:170"><span class="id" title="binder">x</span></a> <span class="id" title="notation">&lt;-</span> <span class="id" title="notation">(</span><span class="id" title="var">t</span> <span class="id" title="var">i0</span> : <span class="id" title="var">g</span> (<span class="id" title="var">exn</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">(</span></a><span class="id" title="var">I</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">+</span></a> <span class="id" title="var">R</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">)</span></a>)%<span class="id" title="keyword">type</span><span class="id" title="notation">)</span> <span class="id" title="notation">;;</span> <span class="id" title="method">ret</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="ITree.Interp.HFunctor.html#x:168"><span class="id" title="variable">x</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <span class="id" title="var">e</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <span class="id" title="var">e</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <span class="id" title="var">i</span>) =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <span class="id" title="var">i</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <span class="id" title="var">r</span>) =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <span class="id" title="var">r</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#Proper_eqmR_cong"><span class="id" title="instance">Proper_eqmR_cong</span></a>; [ <span class="id" title="tactic">reflexivity</span> | ..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">cbn</span>. <span class="id" title="tactic">symmetry</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#bind_ret_r"><span class="id" title="definition">bind_ret_r</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#Proper_bind"><span class="id" title="definition">Proper_bind</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">RR</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a>); [ <span class="id" title="tactic">reflexivity</span> | ..]; <span class="id" title="var">done</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.Morphisms.html#subrelation_refl"><span class="id" title="lemma">subrelation_refl</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">MM_morph_bind</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">MM_morph_bind</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#bind_ret_r"><span class="id" title="definition">bind_ret_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">MM_morph_bind</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="var">I</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">(</span></a><span class="id" title="var">exn</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">+</span></a> <span class="id" title="var">R</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">)</span></a>)%<span class="id" title="keyword">type</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> (<span class="id" title="var">t</span> <span class="id" title="var">i0</span>) (<span class="id" title="var">t</span> <span class="id" title="var">i0</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <span class="id" title="var">MM_morph_bind</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [ <span class="id" title="var">done</span> | <span class="id" title="tactic">reflexivity</span> ]. } }<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="MonadT_ID" class="idref" href="#MonadT_ID"><span class="id" title="instance">MonadT_ID</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonadT.html#MonadT"><span class="id" title="class">MonadT</span></a> (<span class="id" title="keyword">fun</span> <a id="x:172" class="idref" href="#x:172"><span class="id" title="binder">x</span></a> : <span class="id" title="keyword">Type</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Type</span> =&gt; <a class="idref" href="ITree.Interp.HFunctor.html#x:172"><span class="id" title="variable">x</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">red</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="ID_HFunctor" class="idref" href="#ID_HFunctor"><span class="id" title="instance">ID_HFunctor</span></a> : <a class="idref" href="ITree.Interp.HFunctor.html#HFunctor"><span class="id" title="class">HFunctor</span></a> (<span class="id" title="keyword">fun</span> <a id="x:173" class="idref" href="#x:173"><span class="id" title="binder">x</span></a> : <span class="id" title="keyword">Type</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Type</span> =&gt; <a class="idref" href="ITree.Interp.HFunctor.html#x:173"><span class="id" title="variable">x</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">exact</span> (<span class="id" title="method">fmap</span> <span class="id" title="var">X0</span> <span class="id" title="var">X1</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="var">Program</span> <span class="id" title="keyword">Instance</span> <a id="ID_WF_IterativeMonadT" class="idref" href="#ID_WF_IterativeMonadT"><span class="id" title="instance">ID_WF_IterativeMonadT</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonadT.html#WF_IterativeMonadT"><span class="id" title="class">WF_IterativeMonadT</span></a> (<span class="id" title="keyword">fun</span> <a id="x:174" class="idref" href="#x:174"><span class="id" title="binder">x</span></a> : <span class="id" title="keyword">Type</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Type</span> =&gt; <a class="idref" href="ITree.Interp.HFunctor.html#x:174"><span class="id" title="variable">x</span></a>) <span class="id" title="var">_</span> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#eqmR_ret"><span class="id" title="method">eqmR_ret</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#Proper_bind"><span class="id" title="definition">Proper_bind</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="var">Program</span> <span class="id" title="keyword">Instance</span> <a id="ID_WF_HFunctor" class="idref" href="#ID_WF_HFunctor"><span class="id" title="instance">ID_WF_HFunctor</span></a> : <a class="idref" href="ITree.Interp.HFunctor.html#WF_HFunctor"><span class="id" title="class">WF_HFunctor</span></a> (<span class="id" title="keyword">fun</span> <a id="x:175" class="idref" href="#x:175"><span class="id" title="binder">x</span></a> : <span class="id" title="keyword">Type</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Type</span> =&gt; <a class="idref" href="ITree.Interp.HFunctor.html#x:175"><span class="id" title="variable">x</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span>; <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span>; <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="var">Program</span> <span class="id" title="keyword">Instance</span> <a id="stateT_WF_HFunctor" class="idref" href="#stateT_WF_HFunctor"><span class="id" title="instance">stateT_WF_HFunctor</span></a> {<a id="S:176" class="idref" href="#S:176"><span class="id" title="binder">S</span></a>} {<a id="inh_S:177" class="idref" href="#inh_S:177"><span class="id" title="binder">inh_S</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#inhabited"><span class="id" title="class">inhabited</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#S:176"><span class="id" title="variable">S</span></a>} : <a class="idref" href="ITree.Interp.HFunctor.html#WF_HFunctor"><span class="id" title="class">WF_HFunctor</span></a> (<a class="idref" href="ITree.Basics.Basics.html#Monads.stateT"><span class="id" title="definition">stateT</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#S:176"><span class="id" title="variable">S</span></a>).<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="var">Program</span> <span class="id" title="keyword">Instance</span> <a id="errorT_WF_HFunctor" class="idref" href="#errorT_WF_HFunctor"><span class="id" title="instance">errorT_WF_HFunctor</span></a> {<a id="exn:178" class="idref" href="#exn:178"><span class="id" title="binder">exn</span></a>} : <a class="idref" href="ITree.Interp.HFunctor.html#WF_HFunctor"><span class="id" title="class">WF_HFunctor</span></a> (<a class="idref" href="ITree.EqmR.Monads.ErrorT.html#errorT"><span class="id" title="definition">errorT</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#exn:178"><span class="id" title="variable">exn</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="stateT_morph_ret" class="idref" href="#stateT_morph_ret"><span class="id" title="lemma">stateT_morph_ret</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="S:179" class="idref" href="#S:179"><span class="id" title="binder">S</span></a> : <span class="id" title="keyword">Type</span>, <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#inhabited"><span class="id" title="class">inhabited</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#S:179"><span class="id" title="variable">S</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<a id="E:180" class="idref" href="#E:180"><span class="id" title="binder">E</span></a> <a id="F:181" class="idref" href="#F:181"><span class="id" title="binder">F</span></a> : <span class="id" title="keyword">Type</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Type</span>) (<a id="f:183" class="idref" href="#f:183"><span class="id" title="binder">f</span></a> : <span class="id" title="keyword">forall</span> <a id="T:182" class="idref" href="#T:182"><span class="id" title="binder">T</span></a> : <span class="id" title="keyword">Type</span>, <a class="idref" href="ITree.Interp.HFunctor.html#E:180"><span class="id" title="variable">E</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#T:182"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ITree.Basics.Basics.html#Monads.stateT"><span class="id" title="definition">stateT</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#S:179"><span class="id" title="variable">S</span></a> (<a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#F:181"><span class="id" title="variable">F</span></a>) <a class="idref" href="ITree.Interp.HFunctor.html#T:182"><span class="id" title="variable">T</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.EqmR.EqmRMonadT.html#MorphRet"><span class="id" title="class">MorphRet</span></a> (<a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#E:180"><span class="id" title="variable">E</span></a>) (<a class="idref" href="ITree.Basics.Basics.html#Monads.stateT"><span class="id" title="definition">stateT</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#S:179"><span class="id" title="variable">S</span></a> (<a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#F:181"><span class="id" title="variable">F</span></a>)) (<a class="idref" href="ITree.Interp.Interp.html#itree_interp"><span class="id" title="instance">itree_interp</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#f:183"><span class="id" title="variable">f</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">S</span> <span class="id" title="var">inh_S</span> <span class="id" title="var">E</span> <span class="id" title="var">F</span> <span class="id" title="var">f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.Eq.Eq.html#itree_eta"><span class="id" title="lemma">itree_eta</span></a>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ITree.Eq.Eq.html#eqit_Ret"><span class="id" title="lemma">eqit_Ret</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="_interp_state" class="idref" href="#_interp_state"><span class="id" title="definition">_interp_state</span></a> {<a id="E:184" class="idref" href="#E:184"><span class="id" title="binder">E</span></a> <a id="F:185" class="idref" href="#F:185"><span class="id" title="binder">F</span></a> <a id="S:186" class="idref" href="#S:186"><span class="id" title="binder">S</span></a> <a id="R:187" class="idref" href="#R:187"><span class="id" title="binder">R</span></a>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="f:188" class="idref" href="#f:188"><span class="id" title="binder">f</span></a> : <a class="idref" href="ITree.Interp.HFunctor.html#E:184"><span class="id" title="variable">E</span></a> <a class="idref" href="ITree.Basics.Basics.html#f7397da22bdab7f77b06c5d98764e7b9"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="ITree.Basics.Basics.html#Monads.stateT"><span class="id" title="definition">stateT</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#S:186"><span class="id" title="variable">S</span></a> (<a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#F:185"><span class="id" title="variable">F</span></a>)) (<a id="ot:189" class="idref" href="#ot:189"><span class="id" title="binder">ot</span></a> : <a class="idref" href="ITree.Core.ITreeDefinition.html#itreeF"><span class="id" title="inductive">itreeF</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#E:184"><span class="id" title="variable">E</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#R:187"><span class="id" title="variable">R</span></a> <span class="id" title="var">_</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="ITree.Basics.Basics.html#Monads.stateT"><span class="id" title="definition">stateT</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#S:186"><span class="id" title="variable">S</span></a> (<a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#F:185"><span class="id" title="variable">F</span></a>) <a class="idref" href="ITree.Interp.HFunctor.html#R:187"><span class="id" title="variable">R</span></a> := <span class="id" title="keyword">fun</span> <a id="s:190" class="idref" href="#s:190"><span class="id" title="binder">s</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="ITree.Interp.HFunctor.html#ot:189"><span class="id" title="variable">ot</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="ITree.Core.ITreeDefinition.html#RetF"><span class="id" title="constructor">RetF</span></a> <span class="id" title="var">r</span> =&gt; <a class="idref" href="ITree.Core.ITreeDefinition.html#Ret"><span class="id" title="abbreviation">Ret</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="ITree.Interp.HFunctor.html#s:190"><span class="id" title="variable">s</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">r</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="ITree.Core.ITreeDefinition.html#TauF"><span class="id" title="constructor">TauF</span></a> <span class="id" title="var">t</span> =&gt; <a class="idref" href="ITree.Core.ITreeDefinition.html#Tau"><span class="id" title="abbreviation">Tau</span></a> (<a class="idref" href="ITree.Interp.Interp.html#interp"><span class="id" title="definition">interp</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#f:188"><span class="id" title="variable">f</span></a> <span class="id" title="var">t</span> <a class="idref" href="ITree.Interp.HFunctor.html#s:190"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="ITree.Core.ITreeDefinition.html#VisF"><span class="id" title="constructor">VisF</span></a> <span class="id" title="var">e</span> <span class="id" title="var">k</span> =&gt; <a class="idref" href="ITree.Interp.HFunctor.html#f:188"><span class="id" title="variable">f</span></a> <span class="id" title="var">_</span> <span class="id" title="var">e</span> <a class="idref" href="ITree.Interp.HFunctor.html#s:190"><span class="id" title="variable">s</span></a> <span class="id" title="notation">&gt;&gt;=</span> <span class="id" title="notation">(</span><span class="id" title="keyword">fun</span> <a id="sx:192" class="idref" href="#sx:192"><span class="id" title="binder">sx</span></a> =&gt; <a class="idref" href="ITree.Core.ITreeDefinition.html#Tau"><span class="id" title="abbreviation">Tau</span></a> (<a class="idref" href="ITree.Interp.Interp.html#interp"><span class="id" title="definition">interp</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#f:188"><span class="id" title="variable">f</span></a> (<span class="id" title="var">k</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#sx:192"><span class="id" title="variable">sx</span></a>)) (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#sx:192"><span class="id" title="variable">sx</span></a>))<span class="id" title="notation">)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="unfold_interp_state" class="idref" href="#unfold_interp_state"><span class="id" title="lemma">unfold_interp_state</span></a> {<a id="E:193" class="idref" href="#E:193"><span class="id" title="binder">E</span></a> <a id="F:194" class="idref" href="#F:194"><span class="id" title="binder">F</span></a> <a id="S:195" class="idref" href="#S:195"><span class="id" title="binder">S</span></a> <a id="R:196" class="idref" href="#R:196"><span class="id" title="binder">R</span></a>} (<a id="h:197" class="idref" href="#h:197"><span class="id" title="binder">h</span></a> : <a class="idref" href="ITree.Interp.HFunctor.html#E:193"><span class="id" title="variable">E</span></a> <a class="idref" href="ITree.Basics.Basics.html#f7397da22bdab7f77b06c5d98764e7b9"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="ITree.Basics.Basics.html#Monads.stateT"><span class="id" title="definition">Monads.stateT</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#S:195"><span class="id" title="variable">S</span></a> (<a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#F:194"><span class="id" title="variable">F</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="t:198" class="idref" href="#t:198"><span class="id" title="binder">t</span></a> : <a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#E:193"><span class="id" title="variable">E</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#R:196"><span class="id" title="variable">R</span></a>) <a id="s:199" class="idref" href="#s:199"><span class="id" title="binder">s</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.Eq.Eq.html#eq_itree"><span class="id" title="definition">eq_itree</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="ITree.Interp.Interp.html#interp"><span class="id" title="definition">interp</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#h:197"><span class="id" title="variable">h</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#t:198"><span class="id" title="variable">t</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#s:199"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="ITree.Interp.HFunctor.html#_interp_state"><span class="id" title="definition">_interp_state</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#h:197"><span class="id" title="variable">h</span></a> (<a class="idref" href="ITree.Core.ITreeDefinition.html#observe"><span class="id" title="definition">observe</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#t:198"><span class="id" title="variable">t</span></a>) <a class="idref" href="ITree.Interp.HFunctor.html#s:199"><span class="id" title="variable">s</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="ITree.Interp.Interp.html#interp"><span class="id" title="definition">interp</span></a>, <a class="idref" href="ITree.Basics.Basics.html#iter"><span class="id" title="definition">Basics.iter</span></a>, <a class="idref" href="ITree.Basics.Basics.html#MonadIter_stateT0"><span class="id" title="instance">MonadIter_stateT0</span></a>, <a class="idref" href="ITree.Basics.Basics.html#iter"><span class="id" title="definition">Basics.iter</span></a>, <a class="idref" href="ITree.Core.ITreeDefinition.html#MonadIter_itree"><span class="id" title="instance">MonadIter_itree</span></a>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="ITree.Eq.Eq.html#unfold_iter"><span class="id" title="lemma">unfold_iter</span></a>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.Eq.Eq.html#bind_bind"><span class="id" title="lemma">Eq.bind_bind</span></a>. <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="ITree.Eq.Eq.html#bind_ret_l"><span class="id" title="lemma">Eq.bind_ret_l</span></a>. <span class="id" title="tactic">unfold</span> <a class="idref" href="ITree.Interp.Interp.html#interp_body"><span class="id" title="definition">interp_body</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="ITree.Core.ITreeDefinition.html#observe"><span class="id" title="definition">observe</span></a>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="ITree.Eq.Eq.html#bind_ret_l"><span class="id" title="lemma">Eq.bind_ret_l</span></a>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="ITree.Eq.Eq.html#bind_bind"><span class="id" title="lemma">Eq.bind_bind</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="ITree.Eq.Eq.html#bind_ret_l"><span class="id" title="lemma">Eq.bind_ret_l</span></a>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>]<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a id="eq_itree_interp_state" class="idref" href="#eq_itree_interp_state"><span class="id" title="instance">eq_itree_interp_state</span></a> {<a id="E:200" class="idref" href="#E:200"><span class="id" title="binder">E</span></a> <a id="F:201" class="idref" href="#F:201"><span class="id" title="binder">F</span></a> <a id="S:202" class="idref" href="#S:202"><span class="id" title="binder">S</span></a> <a id="R:203" class="idref" href="#R:203"><span class="id" title="binder">R</span></a>} (<a id="h:204" class="idref" href="#h:204"><span class="id" title="binder">h</span></a> : <a class="idref" href="ITree.Interp.HFunctor.html#E:200"><span class="id" title="variable">E</span></a> <a class="idref" href="ITree.Basics.Basics.html#f7397da22bdab7f77b06c5d98764e7b9"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="ITree.Basics.Basics.html#Monads.stateT"><span class="id" title="definition">Monads.stateT</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#S:202"><span class="id" title="variable">S</span></a> (<a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#F:201"><span class="id" title="variable">F</span></a>)) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="ITree.Eq.Eq.html#eq_itree"><span class="id" title="definition">eq_itree</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="ITree.Eq.Eq.html#eq_itree"><span class="id" title="definition">eq_itree</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="ITree.Interp.Interp.html#interp"><span class="id" title="definition">interp</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#h:204"><span class="id" title="variable">h</span></a> (<span class="id" title="var">T0</span> := <a class="idref" href="ITree.Interp.HFunctor.html#R:203"><span class="id" title="variable">R</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert_until</span> <span class="id" title="var">R</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ginit</span>. <span class="id" title="var">gcofix</span> <span class="id" title="var">CIH</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">h</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">H0</span> <span class="id" title="var">x2</span> <span class="id" title="var">_</span> [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="ITree.Interp.HFunctor.html#unfold_interp_state"><span class="id" title="lemma">unfold_interp_state</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">punfold</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">pclearbot</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">gstep</span>; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">gstep</span>; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">paco</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">guclo</span> <a class="idref" href="ITree.Eq.Eq.html#eqit_clo_bind"><span class="id" title="lemma">eqit_clo_bind</span></a>. <span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> [] <span class="id" title="var">_</span> []. <span class="id" title="var">gstep</span>; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">paco</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>]<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a id="eutt_interp_state" class="idref" href="#eutt_interp_state"><span class="id" title="instance">eutt_interp_state</span></a> {<a id="E:205" class="idref" href="#E:205"><span class="id" title="binder">E</span></a> <a id="F:206" class="idref" href="#F:206"><span class="id" title="binder">F</span></a>: <span class="id" title="keyword">Type</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Type</span>} {<a id="S:207" class="idref" href="#S:207"><span class="id" title="binder">S</span></a> : <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="h:208" class="idref" href="#h:208"><span class="id" title="binder">h</span></a> : <a class="idref" href="ITree.Interp.HFunctor.html#E:205"><span class="id" title="variable">E</span></a> <a class="idref" href="ITree.Basics.Basics.html#f7397da22bdab7f77b06c5d98764e7b9"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="ITree.Basics.Basics.html#Monads.stateT"><span class="id" title="definition">Monads.stateT</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#S:207"><span class="id" title="variable">S</span></a> (<a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#F:206"><span class="id" title="variable">F</span></a>)) <a id="R:209" class="idref" href="#R:209"><span class="id" title="binder">R</span></a> <a id="RR:210" class="idref" href="#RR:210"><span class="id" title="binder">RR</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="ITree.Eq.Eq.html#eutt"><span class="id" title="definition">eutt</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#RR:210"><span class="id" title="variable">RR</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="ITree.Eq.Eq.html#eutt"><span class="id" title="definition">eutt</span></a> (<a class="idref" href="ITree.Basics.HeterogeneousRelations.html#prod_rel"><span class="id" title="inductive">prod_rel</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#RR:210"><span class="id" title="variable">RR</span></a>)) (<a class="idref" href="ITree.Interp.Interp.html#interp"><span class="id" title="definition">interp</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#h:208"><span class="id" title="variable">h</span></a> (<span class="id" title="var">T0</span> :=<a class="idref" href="ITree.Interp.HFunctor.html#R:209"><span class="id" title="variable">R</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="var">revert_until</span> <span class="id" title="var">RR</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">einit</span>. <span class="id" title="var">ecofix</span> <span class="id" title="var">CIH</span>. <span class="id" title="tactic">intros</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="ITree.Interp.HFunctor.html#unfold_interp_state"><span class="id" title="lemma">unfold_interp_state</span></a>. <span class="id" title="var">punfold</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="var">pclearbot</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">eret</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">etau</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">ebind</span>. <span class="id" title="tactic">econstructor</span>; [<span class="id" title="tactic">reflexivity</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etau</span>. <span class="id" title="var">ebase</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.Eq.Eq.html#tau_euttge"><span class="id" title="lemma">tau_euttge</span></a>, <a class="idref" href="ITree.Interp.HFunctor.html#unfold_interp_state"><span class="id" title="lemma">unfold_interp_state</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.Eq.Eq.html#tau_euttge"><span class="id" title="lemma">tau_euttge</span></a>, <a class="idref" href="ITree.Interp.HFunctor.html#unfold_interp_state"><span class="id" title="lemma">unfold_interp_state</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>]<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="euttH_interp_state" class="idref" href="#euttH_interp_state"><span class="id" title="definition">euttH_interp_state</span></a> {<a id="E:211" class="idref" href="#E:211"><span class="id" title="binder">E</span></a> <a id="F:212" class="idref" href="#F:212"><span class="id" title="binder">F</span></a>: <span class="id" title="keyword">Type</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Type</span>} {<a id="S:213" class="idref" href="#S:213"><span class="id" title="binder">S</span></a> : <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="h:214" class="idref" href="#h:214"><span class="id" title="binder">h</span></a> : <a class="idref" href="ITree.Interp.HFunctor.html#E:211"><span class="id" title="variable">E</span></a> <a class="idref" href="ITree.Basics.Basics.html#f7397da22bdab7f77b06c5d98764e7b9"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="ITree.Basics.Basics.html#Monads.stateT"><span class="id" title="definition">Monads.stateT</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#S:213"><span class="id" title="variable">S</span></a> (<a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#F:212"><span class="id" title="variable">F</span></a>)) <a id="R1:215" class="idref" href="#R1:215"><span class="id" title="binder">R1</span></a> <a id="R2:216" class="idref" href="#R2:216"><span class="id" title="binder">R2</span></a> <a id="RR:217" class="idref" href="#RR:217"><span class="id" title="binder">RR</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.Basics.HeterogeneousRelations.html#ProperH"><span class="id" title="definition">ProperH</span></a> (<a class="idref" href="ITree.Eq.Eq.html#eutt"><span class="id" title="definition">eutt</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#RR:217"><span class="id" title="variable">RR</span></a> <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#b1c16d3aafd4b8ab9fd6478d3bd87026"><span class="id" title="notation">~~&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#b1c16d3aafd4b8ab9fd6478d3bd87026"><span class="id" title="notation">~~&gt;</span></a> <a class="idref" href="ITree.Eq.Eq.html#eutt"><span class="id" title="definition">eutt</span></a> (<a class="idref" href="ITree.Basics.HeterogeneousRelations.html#prod_rel"><span class="id" title="inductive">prod_rel</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#RR:217"><span class="id" title="variable">RR</span></a>)) (<a class="idref" href="ITree.Interp.Interp.html#interp"><span class="id" title="definition">interp</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#h:214"><span class="id" title="variable">h</span></a> (<span class="id" title="var">T0</span>:=<a class="idref" href="ITree.Interp.HFunctor.html#R1:215"><span class="id" title="variable">R1</span></a>)) (<a class="idref" href="ITree.Interp.Interp.html#interp"><span class="id" title="definition">interp</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#h:214"><span class="id" title="variable">h</span></a> (<span class="id" title="var">T0</span>:=<a class="idref" href="ITree.Interp.HFunctor.html#R2:216"><span class="id" title="variable">R2</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="var">revert_until</span> <span class="id" title="var">RR</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">einit</span>. <span class="id" title="var">ecofix</span> <span class="id" title="var">CIH</span>. <span class="id" title="tactic">intros</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="ITree.Interp.HFunctor.html#unfold_interp_state"><span class="id" title="lemma">unfold_interp_state</span></a>. <span class="id" title="var">punfold</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="var">pclearbot</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">eret</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">etau</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">ebind</span>. <span class="id" title="tactic">econstructor</span>; [<span class="id" title="tactic">reflexivity</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etau</span>. <span class="id" title="var">ebase</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.Eq.Eq.html#tau_euttge"><span class="id" title="lemma">tau_euttge</span></a>, <a class="idref" href="ITree.Interp.HFunctor.html#unfold_interp_state"><span class="id" title="lemma">unfold_interp_state</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.Eq.Eq.html#tau_euttge"><span class="id" title="lemma">tau_euttge</span></a>, <a class="idref" href="ITree.Interp.HFunctor.html#unfold_interp_state"><span class="id" title="lemma">unfold_interp_state</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="interp_state_tau" class="idref" href="#interp_state_tau"><span class="id" title="lemma">interp_state_tau</span></a> {<a id="E:218" class="idref" href="#E:218"><span class="id" title="binder">E</span></a> <a id="F:219" class="idref" href="#F:219"><span class="id" title="binder">F</span></a> : <span class="id" title="keyword">Type</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Type</span>} <a id="S:220" class="idref" href="#S:220"><span class="id" title="binder">S</span></a> {<a id="T:221" class="idref" href="#T:221"><span class="id" title="binder">T</span></a> : <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="t:222" class="idref" href="#t:222"><span class="id" title="binder">t</span></a> : <a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#E:218"><span class="id" title="variable">E</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#T:221"><span class="id" title="variable">T</span></a>) (<a id="h:223" class="idref" href="#h:223"><span class="id" title="binder">h</span></a> : <a class="idref" href="ITree.Interp.HFunctor.html#E:218"><span class="id" title="variable">E</span></a> <a class="idref" href="ITree.Basics.Basics.html#f7397da22bdab7f77b06c5d98764e7b9"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="ITree.Basics.Basics.html#Monads.stateT"><span class="id" title="definition">Monads.stateT</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#S:220"><span class="id" title="variable">S</span></a> (<a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#F:219"><span class="id" title="variable">F</span></a>)) (<a id="s:224" class="idref" href="#s:224"><span class="id" title="binder">s</span></a> : <a class="idref" href="ITree.Interp.HFunctor.html#S:220"><span class="id" title="variable">S</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="ITree.Interp.Interp.html#interp"><span class="id" title="definition">interp</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#h:223"><span class="id" title="variable">h</span></a> (<a class="idref" href="ITree.Core.ITreeDefinition.html#Tau"><span class="id" title="abbreviation">Tau</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#t:222"><span class="id" title="variable">t</span></a>) <a class="idref" href="ITree.Interp.HFunctor.html#s:224"><span class="id" title="variable">s</span></a> <a class="idref" href="ITree.Eq.Eq.html#7123c605943b5e01235e17fe532efcae"><span class="id" title="notation">≅</span></a> <a class="idref" href="ITree.Core.ITreeDefinition.html#Tau"><span class="id" title="abbreviation">Tau</span></a> (<a class="idref" href="ITree.Interp.Interp.html#interp"><span class="id" title="definition">interp</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#h:223"><span class="id" title="variable">h</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#t:222"><span class="id" title="variable">t</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#s:224"><span class="id" title="variable">s</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.Interp.HFunctor.html#unfold_interp_state"><span class="id" title="lemma">unfold_interp_state</span></a>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="interp_state_vis" class="idref" href="#interp_state_vis"><span class="id" title="lemma">interp_state_vis</span></a> {<a id="E:225" class="idref" href="#E:225"><span class="id" title="binder">E</span></a> <a id="F:226" class="idref" href="#F:226"><span class="id" title="binder">F</span></a> : <span class="id" title="keyword">Type</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Type</span>} {<a id="S:227" class="idref" href="#S:227"><span class="id" title="binder">S</span></a> <a id="T:228" class="idref" href="#T:228"><span class="id" title="binder">T</span></a> <a id="U:229" class="idref" href="#U:229"><span class="id" title="binder">U</span></a> : <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="e:230" class="idref" href="#e:230"><span class="id" title="binder">e</span></a> : <a class="idref" href="ITree.Interp.HFunctor.html#E:225"><span class="id" title="variable">E</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#T:228"><span class="id" title="variable">T</span></a>) (<a id="k:231" class="idref" href="#k:231"><span class="id" title="binder">k</span></a> : <a class="idref" href="ITree.Interp.HFunctor.html#T:228"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#E:225"><span class="id" title="variable">E</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#U:229"><span class="id" title="variable">U</span></a>) (<a id="h:232" class="idref" href="#h:232"><span class="id" title="binder">h</span></a> : <a class="idref" href="ITree.Interp.HFunctor.html#E:225"><span class="id" title="variable">E</span></a> <a class="idref" href="ITree.Basics.Basics.html#f7397da22bdab7f77b06c5d98764e7b9"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="ITree.Basics.Basics.html#Monads.stateT"><span class="id" title="definition">Monads.stateT</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#S:227"><span class="id" title="variable">S</span></a> (<a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#F:226"><span class="id" title="variable">F</span></a>)) (<a id="s:233" class="idref" href="#s:233"><span class="id" title="binder">s</span></a> : <a class="idref" href="ITree.Interp.HFunctor.html#S:227"><span class="id" title="variable">S</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="ITree.Interp.Interp.html#interp"><span class="id" title="definition">interp</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#h:232"><span class="id" title="variable">h</span></a> (<a class="idref" href="ITree.Core.ITreeDefinition.html#Vis"><span class="id" title="abbreviation">Vis</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#e:230"><span class="id" title="variable">e</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#k:231"><span class="id" title="variable">k</span></a>) <a class="idref" href="ITree.Interp.HFunctor.html#s:233"><span class="id" title="variable">s</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.Eq.Eq.html#7123c605943b5e01235e17fe532efcae"><span class="id" title="notation">≅</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#h:232"><span class="id" title="variable">h</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#T:228"><span class="id" title="variable">T</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#e:230"><span class="id" title="variable">e</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#s:233"><span class="id" title="variable">s</span></a> <a class="idref" href="ITree.Core.ITreeDefinition.html#3530f89eeba6738f103e1c4744407abc"><span class="id" title="notation">&gt;&gt;=</span></a> <span class="id" title="keyword">fun</span> <a id="sx:234" class="idref" href="#sx:234"><span class="id" title="binder">sx</span></a> =&gt; <a class="idref" href="ITree.Core.ITreeDefinition.html#Tau"><span class="id" title="abbreviation">Tau</span></a> (<a class="idref" href="ITree.Interp.Interp.html#interp"><span class="id" title="definition">interp</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#h:232"><span class="id" title="variable">h</span></a> (<a class="idref" href="ITree.Interp.HFunctor.html#k:231"><span class="id" title="variable">k</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#sx:234"><span class="id" title="variable">sx</span></a>)) (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#sx:234"><span class="id" title="variable">sx</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.Interp.HFunctor.html#unfold_interp_state"><span class="id" title="lemma">unfold_interp_state</span></a>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="interp_state_bind" class="idref" href="#interp_state_bind"><span class="id" title="lemma">interp_state_bind</span></a> {<a id="E:235" class="idref" href="#E:235"><span class="id" title="binder">E</span></a> <a id="F:236" class="idref" href="#F:236"><span class="id" title="binder">F</span></a> : <span class="id" title="keyword">Type</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Type</span>} {<a id="A:237" class="idref" href="#A:237"><span class="id" title="binder">A</span></a> <a id="B:238" class="idref" href="#B:238"><span class="id" title="binder">B</span></a> <a id="S:239" class="idref" href="#S:239"><span class="id" title="binder">S</span></a> : <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="f:240" class="idref" href="#f:240"><span class="id" title="binder">f</span></a> : <a class="idref" href="ITree.Interp.HFunctor.html#E:235"><span class="id" title="variable">E</span></a> <a class="idref" href="ITree.Basics.Basics.html#f7397da22bdab7f77b06c5d98764e7b9"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="ITree.Basics.Basics.html#Monads.stateT"><span class="id" title="definition">Monads.stateT</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#S:239"><span class="id" title="variable">S</span></a> (<a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#F:236"><span class="id" title="variable">F</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="t:241" class="idref" href="#t:241"><span class="id" title="binder">t</span></a> : <a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#E:235"><span class="id" title="variable">E</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#A:237"><span class="id" title="variable">A</span></a>) (<a id="k:242" class="idref" href="#k:242"><span class="id" title="binder">k</span></a> : <a class="idref" href="ITree.Interp.HFunctor.html#A:237"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#E:235"><span class="id" title="variable">E</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#B:238"><span class="id" title="variable">B</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="s:243" class="idref" href="#s:243"><span class="id" title="binder">s</span></a> : <a class="idref" href="ITree.Interp.HFunctor.html#S:239"><span class="id" title="variable">S</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.Eq.Eq.html#7123c605943b5e01235e17fe532efcae"><span class="id" title="notation">(</span></a><a class="idref" href="ITree.Interp.Interp.html#interp"><span class="id" title="definition">interp</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#f:240"><span class="id" title="variable">f</span></a> (<a class="idref" href="ITree.Interp.HFunctor.html#t:241"><span class="id" title="variable">t</span></a> <span class="id" title="notation">&gt;&gt;=</span> <a class="idref" href="ITree.Interp.HFunctor.html#k:242"><span class="id" title="variable">k</span></a>) <a class="idref" href="ITree.Interp.HFunctor.html#s:243"><span class="id" title="variable">s</span></a><a class="idref" href="ITree.Eq.Eq.html#7123c605943b5e01235e17fe532efcae"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.Eq.Eq.html#7123c605943b5e01235e17fe532efcae"><span class="id" title="notation">≅</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.Eq.Eq.html#7123c605943b5e01235e17fe532efcae"><span class="id" title="notation">(</span></a><a class="idref" href="ITree.Interp.Interp.html#interp"><span class="id" title="definition">interp</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#f:240"><span class="id" title="variable">f</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#t:241"><span class="id" title="variable">t</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#s:243"><span class="id" title="variable">s</span></a> <a class="idref" href="ITree.Core.ITreeDefinition.html#3530f89eeba6738f103e1c4744407abc"><span class="id" title="notation">&gt;&gt;=</span></a> <span class="id" title="keyword">fun</span> <a id="st:244" class="idref" href="#st:244"><span class="id" title="binder">st</span></a> =&gt; <a class="idref" href="ITree.Interp.Interp.html#interp"><span class="id" title="definition">interp</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#f:240"><span class="id" title="variable">f</span></a> (<a class="idref" href="ITree.Interp.HFunctor.html#k:242"><span class="id" title="variable">k</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#st:244"><span class="id" title="variable">st</span></a>)) (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#st:244"><span class="id" title="variable">st</span></a>)<a class="idref" href="ITree.Eq.Eq.html#7123c605943b5e01235e17fe532efcae"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">t</span> <span class="id" title="var">k</span> <span class="id" title="var">s</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ginit</span>. <span class="id" title="var">pcofix</span> <span class="id" title="var">CIH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">t</span> <span class="id" title="var">k</span> <span class="id" title="var">s</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="ITree.Eq.Eq.html#unfold_bind"><span class="id" title="lemma">unfold_bind</span></a> <span class="id" title="tactic">at</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> (<a class="idref" href="ITree.Interp.HFunctor.html#unfold_interp_state"><span class="id" title="lemma">unfold_interp_state</span></a> <span class="id" title="var">f</span> <span class="id" title="var">_</span>) <span class="id" title="tactic">at</span> 2.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="ITree.Core.ITreeDefinition.html#observe"><span class="id" title="definition">observe</span></a> <span class="id" title="var">t</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> !<a class="idref" href="ITree.Eq.Eq.html#bind_ret_l"><span class="id" title="lemma">Eq.bind_ret_l</span></a>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.RelationClasses.html#reflexivity"><span class="id" title="definition">reflexivity</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> !<a class="idref" href="ITree.Eq.Eq.html#bind_tau"><span class="id" title="lemma">bind_tau</span></a>, <a class="idref" href="ITree.Interp.HFunctor.html#interp_state_tau"><span class="id" title="lemma">interp_state_tau</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">gstep</span>. <span class="id" title="tactic">red</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ITree.Eq.Eq.html#EqTau"><span class="id" title="constructor">EqTau</span></a>. <span class="id" title="var">gbase</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">CIH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.Interp.HFunctor.html#interp_state_vis"><span class="id" title="lemma">interp_state_vis</span></a>, <a class="idref" href="ITree.Eq.Eq.html#bind_bind"><span class="id" title="lemma">Eq.bind_bind</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">guclo</span> <a class="idref" href="ITree.Eq.Eq.html#eqit_clo_bind"><span class="id" title="lemma">eqit_clo_bind</span></a>. <span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">u2</span> ? [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.Eq.Eq.html#bind_tau"><span class="id" title="lemma">bind_tau</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">gstep</span>; <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ITree.fold_subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">paco</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="stateT_morph_bind" class="idref" href="#stateT_morph_bind"><span class="id" title="lemma">stateT_morph_bind</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="S:245" class="idref" href="#S:245"><span class="id" title="binder">S</span></a> : <span class="id" title="keyword">Type</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#inhabited"><span class="id" title="class">inhabited</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#S:245"><span class="id" title="variable">S</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<a id="E:246" class="idref" href="#E:246"><span class="id" title="binder">E</span></a> <a id="F:247" class="idref" href="#F:247"><span class="id" title="binder">F</span></a> : <span class="id" title="keyword">Type</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Type</span>) (<a id="f:249" class="idref" href="#f:249"><span class="id" title="binder">f</span></a> : <span class="id" title="keyword">forall</span> <a id="T:248" class="idref" href="#T:248"><span class="id" title="binder">T</span></a> : <span class="id" title="keyword">Type</span>, <a class="idref" href="ITree.Interp.HFunctor.html#E:246"><span class="id" title="variable">E</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#T:248"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ITree.Basics.Basics.html#Monads.stateT"><span class="id" title="definition">stateT</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#S:245"><span class="id" title="variable">S</span></a> (<a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#F:247"><span class="id" title="variable">F</span></a>) <a class="idref" href="ITree.Interp.HFunctor.html#T:248"><span class="id" title="variable">T</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.EqmR.EqmRMonadT.html#MorphBind"><span class="id" title="class">MorphBind</span></a> (<a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#E:246"><span class="id" title="variable">E</span></a>) (<a class="idref" href="ITree.Basics.Basics.html#Monads.stateT"><span class="id" title="definition">stateT</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#S:245"><span class="id" title="variable">S</span></a> (<a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#F:247"><span class="id" title="variable">F</span></a>)) (<a class="idref" href="ITree.Interp.Interp.html#itree_interp"><span class="id" title="instance">itree_interp</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#f:249"><span class="id" title="variable">f</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>. <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="ITree.Interp.HFunctor.html#interp_state_bind"><span class="id" title="lemma">interp_state_bind</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.Eq.Eq.html#eutt_clo_bind"><span class="id" title="lemma">eutt_clo_bind</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.Interp.HFunctor.html#euttH_interp_state"><span class="id" title="definition">euttH_interp_state</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.Interp.HFunctor.html#euttH_interp_state"><span class="id" title="definition">euttH_interp_state</span></a>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">inv</span> <span class="id" title="var">H3</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;These&nbsp;are&nbsp;the&nbsp;base&nbsp;interpretations&nbsp;into&nbsp;state&nbsp;and&nbsp;error&nbsp;monads.&nbsp;*)</span><br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="stateT_MonadMorphism" class="idref" href="#stateT_MonadMorphism"><span class="id" title="instance">stateT_MonadMorphism</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="S:250" class="idref" href="#S:250"><span class="id" title="binder">S</span></a> {<a id="inh_S:251" class="idref" href="#inh_S:251"><span class="id" title="binder">inh_S</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#inhabited"><span class="id" title="class">inhabited</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#S:250"><span class="id" title="variable">S</span></a>} (<a id="E:252" class="idref" href="#E:252"><span class="id" title="binder">E</span></a> <a id="F:253" class="idref" href="#F:253"><span class="id" title="binder">F</span></a> : <span class="id" title="keyword">Type</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Type</span>) (<a id="f:254" class="idref" href="#f:254"><span class="id" title="binder">f</span></a> : <a class="idref" href="ITree.Interp.HFunctor.html#E:252"><span class="id" title="variable">E</span></a> <a class="idref" href="ITree.Basics.Basics.html#f7397da22bdab7f77b06c5d98764e7b9"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="ITree.Basics.Basics.html#Monads.stateT"><span class="id" title="definition">stateT</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#S:250"><span class="id" title="variable">S</span></a> (<a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#F:253"><span class="id" title="variable">F</span></a>)),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.EqmR.EqmRMonadT.html#MonadMorphism"><span class="id" title="class">MonadMorphism</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="ITree.Interp.Interp.html#itree_interp"><span class="id" title="instance">itree_interp</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#f:254"><span class="id" title="variable">f</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; [ <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span> |<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ITree.Interp.HFunctor.html#stateT_morph_ret"><span class="id" title="lemma">stateT_morph_ret</span></a>; <span class="id" title="tactic">eauto</span> |<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ITree.Interp.HFunctor.html#stateT_morph_bind"><span class="id" title="lemma">stateT_morph_bind</span></a>; <span class="id" title="tactic">eauto</span> | ..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.Interp.HFunctor.html#euttH_interp_state"><span class="id" title="definition">euttH_interp_state</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="stateT_IterMorphism" class="idref" href="#stateT_IterMorphism"><span class="id" title="instance">stateT_IterMorphism</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="S:255" class="idref" href="#S:255"><span class="id" title="binder">S</span></a> {<a id="inh_S:256" class="idref" href="#inh_S:256"><span class="id" title="binder">inh_S</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#inhabited"><span class="id" title="class">inhabited</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#S:255"><span class="id" title="variable">S</span></a>} (<a id="E:257" class="idref" href="#E:257"><span class="id" title="binder">E</span></a> <a id="F:258" class="idref" href="#F:258"><span class="id" title="binder">F</span></a> : <span class="id" title="keyword">Type</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Type</span>) (<a id="f:259" class="idref" href="#f:259"><span class="id" title="binder">f</span></a> : <a class="idref" href="ITree.Interp.HFunctor.html#E:257"><span class="id" title="variable">E</span></a> <a class="idref" href="ITree.Basics.Basics.html#f7397da22bdab7f77b06c5d98764e7b9"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="ITree.Basics.Basics.html#Monads.stateT"><span class="id" title="definition">stateT</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#S:255"><span class="id" title="variable">S</span></a> (<a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#F:258"><span class="id" title="variable">F</span></a>)),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.EqmR.EqmRMonadT.html#IterMorphism"><span class="id" title="class">IterMorphism</span></a> (<a class="idref" href="ITree.Interp.Interp.html#itree_interp"><span class="id" title="instance">itree_interp</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#f:259"><span class="id" title="variable">f</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="ITree.EqmR.EqmRMonadT.html#IterMorphism"><span class="id" title="class">IterMorphism</span></a>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#prod_rel_eq"><span class="id" title="lemma">prod_rel_eq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ginit</span>. <span class="id" title="var">gcofix</span> <span class="id" title="var">CIH</span>; <span class="id" title="tactic">intros</span>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="ITree.Eq.Eq.html#unfold_iter"><span class="id" title="lemma">unfold_iter</span></a> <span class="id" title="tactic">at</span> 2.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="ITree.Eq.Eq.html#unfold_iter"><span class="id" title="lemma">unfold_iter</span></a> <span class="id" title="tactic">at</span> 2. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="ITree.Eq.Eq.html#bind_bind"><span class="id" title="lemma">Eq.bind_bind</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="ITree.Eq.Eq.html#bind_ret_l"><span class="id" title="lemma">Eq.bind_ret_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> @<a class="idref" href="ITree.Interp.HFunctor.html#interp_state_bind"><span class="id" title="lemma">interp_state_bind</span></a>. <span class="id" title="tactic">setoid_rewrite</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">guclo</span> <a class="idref" href="ITree.Eq.Eq.html#eqit_clo_bind"><span class="id" title="lemma">eqit_clo_bind</span></a>; <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> [<span class="id" title="var">s''</span> [|]] [<span class="id" title="var">s'''</span> [ |]] []; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="ITree.Interp.HFunctor.html#interp_state_tau"><span class="id" title="lemma">interp_state_tau</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">gstep</span>; <span class="id" title="tactic">constructor</span>. <span class="id" title="var">gfinal</span>. <span class="id" title="tactic">left</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">CIH</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="ITree.Interp.HFunctor.html#interp_state_tau"><span class="id" title="lemma">interp_state_tau</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">gstep</span>; <span class="id" title="tactic">constructor</span>. <span class="id" title="var">gfinal</span>. <span class="id" title="tactic">left</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">CIH</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> @<a class="idref" href="ITree.Interp.HFunctor.html#stateT_morph_ret"><span class="id" title="lemma">stateT_morph_ret</span></a>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="ITree.EqmR.EqmRMonadT.html#MorphRet"><span class="id" title="class">MorphRet</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="ITree.EqmR.EqmRMonadT.html#morph"><span class="id" title="definition">morph</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H</span> <span class="id" title="var">S</span> <span class="id" title="var">_</span> <span class="id" title="var">E</span> <span class="id" title="var">F</span> <span class="id" title="var">f</span> <span class="id" title="var">R</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <span class="id" title="var">r0</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a> <span class="id" title="var">s''</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">gfinal</span>. <span class="id" title="tactic">right</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#prod_rel_eq"><span class="id" title="lemma">prod_rel_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">paco2_mon</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="var">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> @<a class="idref" href="ITree.Interp.HFunctor.html#stateT_morph_ret"><span class="id" title="lemma">stateT_morph_ret</span></a>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="ITree.EqmR.EqmRMonadT.html#MorphRet"><span class="id" title="class">MorphRet</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="ITree.EqmR.EqmRMonadT.html#morph"><span class="id" title="definition">morph</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H</span> <span class="id" title="var">S</span> <span class="id" title="var">_</span> <span class="id" title="var">E</span> <span class="id" title="var">F</span> <span class="id" title="var">f</span> <span class="id" title="var">R</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <span class="id" title="var">r0</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a> <span class="id" title="var">s''</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">gfinal</span>. <span class="id" title="tactic">right</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#prod_rel_eq"><span class="id" title="lemma">prod_rel_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">paco2_mon</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="var">contradiction</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Unfolding of <span class="inlinecode"><span class="id" title="var">interp_errorT</span></span>. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="_interp_errorT" class="idref" href="#_interp_errorT"><span class="id" title="definition">_interp_errorT</span></a> {<a id="exn:260" class="idref" href="#exn:260"><span class="id" title="binder">exn</span></a> <a id="E:261" class="idref" href="#E:261"><span class="id" title="binder">E</span></a> <a id="F:262" class="idref" href="#F:262"><span class="id" title="binder">F</span></a> <a id="R:263" class="idref" href="#R:263"><span class="id" title="binder">R</span></a>} (<a id="f:264" class="idref" href="#f:264"><span class="id" title="binder">f</span></a> : <a class="idref" href="ITree.Interp.HFunctor.html#E:261"><span class="id" title="variable">E</span></a> <a class="idref" href="ITree.Basics.Basics.html#f7397da22bdab7f77b06c5d98764e7b9"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="ITree.EqmR.Monads.ErrorT.html#errorT"><span class="id" title="definition">errorT</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#exn:260"><span class="id" title="variable">exn</span></a> (<a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#F:262"><span class="id" title="variable">F</span></a>)) (<a id="ot:265" class="idref" href="#ot:265"><span class="id" title="binder">ot</span></a> : <a class="idref" href="ITree.Core.ITreeDefinition.html#itreeF"><span class="id" title="inductive">itreeF</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#E:261"><span class="id" title="variable">E</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#R:263"><span class="id" title="variable">R</span></a> <span class="id" title="var">_</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="ITree.EqmR.Monads.ErrorT.html#errorT"><span class="id" title="definition">errorT</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#exn:260"><span class="id" title="variable">exn</span></a> (<a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#F:262"><span class="id" title="variable">F</span></a>) <a class="idref" href="ITree.Interp.HFunctor.html#R:263"><span class="id" title="variable">R</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="ITree.Interp.HFunctor.html#ot:265"><span class="id" title="variable">ot</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="ITree.Core.ITreeDefinition.html#RetF"><span class="id" title="constructor">RetF</span></a> <span class="id" title="var">r</span> =&gt; <span class="id" title="method">ret</span> <span class="id" title="var">r</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="ITree.Core.ITreeDefinition.html#TauF"><span class="id" title="constructor">TauF</span></a> <span class="id" title="var">t</span> =&gt; <a class="idref" href="ITree.Core.ITreeDefinition.html#Tau"><span class="id" title="abbreviation">Tau</span></a> (<a class="idref" href="ITree.Interp.Interp.html#interp"><span class="id" title="definition">interp</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#f:264"><span class="id" title="variable">f</span></a> <span class="id" title="var">t</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="ITree.Core.ITreeDefinition.html#VisF"><span class="id" title="constructor">VisF</span></a> <span class="id" title="var">e</span> <span class="id" title="var">k</span> =&gt; <span class="id" title="method">bind</span> (<a class="idref" href="ITree.Interp.HFunctor.html#f:264"><span class="id" title="variable">f</span></a> <span class="id" title="var">_</span> <span class="id" title="var">e</span>) (<span class="id" title="keyword">fun</span> <a id="x:267" class="idref" href="#x:267"><span class="id" title="binder">x</span></a> =&gt; <a class="idref" href="ITree.Core.ITreeDefinition.html#Tau"><span class="id" title="abbreviation">Tau</span></a> (<a class="idref" href="ITree.Interp.Interp.html#interp"><span class="id" title="definition">interp</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#f:264"><span class="id" title="variable">f</span></a> (<span class="id" title="var">k</span> <a class="idref" href="ITree.Interp.HFunctor.html#x:267"><span class="id" title="variable">x</span></a>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
Unfold lemma. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="unfold_interp_errorT" class="idref" href="#unfold_interp_errorT"><span class="id" title="lemma">unfold_interp_errorT</span></a> {<a id="exn:268" class="idref" href="#exn:268"><span class="id" title="binder">exn</span></a> <a id="E:269" class="idref" href="#E:269"><span class="id" title="binder">E</span></a> <a id="F:270" class="idref" href="#F:270"><span class="id" title="binder">F</span></a> <a id="R:271" class="idref" href="#R:271"><span class="id" title="binder">R</span></a>} (<a id="f:272" class="idref" href="#f:272"><span class="id" title="binder">f</span></a> : <a class="idref" href="ITree.Interp.HFunctor.html#E:269"><span class="id" title="variable">E</span></a> <a class="idref" href="ITree.Basics.Basics.html#f7397da22bdab7f77b06c5d98764e7b9"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="ITree.EqmR.Monads.ErrorT.html#errorT"><span class="id" title="definition">errorT</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#exn:268"><span class="id" title="variable">exn</span></a> (<a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#F:270"><span class="id" title="variable">F</span></a>)) (<a id="t:273" class="idref" href="#t:273"><span class="id" title="binder">t</span></a> : <a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#E:269"><span class="id" title="variable">E</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#R:271"><span class="id" title="variable">R</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.Interp.Interp.html#interp"><span class="id" title="definition">interp</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#f:272"><span class="id" title="variable">f</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#t:273"><span class="id" title="variable">t</span></a> <a class="idref" href="ITree.Eq.Eq.html#7123c605943b5e01235e17fe532efcae"><span class="id" title="notation">≅</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.Eq.Eq.html#7123c605943b5e01235e17fe532efcae"><span class="id" title="notation">(</span></a><a class="idref" href="ITree.Interp.HFunctor.html#_interp_errorT"><span class="id" title="definition">_interp_errorT</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#f:272"><span class="id" title="variable">f</span></a> (<a class="idref" href="ITree.Core.ITreeDefinition.html#observe"><span class="id" title="definition">observe</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#t:273"><span class="id" title="variable">t</span></a>)<a class="idref" href="ITree.Eq.Eq.html#7123c605943b5e01235e17fe532efcae"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="ITree.Interp.Interp.html#interp"><span class="id" title="definition">interp</span></a>. <span class="id" title="tactic">unfold</span> <a class="idref" href="ITree.Basics.Basics.html#iter"><span class="id" title="definition">Basics.iter</span></a>, <a class="idref" href="ITree.Interp.HFunctor.html#_interp_errorT"><span class="id" title="definition">_interp_errorT</span></a>, <a class="idref" href="ITree.Interp.Interp.html#itree_interp"><span class="id" title="instance">itree_interp</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;, <a class="idref" href="ITree.Basics.MonadFail.html#errorT_iter"><span class="id" title="instance">errorT_iter</span></a>, <a class="idref" href="ITree.Basics.Basics.html#iter"><span class="id" title="definition">Basics.iter</span></a>, <a class="idref" href="ITree.Core.ITreeDefinition.html#MonadIter_itree"><span class="id" title="instance">MonadIter_itree</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.Eq.Eq.html#unfold_iter"><span class="id" title="lemma">unfold_iter</span></a>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.Eq.Eq.html#bind_bind"><span class="id" title="lemma">Eq.bind_bind</span></a>. <span class="id" title="tactic">setoid_rewrite</span>  <a class="idref" href="ITree.Eq.Eq.html#bind_ret_l"><span class="id" title="lemma">Eq.bind_ret_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="ITree.Interp.Interp.html#interp_body"><span class="id" title="definition">interp_body</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="ITree.Core.ITreeDefinition.html#observe"><span class="id" title="definition">observe</span></a> <span class="id" title="var">t</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">tau_steps</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">tau_steps</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="ITree.Eq.Eq.html#bind_bind"><span class="id" title="lemma">Eq.bind_bind</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ITree.Eq.Eq.html#eq_itree_clo_bind"><span class="id" title="lemma">eq_itree_clo_bind</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">UU</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">Logic.eq</span></a>); [<span class="id" title="tactic">reflexivity</span> | <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> ? &lt;-].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">x</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.Eq.Eq.html#bind_ret_l"><span class="id" title="lemma">Eq.bind_ret_l</span></a>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.Eq.Eq.html#bind_ret_l"><span class="id" title="lemma">Eq.bind_ret_l</span></a>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="errorT_morph_ret" class="idref" href="#errorT_morph_ret"><span class="id" title="lemma">errorT_morph_ret</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<a id="exn:274" class="idref" href="#exn:274"><span class="id" title="binder">exn</span></a> : <span class="id" title="keyword">Type</span>) (<a id="E:275" class="idref" href="#E:275"><span class="id" title="binder">E</span></a> <a id="F:276" class="idref" href="#F:276"><span class="id" title="binder">F</span></a> : <span class="id" title="keyword">Type</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Type</span>) (<a id="f:278" class="idref" href="#f:278"><span class="id" title="binder">f</span></a> : <span class="id" title="keyword">forall</span> <a id="T:277" class="idref" href="#T:277"><span class="id" title="binder">T</span></a> : <span class="id" title="keyword">Type</span>, <a class="idref" href="ITree.Interp.HFunctor.html#E:275"><span class="id" title="variable">E</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#T:277"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ITree.EqmR.Monads.ErrorT.html#errorT"><span class="id" title="definition">errorT</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#exn:274"><span class="id" title="variable">exn</span></a> (<a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#F:276"><span class="id" title="variable">F</span></a>) <a class="idref" href="ITree.Interp.HFunctor.html#T:277"><span class="id" title="variable">T</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.EqmR.EqmRMonadT.html#MorphRet"><span class="id" title="class">MorphRet</span></a> (<a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#E:275"><span class="id" title="variable">E</span></a>) (<a class="idref" href="ITree.EqmR.Monads.ErrorT.html#errorT"><span class="id" title="definition">errorT</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#exn:274"><span class="id" title="variable">exn</span></a> (<a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#F:276"><span class="id" title="variable">F</span></a>)) (<a class="idref" href="ITree.Interp.Interp.html#itree_interp"><span class="id" title="instance">itree_interp</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#f:278"><span class="id" title="variable">f</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">exn</span> <span class="id" title="var">E</span> <span class="id" title="var">F</span> <span class="id" title="var">f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>. <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="ITree.Interp.HFunctor.html#unfold_interp_errorT"><span class="id" title="lemma">unfold_interp_errorT</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#eqmR_ret"><span class="id" title="method">eqmR_ret</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="interp_errorT_eq_itree" class="idref" href="#interp_errorT_eq_itree"><span class="id" title="instance">interp_errorT_eq_itree</span></a> {<a id="exn:279" class="idref" href="#exn:279"><span class="id" title="binder">exn</span></a> <a id="X:280" class="idref" href="#X:280"><span class="id" title="binder">X</span></a> <a id="E:281" class="idref" href="#E:281"><span class="id" title="binder">E</span></a> <a id="F:282" class="idref" href="#F:282"><span class="id" title="binder">F</span></a>} {<a id="R:283" class="idref" href="#R:283"><span class="id" title="binder">R</span></a> : <a class="idref" href="ITree.Interp.HFunctor.html#X:280"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#X:280"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="h:284" class="idref" href="#h:284"><span class="id" title="binder">h</span></a> : <a class="idref" href="ITree.Interp.HFunctor.html#E:281"><span class="id" title="variable">E</span></a> <a class="idref" href="ITree.Basics.Basics.html#f7397da22bdab7f77b06c5d98764e7b9"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="ITree.EqmR.Monads.ErrorT.html#errorT"><span class="id" title="definition">errorT</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#exn:279"><span class="id" title="variable">exn</span></a> (<a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#F:282"><span class="id" title="variable">F</span></a>)) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="ITree.Eq.Eq.html#eq_itree"><span class="id" title="definition">eq_itree</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#R:283"><span class="id" title="variable">R</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="ITree.Eq.Eq.html#eq_itree"><span class="id" title="definition">eq_itree</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#35f5d2b36f88861ca82eeac028d070d1"><span class="id" title="notation">⊕</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#R:283"><span class="id" title="variable">R</span></a>)) (<a class="idref" href="ITree.Interp.Interp.html#interp"><span class="id" title="definition">interp</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#h:284"><span class="id" title="variable">h</span></a> (<span class="id" title="var">T0</span> := <a class="idref" href="ITree.Interp.HFunctor.html#X:280"><span class="id" title="variable">X</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">red</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ginit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">pcofix</span> <span class="id" title="var">CIH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">s</span> <span class="id" title="var">t</span> <span class="id" title="var">EQ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> 2 <a class="idref" href="ITree.Interp.HFunctor.html#unfold_interp_errorT"><span class="id" title="lemma">unfold_interp_errorT</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">punfold</span> <span class="id" title="var">EQ</span>; <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">EQ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">EQ</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>; <span class="id" title="var">pclearbot</span>; <span class="id" title="tactic">try</span> (<span class="id" title="var">gstep</span>; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">paco</span>; <span class="id" title="tactic">fail</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">guclo</span> <a class="idref" href="ITree.Eq.Eq.html#eqit_clo_bind"><span class="id" title="lemma">eqit_clo_bind</span></a>; <span class="id" title="tactic">econstructor</span>; [<span class="id" title="tactic">reflexivity</span> | <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> ? &lt;-].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">x</span>|]; <span class="id" title="var">gstep</span>; <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">paco</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="interp_errorT_eq_itree_eq" class="idref" href="#interp_errorT_eq_itree_eq"><span class="id" title="instance">interp_errorT_eq_itree_eq</span></a> {<a id="exn:285" class="idref" href="#exn:285"><span class="id" title="binder">exn</span></a> <a id="X:286" class="idref" href="#X:286"><span class="id" title="binder">X</span></a> <a id="E:287" class="idref" href="#E:287"><span class="id" title="binder">E</span></a> <a id="F:288" class="idref" href="#F:288"><span class="id" title="binder">F</span></a>} (<a id="h:289" class="idref" href="#h:289"><span class="id" title="binder">h</span></a> : <a class="idref" href="ITree.Interp.HFunctor.html#E:287"><span class="id" title="variable">E</span></a> <a class="idref" href="ITree.Basics.Basics.html#f7397da22bdab7f77b06c5d98764e7b9"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="ITree.EqmR.Monads.ErrorT.html#errorT"><span class="id" title="definition">errorT</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#exn:285"><span class="id" title="variable">exn</span></a> (<a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#F:288"><span class="id" title="variable">F</span></a>)) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="ITree.Eq.Eq.html#eq_itree"><span class="id" title="definition">eq_itree</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="ITree.Eq.Eq.html#eq_itree"><span class="id" title="definition">eq_itree</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a>) (<a class="idref" href="ITree.Interp.Interp.html#interp"><span class="id" title="definition">interp</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#h:289"><span class="id" title="variable">h</span></a> (<span class="id" title="var">T0</span> := <a class="idref" href="ITree.Interp.HFunctor.html#X:286"><span class="id" title="variable">X</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>. <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#sum_rel_eq"><span class="id" title="lemma">sum_rel_eq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.Interp.HFunctor.html#interp_errorT_eq_itree"><span class="id" title="instance">interp_errorT_eq_itree</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="interp_errorT_eutt" class="idref" href="#interp_errorT_eutt"><span class="id" title="instance">interp_errorT_eutt</span></a> {<a id="exn:290" class="idref" href="#exn:290"><span class="id" title="binder">exn</span></a> <a id="X:291" class="idref" href="#X:291"><span class="id" title="binder">X</span></a> <a id="E:292" class="idref" href="#E:292"><span class="id" title="binder">E</span></a> <a id="F:293" class="idref" href="#F:293"><span class="id" title="binder">F</span></a> <a id="R:294" class="idref" href="#R:294"><span class="id" title="binder">R</span></a>} (<a id="h:295" class="idref" href="#h:295"><span class="id" title="binder">h</span></a> : <a class="idref" href="ITree.Interp.HFunctor.html#E:292"><span class="id" title="variable">E</span></a> <a class="idref" href="ITree.Basics.Basics.html#f7397da22bdab7f77b06c5d98764e7b9"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="ITree.EqmR.Monads.ErrorT.html#errorT"><span class="id" title="definition">errorT</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#exn:290"><span class="id" title="variable">exn</span></a> (<a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#F:293"><span class="id" title="variable">F</span></a>)) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="ITree.Eq.Eq.html#eutt"><span class="id" title="definition">eutt</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#R:294"><span class="id" title="variable">R</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="ITree.Eq.Eq.html#eutt"><span class="id" title="definition">eutt</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#35f5d2b36f88861ca82eeac028d070d1"><span class="id" title="notation">⊕</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#R:294"><span class="id" title="variable">R</span></a>)) (<a class="idref" href="ITree.Interp.Interp.html#interp"><span class="id" title="definition">interp</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#h:295"><span class="id" title="variable">h</span></a> (<span class="id" title="var">T0</span> := <a class="idref" href="ITree.Interp.HFunctor.html#X:291"><span class="id" title="variable">X</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">red</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">einit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ecofix</span> <span class="id" title="var">CIH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">s</span> <span class="id" title="var">t</span> <span class="id" title="var">EQ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="ITree.Interp.HFunctor.html#unfold_interp_errorT"><span class="id" title="lemma">unfold_interp_errorT</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">punfold</span> <span class="id" title="var">EQ</span>; <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">EQ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">EQ</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>; <span class="id" title="var">pclearbot</span>; <span class="id" title="tactic">try</span> (<span class="id" title="var">estep</span>; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">paco</span>; <span class="id" title="tactic">fail</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">ebind</span>; <span class="id" title="tactic">econstructor</span>; [<span class="id" title="tactic">reflexivity</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [] [] <span class="id" title="var">EQ</span>; <span class="id" title="var">inv</span> <span class="id" title="var">EQ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">estep</span>; <span class="id" title="var">ebase</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">estep</span>; <span class="id" title="var">ebase</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.Eq.Eq.html#tau_euttge"><span class="id" title="lemma">tau_euttge</span></a>, <a class="idref" href="ITree.Interp.HFunctor.html#unfold_interp_errorT"><span class="id" title="lemma">unfold_interp_errorT</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.Eq.Eq.html#tau_euttge"><span class="id" title="lemma">tau_euttge</span></a>, <a class="idref" href="ITree.Interp.HFunctor.html#unfold_interp_errorT"><span class="id" title="lemma">unfold_interp_errorT</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global</span> <span class="id" title="keyword">Definition</span> <a id="interp_errorT_euttH" class="idref" href="#interp_errorT_euttH"><span class="id" title="definition">interp_errorT_euttH</span></a> {<a id="exn:296" class="idref" href="#exn:296"><span class="id" title="binder">exn</span></a> <a id="X1:297" class="idref" href="#X1:297"><span class="id" title="binder">X1</span></a> <a id="X2:298" class="idref" href="#X2:298"><span class="id" title="binder">X2</span></a> <a id="E:299" class="idref" href="#E:299"><span class="id" title="binder">E</span></a> <a id="F:300" class="idref" href="#F:300"><span class="id" title="binder">F</span></a>} (<a id="R:301" class="idref" href="#R:301"><span class="id" title="binder">R</span></a> : <a class="idref" href="ITree.Interp.HFunctor.html#X1:297"><span class="id" title="variable">X1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#X2:298"><span class="id" title="variable">X2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="h:302" class="idref" href="#h:302"><span class="id" title="binder">h</span></a> : <a class="idref" href="ITree.Interp.HFunctor.html#E:299"><span class="id" title="variable">E</span></a> <a class="idref" href="ITree.Basics.Basics.html#f7397da22bdab7f77b06c5d98764e7b9"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="ITree.EqmR.Monads.ErrorT.html#errorT"><span class="id" title="definition">errorT</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#exn:296"><span class="id" title="variable">exn</span></a> (<a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#F:300"><span class="id" title="variable">F</span></a>)) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.Basics.HeterogeneousRelations.html#ProperH"><span class="id" title="definition">ProperH</span></a> (<a class="idref" href="ITree.Eq.Eq.html#eutt"><span class="id" title="definition">eutt</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#R:301"><span class="id" title="variable">R</span></a> <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#b1c16d3aafd4b8ab9fd6478d3bd87026"><span class="id" title="notation">~~&gt;</span></a> <a class="idref" href="ITree.Eq.Eq.html#eutt"><span class="id" title="definition">eutt</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#35f5d2b36f88861ca82eeac028d070d1"><span class="id" title="notation">⊕</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#R:301"><span class="id" title="variable">R</span></a>)) (<a class="idref" href="ITree.Interp.Interp.html#interp"><span class="id" title="definition">interp</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#h:302"><span class="id" title="variable">h</span></a> (<span class="id" title="var">T0</span> := <a class="idref" href="ITree.Interp.HFunctor.html#X1:297"><span class="id" title="variable">X1</span></a>)) (<a class="idref" href="ITree.Interp.Interp.html#interp"><span class="id" title="definition">interp</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#h:302"><span class="id" title="variable">h</span></a> (<span class="id" title="var">T0</span> := <a class="idref" href="ITree.Interp.HFunctor.html#X2:298"><span class="id" title="variable">X2</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">red</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">einit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ecofix</span> <span class="id" title="var">CIH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">s</span> <span class="id" title="var">t</span> <span class="id" title="var">EQ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="ITree.Interp.HFunctor.html#unfold_interp_errorT"><span class="id" title="lemma">unfold_interp_errorT</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">punfold</span> <span class="id" title="var">EQ</span>; <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">EQ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">EQ</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>; <span class="id" title="var">pclearbot</span>; <span class="id" title="tactic">try</span> (<span class="id" title="var">estep</span>; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">paco</span>; <span class="id" title="tactic">fail</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">ebind</span>; <span class="id" title="tactic">econstructor</span>; [<span class="id" title="tactic">reflexivity</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [] [] <span class="id" title="var">EQ</span>; <span class="id" title="var">inv</span> <span class="id" title="var">EQ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">estep</span>; <span class="id" title="var">ebase</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">estep</span>; <span class="id" title="var">ebase</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.Eq.Eq.html#tau_euttge"><span class="id" title="lemma">tau_euttge</span></a>, <a class="idref" href="ITree.Interp.HFunctor.html#unfold_interp_errorT"><span class="id" title="lemma">unfold_interp_errorT</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.Eq.Eq.html#tau_euttge"><span class="id" title="lemma">tau_euttge</span></a>, <a class="idref" href="ITree.Interp.HFunctor.html#unfold_interp_errorT"><span class="id" title="lemma">unfold_interp_errorT</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="interp_errorT_eutt_eq" class="idref" href="#interp_errorT_eutt_eq"><span class="id" title="instance">interp_errorT_eutt_eq</span></a> {<a id="exn:303" class="idref" href="#exn:303"><span class="id" title="binder">exn</span></a> <a id="X:304" class="idref" href="#X:304"><span class="id" title="binder">X</span></a> <a id="E:305" class="idref" href="#E:305"><span class="id" title="binder">E</span></a> <a id="F:306" class="idref" href="#F:306"><span class="id" title="binder">F</span></a>} (<a id="h:307" class="idref" href="#h:307"><span class="id" title="binder">h</span></a> : <a class="idref" href="ITree.Interp.HFunctor.html#E:305"><span class="id" title="variable">E</span></a> <a class="idref" href="ITree.Basics.Basics.html#f7397da22bdab7f77b06c5d98764e7b9"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="ITree.EqmR.Monads.ErrorT.html#errorT"><span class="id" title="definition">errorT</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#exn:303"><span class="id" title="variable">exn</span></a> (<a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#F:306"><span class="id" title="variable">F</span></a>)) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="ITree.Eq.Eq.html#eutt"><span class="id" title="definition">eutt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="ITree.Eq.Eq.html#eutt"><span class="id" title="definition">eutt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a>) (<a class="idref" href="ITree.Interp.Interp.html#interp"><span class="id" title="definition">interp</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#h:307"><span class="id" title="variable">h</span></a> (<span class="id" title="var">T0</span> := <a class="idref" href="ITree.Interp.HFunctor.html#X:304"><span class="id" title="variable">X</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#sum_rel_eq"><span class="id" title="lemma">sum_rel_eq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ITree.Interp.HFunctor.html#interp_errorT_eutt"><span class="id" title="instance">interp_errorT_eutt</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="interp_errorT_tau" class="idref" href="#interp_errorT_tau"><span class="id" title="lemma">interp_errorT_tau</span></a> {<a id="exn:308" class="idref" href="#exn:308"><span class="id" title="binder">exn</span></a> <a id="E:309" class="idref" href="#E:309"><span class="id" title="binder">E</span></a> <a id="F:310" class="idref" href="#F:310"><span class="id" title="binder">F</span></a> <a id="R:311" class="idref" href="#R:311"><span class="id" title="binder">R</span></a>} {<a id="f:312" class="idref" href="#f:312"><span class="id" title="binder">f</span></a> : <a class="idref" href="ITree.Interp.HFunctor.html#E:309"><span class="id" title="variable">E</span></a> <a class="idref" href="ITree.Basics.Basics.html#f7397da22bdab7f77b06c5d98764e7b9"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="ITree.EqmR.Monads.ErrorT.html#errorT"><span class="id" title="definition">errorT</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#exn:308"><span class="id" title="variable">exn</span></a> (<a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#F:310"><span class="id" title="variable">F</span></a>)} (<a id="t:313" class="idref" href="#t:313"><span class="id" title="binder">t</span></a>: <a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#E:309"><span class="id" title="variable">E</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#R:311"><span class="id" title="variable">R</span></a>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.Eq.Eq.html#eq_itree"><span class="id" title="definition">eq_itree</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> (<a class="idref" href="ITree.Interp.Interp.html#interp"><span class="id" title="definition">interp</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#f:312"><span class="id" title="variable">f</span></a> (<a class="idref" href="ITree.Core.ITreeDefinition.html#Tau"><span class="id" title="abbreviation">Tau</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#t:313"><span class="id" title="variable">t</span></a>)) (<a class="idref" href="ITree.Core.ITreeDefinition.html#Tau"><span class="id" title="abbreviation">Tau</span></a> (<a class="idref" href="ITree.Interp.Interp.html#interp"><span class="id" title="definition">interp</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#f:312"><span class="id" title="variable">f</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#t:313"><span class="id" title="variable">t</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.Interp.HFunctor.html#unfold_interp_errorT"><span class="id" title="lemma">unfold_interp_errorT</span></a>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="interp_errorT_vis" class="idref" href="#interp_errorT_vis"><span class="id" title="lemma">interp_errorT_vis</span></a> {<a id="E:314" class="idref" href="#E:314"><span class="id" title="binder">E</span></a> <a id="F:315" class="idref" href="#F:315"><span class="id" title="binder">F</span></a> : <span class="id" title="keyword">Type</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Type</span>} {<a id="T:316" class="idref" href="#T:316"><span class="id" title="binder">T</span></a> <a id="U:317" class="idref" href="#U:317"><span class="id" title="binder">U</span></a> <a id="exn:318" class="idref" href="#exn:318"><span class="id" title="binder">exn</span></a> : <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="e:319" class="idref" href="#e:319"><span class="id" title="binder">e</span></a> : <a class="idref" href="ITree.Interp.HFunctor.html#E:314"><span class="id" title="variable">E</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#T:316"><span class="id" title="variable">T</span></a>) (<a id="k:320" class="idref" href="#k:320"><span class="id" title="binder">k</span></a> : <a class="idref" href="ITree.Interp.HFunctor.html#T:316"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#E:314"><span class="id" title="variable">E</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#U:317"><span class="id" title="variable">U</span></a>) (<a id="h:321" class="idref" href="#h:321"><span class="id" title="binder">h</span></a> : <a class="idref" href="ITree.Interp.HFunctor.html#E:314"><span class="id" title="variable">E</span></a> <a class="idref" href="ITree.Basics.Basics.html#f7397da22bdab7f77b06c5d98764e7b9"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="ITree.EqmR.Monads.ErrorT.html#errorT"><span class="id" title="definition">errorT</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#exn:318"><span class="id" title="variable">exn</span></a> (<a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#F:315"><span class="id" title="variable">F</span></a>)) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="ITree.Interp.Interp.html#interp"><span class="id" title="definition">interp</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#h:321"><span class="id" title="variable">h</span></a> (<a class="idref" href="ITree.Core.ITreeDefinition.html#Vis"><span class="id" title="abbreviation">Vis</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#e:319"><span class="id" title="variable">e</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#k:320"><span class="id" title="variable">k</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.Eq.Eq.html#7123c605943b5e01235e17fe532efcae"><span class="id" title="notation">≅</span></a> <span class="id" title="method">bind</span> (<a class="idref" href="ITree.Interp.HFunctor.html#h:321"><span class="id" title="variable">h</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#T:316"><span class="id" title="variable">T</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#e:319"><span class="id" title="variable">e</span></a>) (<span class="id" title="keyword">fun</span> <a id="mx:322" class="idref" href="#mx:322"><span class="id" title="binder">mx</span></a> =&gt; <a class="idref" href="ITree.Core.ITreeDefinition.html#Tau"><span class="id" title="abbreviation">Tau</span></a> (<a class="idref" href="ITree.Interp.Interp.html#interp"><span class="id" title="definition">interp</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#h:321"><span class="id" title="variable">h</span></a> (<a class="idref" href="ITree.Interp.HFunctor.html#k:320"><span class="id" title="variable">k</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#mx:322"><span class="id" title="variable">mx</span></a>))).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.Interp.HFunctor.html#unfold_interp_errorT"><span class="id" title="lemma">unfold_interp_errorT</span></a>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="interp_errorT_bind" class="idref" href="#interp_errorT_bind"><span class="id" title="lemma">interp_errorT_bind</span></a> : <span class="id" title="keyword">forall</span> {<a id="exn:323" class="idref" href="#exn:323"><span class="id" title="binder">exn</span></a> <a id="X:324" class="idref" href="#X:324"><span class="id" title="binder">X</span></a> <a id="Y:325" class="idref" href="#Y:325"><span class="id" title="binder">Y</span></a> <a id="E:326" class="idref" href="#E:326"><span class="id" title="binder">E</span></a> <a id="F:327" class="idref" href="#F:327"><span class="id" title="binder">F</span></a>} (<a id="t:328" class="idref" href="#t:328"><span class="id" title="binder">t</span></a> : <a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <span class="id" title="var">_</span> <a class="idref" href="ITree.Interp.HFunctor.html#X:324"><span class="id" title="variable">X</span></a>) (<a id="k:329" class="idref" href="#k:329"><span class="id" title="binder">k</span></a> : <a class="idref" href="ITree.Interp.HFunctor.html#X:324"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <span class="id" title="var">_</span> <a class="idref" href="ITree.Interp.HFunctor.html#Y:325"><span class="id" title="variable">Y</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="h:330" class="idref" href="#h:330"><span class="id" title="binder">h</span></a> : <a class="idref" href="ITree.Interp.HFunctor.html#E:326"><span class="id" title="variable">E</span></a> <a class="idref" href="ITree.Basics.Basics.html#f7397da22bdab7f77b06c5d98764e7b9"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="ITree.EqmR.Monads.ErrorT.html#errorT"><span class="id" title="definition">errorT</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#exn:323"><span class="id" title="variable">exn</span></a> (<a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#F:327"><span class="id" title="variable">F</span></a>)),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.Interp.Interp.html#interp"><span class="id" title="definition">interp</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#h:330"><span class="id" title="variable">h</span></a> (<span class="id" title="method">bind</span> <a class="idref" href="ITree.Interp.HFunctor.html#t:328"><span class="id" title="variable">t</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#k:329"><span class="id" title="variable">k</span></a>) <a class="idref" href="ITree.Eq.Eq.html#7123c605943b5e01235e17fe532efcae"><span class="id" title="notation">≅</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="method">bind</span> (<a class="idref" href="ITree.Interp.Interp.html#interp"><span class="id" title="definition">interp</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#h:330"><span class="id" title="variable">h</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#t:328"><span class="id" title="variable">t</span></a>) (<span class="id" title="keyword">fun</span> <a id="x:331" class="idref" href="#x:331"><span class="id" title="binder">x</span></a> =&gt; <a class="idref" href="ITree.Interp.Interp.html#interp"><span class="id" title="definition">interp</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#h:330"><span class="id" title="variable">h</span></a> (<a class="idref" href="ITree.Interp.HFunctor.html#k:329"><span class="id" title="variable">k</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#x:331"><span class="id" title="variable">x</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">exn</span> <span class="id" title="var">X</span> <span class="id" title="var">Y</span> <span class="id" title="var">E</span> <span class="id" title="var">F</span>; <span class="id" title="var">ginit</span>; <span class="id" title="var">gcofix</span> <span class="id" title="var">CIH</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (@<a class="idref" href="ITree.Interp.HFunctor.html#unfold_interp_errorT"><span class="id" title="lemma">unfold_interp_errorT</span></a> <span class="id" title="var">exn</span> <span class="id" title="var">E</span> <span class="id" title="var">F</span> <span class="id" title="var">X</span> <span class="id" title="var">h</span> <span class="id" title="var">t</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="ITree.Interp.Interp.html#interp"><span class="id" title="definition">interp</span></a>, <a class="idref" href="ITree.Interp.Interp.html#itree_interp"><span class="id" title="instance">itree_interp</span></a> <span class="id" title="tactic">in</span> *. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="ITree.Eq.Eq.html#unfold_bind"><span class="id" title="lemma">unfold_bind</span></a> <span class="id" title="tactic">at</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="ITree.Core.ITreeDefinition.html#observe"><span class="id" title="definition">observe</span></a> <span class="id" title="var">t</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">EQ</span>; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.Eq.Eq.html#bind_ret_l"><span class="id" title="lemma">Eq.bind_ret_l</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.RelationClasses.html#reflexivity"><span class="id" title="definition">reflexivity</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.Eq.Eq.html#bind_tau"><span class="id" title="lemma">bind_tau</span></a>. <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="ITree.Interp.HFunctor.html#interp_errorT_tau"><span class="id" title="lemma">interp_errorT_tau</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">gstep</span>. <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">paco</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">CIH</span>. <span class="id" title="var">gbase</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">CIH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.Eq.Eq.html#bind_bind"><span class="id" title="lemma">Eq.bind_bind</span></a>. <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="ITree.Interp.HFunctor.html#interp_errorT_vis"><span class="id" title="lemma">interp_errorT_vis</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">guclo</span> <a class="idref" href="ITree.Eq.Eq.html#eqit_clo_bind"><span class="id" title="lemma">eqit_clo_bind</span></a>; <span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [] ? &lt;-; <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.Eq.Eq.html#bind_ret_l"><span class="id" title="lemma">Eq.bind_ret_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.RelationClasses.html#reflexivity"><span class="id" title="definition">reflexivity</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.Eq.Eq.html#bind_tau"><span class="id" title="lemma">bind_tau</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">gstep</span>; <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ITree.fold_subst</span>. <span class="id" title="var">gbase</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">CIH</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="errorT_morph_bind" class="idref" href="#errorT_morph_bind"><span class="id" title="lemma">errorT_morph_bind</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<a id="exn:332" class="idref" href="#exn:332"><span class="id" title="binder">exn</span></a> : <span class="id" title="keyword">Type</span>) (<a id="E:333" class="idref" href="#E:333"><span class="id" title="binder">E</span></a> <a id="F:334" class="idref" href="#F:334"><span class="id" title="binder">F</span></a> : <span class="id" title="keyword">Type</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Type</span>) (<a id="f:336" class="idref" href="#f:336"><span class="id" title="binder">f</span></a> : <span class="id" title="keyword">forall</span> <a id="T:335" class="idref" href="#T:335"><span class="id" title="binder">T</span></a> : <span class="id" title="keyword">Type</span>, <a class="idref" href="ITree.Interp.HFunctor.html#E:333"><span class="id" title="variable">E</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#T:335"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ITree.EqmR.Monads.ErrorT.html#errorT"><span class="id" title="definition">errorT</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#exn:332"><span class="id" title="variable">exn</span></a> (<a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#F:334"><span class="id" title="variable">F</span></a>) <a class="idref" href="ITree.Interp.HFunctor.html#T:335"><span class="id" title="variable">T</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.EqmR.EqmRMonadT.html#MorphBind"><span class="id" title="class">MorphBind</span></a> (<a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#E:333"><span class="id" title="variable">E</span></a>) (<a class="idref" href="ITree.EqmR.Monads.ErrorT.html#errorT"><span class="id" title="definition">errorT</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#exn:332"><span class="id" title="variable">exn</span></a> (<a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#F:334"><span class="id" title="variable">F</span></a>)) (<a class="idref" href="ITree.Interp.Interp.html#itree_interp"><span class="id" title="instance">itree_interp</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#f:336"><span class="id" title="variable">f</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>. <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="ITree.Interp.HFunctor.html#interp_errorT_bind"><span class="id" title="lemma">interp_errorT_bind</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.Eq.Eq.html#eutt_clo_bind"><span class="id" title="lemma">eutt_clo_bind</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.Interp.HFunctor.html#interp_errorT_euttH"><span class="id" title="definition">interp_errorT_euttH</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">apply</span> <a class="idref" href="ITree.Eq.Eq.html#eqit_Ret"><span class="id" title="lemma">eqit_Ret</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.Interp.HFunctor.html#interp_errorT_euttH"><span class="id" title="definition">interp_errorT_euttH</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="errorT_MonadMorphism" class="idref" href="#errorT_MonadMorphism"><span class="id" title="instance">errorT_MonadMorphism</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="exn:337" class="idref" href="#exn:337"><span class="id" title="binder">exn</span></a> (<a id="E:338" class="idref" href="#E:338"><span class="id" title="binder">E</span></a> <a id="F:339" class="idref" href="#F:339"><span class="id" title="binder">F</span></a> : <span class="id" title="keyword">Type</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Type</span>) (<a id="f:340" class="idref" href="#f:340"><span class="id" title="binder">f</span></a> : <a class="idref" href="ITree.Interp.HFunctor.html#E:338"><span class="id" title="variable">E</span></a> <a class="idref" href="ITree.Basics.Basics.html#f7397da22bdab7f77b06c5d98764e7b9"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="ITree.EqmR.Monads.ErrorT.html#errorT"><span class="id" title="definition">errorT</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#exn:337"><span class="id" title="variable">exn</span></a> (<a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#F:339"><span class="id" title="variable">F</span></a>)),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.EqmR.EqmRMonadT.html#MonadMorphism"><span class="id" title="class">MonadMorphism</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="ITree.Interp.Interp.html#itree_interp"><span class="id" title="instance">itree_interp</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#f:340"><span class="id" title="variable">f</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; [<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span> |<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ITree.Interp.HFunctor.html#errorT_morph_ret"><span class="id" title="lemma">errorT_morph_ret</span></a> |<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ITree.Interp.HFunctor.html#errorT_morph_bind"><span class="id" title="lemma">errorT_morph_bind</span></a> |..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.Interp.HFunctor.html#interp_errorT_euttH"><span class="id" title="definition">interp_errorT_euttH</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="errorT_IterMorphism" class="idref" href="#errorT_IterMorphism"><span class="id" title="instance">errorT_IterMorphism</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="exn:341" class="idref" href="#exn:341"><span class="id" title="binder">exn</span></a> (<a id="E:342" class="idref" href="#E:342"><span class="id" title="binder">E</span></a> <a id="F:343" class="idref" href="#F:343"><span class="id" title="binder">F</span></a> : <span class="id" title="keyword">Type</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Type</span>) (<a id="f:344" class="idref" href="#f:344"><span class="id" title="binder">f</span></a> : <a class="idref" href="ITree.Interp.HFunctor.html#E:342"><span class="id" title="variable">E</span></a> <a class="idref" href="ITree.Basics.Basics.html#f7397da22bdab7f77b06c5d98764e7b9"><span class="id" title="notation">~&gt;</span></a> <a class="idref" href="ITree.EqmR.Monads.ErrorT.html#errorT"><span class="id" title="definition">errorT</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#exn:341"><span class="id" title="variable">exn</span></a> (<a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#F:343"><span class="id" title="variable">F</span></a>)),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.EqmR.EqmRMonadT.html#IterMorphism"><span class="id" title="class">IterMorphism</span></a> (<a class="idref" href="ITree.Interp.Interp.html#itree_interp"><span class="id" title="instance">itree_interp</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#f:344"><span class="id" title="variable">f</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="ITree.EqmR.EqmRMonadT.html#IterMorphism"><span class="id" title="class">IterMorphism</span></a>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#sum_rel_eq"><span class="id" title="lemma">sum_rel_eq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ginit</span>. <span class="id" title="var">gcofix</span> <span class="id" title="var">CIH</span>; <span class="id" title="tactic">intros</span>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="ITree.Eq.Eq.html#unfold_iter"><span class="id" title="lemma">unfold_iter</span></a> <span class="id" title="tactic">at</span> 2.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="ITree.Eq.Eq.html#unfold_iter"><span class="id" title="lemma">unfold_iter</span></a> <span class="id" title="tactic">at</span> 2. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="ITree.Eq.Eq.html#bind_bind"><span class="id" title="lemma">Eq.bind_bind</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="ITree.Eq.Eq.html#bind_ret_l"><span class="id" title="lemma">Eq.bind_ret_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> @<a class="idref" href="ITree.Interp.HFunctor.html#interp_errorT_bind"><span class="id" title="lemma">interp_errorT_bind</span></a>. <span class="id" title="tactic">setoid_rewrite</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">guclo</span> <a class="idref" href="ITree.Eq.Eq.html#eqit_clo_bind"><span class="id" title="lemma">eqit_clo_bind</span></a>; <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> [<span class="id" title="var">s''</span> | [|]] [<span class="id" title="var">s'''</span> | [ |]] <span class="id" title="var">H</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">inv</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">gstep</span>; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="ITree.Interp.HFunctor.html#interp_errorT_tau"><span class="id" title="lemma">interp_errorT_tau</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">gstep</span>; <span class="id" title="tactic">constructor</span>. <span class="id" title="var">gfinal</span>. <span class="id" title="tactic">left</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">CIH</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> @<a class="idref" href="ITree.Interp.HFunctor.html#errorT_morph_ret"><span class="id" title="lemma">errorT_morph_ret</span></a>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="ITree.EqmR.EqmRMonadT.html#MorphRet"><span class="id" title="class">MorphRet</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="ITree.EqmR.EqmRMonadT.html#morph"><span class="id" title="definition">morph</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H</span> <span class="id" title="var">exn</span> <span class="id" title="var">E</span> <span class="id" title="var">F</span> <span class="id" title="var">f</span> <span class="id" title="var">R</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <span class="id" title="var">r1</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">gfinal</span>. <span class="id" title="tactic">right</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#sum_rel_eq"><span class="id" title="lemma">sum_rel_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">paco2_mon</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="var">contradiction</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="ITree.Interp.HFunctor.html#HFunctorInstances"><span class="id" title="section">HFunctorInstances</span></a>.<br/>

<br/>
</div>

<div class="doc">
*Nesting HFunctors 
</div>
<div class="code">
<span class="comment">(*&nbsp;HFunctors&nbsp;compose(nest)&nbsp;to&nbsp;make&nbsp;a&nbsp;HFunctor,&nbsp;and&nbsp;also&nbsp;the&nbsp;well-formedness<br/>
&nbsp;&nbsp;properties&nbsp;are&nbsp;closed&nbsp;under&nbsp;nesting&nbsp;as&nbsp;well.&nbsp;*)</span><br/>
<span class="id" title="keyword">Section</span> <a id="ComposeHFunctors" class="idref" href="#ComposeHFunctors"><span class="id" title="section">ComposeHFunctors</span></a>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Instance</span> <a id="compose_HFunctor" class="idref" href="#compose_HFunctor"><span class="id" title="instance">compose_HFunctor</span></a> {<a id="S:345" class="idref" href="#S:345"><span class="id" title="binder">S</span></a> <a id="T:346" class="idref" href="#T:346"><span class="id" title="binder">T</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">Type</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Type</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Type</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Type</span>} `{<a id="H:347" class="idref" href="#H:347"><span class="id" title="binder">HFunctor</span></a> <a id="H:347" class="idref" href="#H:347"><span class="id" title="binder">S</span></a>} `{<a id="H0:348" class="idref" href="#H0:348"><span class="id" title="binder">HFunctor</span></a> <a id="H0:348" class="idref" href="#H0:348"><span class="id" title="binder">T</span></a>}:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.Interp.HFunctor.html#HFunctor"><span class="id" title="class">HFunctor</span></a> (<span class="id" title="keyword">fun</span> <a id="x:349" class="idref" href="#x:349"><span class="id" title="binder">x</span></a> =&gt; <a class="idref" href="ITree.Interp.HFunctor.html#S:345"><span class="id" title="variable">S</span></a> (<a class="idref" href="ITree.Interp.HFunctor.html#T:346"><span class="id" title="variable">T</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#x:349"><span class="id" title="variable">x</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">eapply</span> (<a class="idref" href="ITree.Interp.HFunctor.html#ffmap"><span class="id" title="method">ffmap</span></a> <span class="id" title="var">X0</span> <span class="id" title="var">X1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Unshelve</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">exact</span> (<span class="id" title="keyword">fun</span> <a id="x:354" class="idref" href="#x:354"><span class="id" title="binder">x</span></a> <a id="y:355" class="idref" href="#y:355"><span class="id" title="binder">y</span></a> <a id="F:356" class="idref" href="#F:356"><span class="id" title="binder">F</span></a> <a id="X:357" class="idref" href="#X:357"><span class="id" title="binder">X</span></a> =&gt; <a class="idref" href="ITree.Interp.HFunctor.html#ffmap"><span class="id" title="method">ffmap</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#F:352"><span class="id" title="variable">F</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#X:353"><span class="id" title="variable">X</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">exact</span> (<a class="idref" href="ITree.Interp.HFunctor.html#hfmap"><span class="id" title="method">hfmap</span></a> (<a class="idref" href="ITree.Interp.HFunctor.html#hfmap"><span class="id" title="method">hfmap</span></a> <span class="id" title="var">X</span>) <span class="id" title="var">X0</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Instance</span> <a id="compose_WF_HFunctor" class="idref" href="#compose_WF_HFunctor"><span class="id" title="instance">compose_WF_HFunctor</span></a> {<a id="S:358" class="idref" href="#S:358"><span class="id" title="binder">S</span></a> <a id="T:359" class="idref" href="#T:359"><span class="id" title="binder">T</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">Type</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Type</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Type</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Type</span>} `{<a id="H:364" class="idref" href="#H:364"><span class="id" title="binder">WF_HFunctor</span></a> <a id="H:364" class="idref" href="#H:364"><span class="id" title="binder">S</span></a>} `{<a id="H0:369" class="idref" href="#H0:369"><span class="id" title="binder">WF_HFunctor</span></a> <a id="H0:369" class="idref" href="#H0:369"><span class="id" title="binder">T</span></a>}:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.Interp.HFunctor.html#WF_HFunctor"><span class="id" title="class">WF_HFunctor</span></a> (<span class="id" title="keyword">fun</span> <a id="x:370" class="idref" href="#x:370"><span class="id" title="binder">x</span></a> =&gt; <a class="idref" href="ITree.Interp.HFunctor.html#S:358"><span class="id" title="variable">S</span></a> (<a class="idref" href="ITree.Interp.HFunctor.html#T:359"><span class="id" title="variable">T</span></a> <a class="idref" href="ITree.Interp.HFunctor.html#x:370"><span class="id" title="variable">x</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">cbn</span>. <span class="id" title="var">etransitivity</span>. <span class="id" title="tactic">eapply</span> @<a class="idref" href="ITree.Interp.HFunctor.html#hfmap_proper"><span class="id" title="method">hfmap_proper</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">Unshelve</span>. 4 : <span class="id" title="tactic">exact</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> <a id="X:372" class="idref" href="#X:372"><span class="id" title="binder">X</span></a> =&gt; <a class="idref" href="ITree.Interp.HFunctor.html#X:371"><span class="id" title="variable">X</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span>. <span class="id" title="var">etransitivity</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.EqmR.EqmRMonadT.html#morph_proper"><span class="id" title="definition">morph_proper</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.Interp.HFunctor.html#hfmap_id"><span class="id" title="method">hfmap_id</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.Interp.HFunctor.html#hfmap_id"><span class="id" title="method">hfmap_id</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">cbn</span>; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span>; <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">T_HFunctorLaws0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">hfmap_nat0</span> (<span class="id" title="var">T</span> <span class="id" title="var">g</span>) (<span class="id" title="var">T</span> <span class="id" title="var">h</span>) <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (@<a class="idref" href="ITree.Interp.HFunctor.html#hfmap"><span class="id" title="method">hfmap</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">g</span> <span class="id" title="var">h</span> <span class="id" title="var">F</span>) <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">MM_morph_ret</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">eapply</span> <span class="id" title="var">MM_morph_ret</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">T_HFunctorLaws0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">hfmap_nat0</span> (<span class="id" title="var">T</span> <span class="id" title="var">g</span>) (<span class="id" title="var">T</span> <span class="id" title="var">h</span>) <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (@<a class="idref" href="ITree.Interp.HFunctor.html#hfmap"><span class="id" title="method">hfmap</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">g</span> <span class="id" title="var">h</span> <span class="id" title="var">F</span>) <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">MM_morph_bind</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">eapply</span> <span class="id" title="var">MM_morph_bind</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">T_HFunctorLaws0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">hfmap_nat0</span> (<span class="id" title="var">T</span> <span class="id" title="var">g</span>) (<span class="id" title="var">T</span> <span class="id" title="var">h</span>) <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (@<a class="idref" href="ITree.Interp.HFunctor.html#hfmap"><span class="id" title="method">hfmap</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">g</span> <span class="id" title="var">h</span> <span class="id" title="var">F</span>) <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">MM_morph_proper</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">eapply</span> <span class="id" title="var">MM_morph_proper</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (@<a class="idref" href="ITree.Interp.HFunctor.html#hfmap_proper"><span class="id" title="method">hfmap_proper</span></a> <span class="id" title="var">S</span>); <span class="id" title="tactic">try</span> <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (@<a class="idref" href="ITree.Interp.HFunctor.html#hfmap_proper"><span class="id" title="method">hfmap_proper</span></a> <span class="id" title="var">T</span>); <span class="id" title="tactic">try</span> <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span>; <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">cbn</span> -[<span class="id" title="var">lift</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etransitivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (@<a class="idref" href="ITree.Interp.HFunctor.html#hfmap_lift"><span class="id" title="method">hfmap_lift</span></a> <span class="id" title="var">S</span>); <span class="id" title="tactic">try</span> <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.EqmR.EqmRMonadT.html#morph_proper"><span class="id" title="definition">morph_proper</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (@<a class="idref" href="ITree.Interp.HFunctor.html#hfmap_lift"><span class="id" title="method">hfmap_lift</span></a> <span class="id" title="var">T</span>); <span class="id" title="tactic">try</span> <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etransitivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (@<a class="idref" href="ITree.Interp.HFunctor.html#hfmap_iter"><span class="id" title="method">hfmap_iter</span></a> <span class="id" title="var">S</span>); <span class="id" title="tactic">try</span> <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">T_HFunctorLawsExtra0</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">hfmap_iter0</span>; <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Unshelve</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">T_HFunctorLaws0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">hfmap_nat0</span> <span class="id" title="var">g</span> <span class="id" title="var">g</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> <a id="x:374" class="idref" href="#x:374"><span class="id" title="binder">x</span></a> =&gt; <a class="idref" href="ITree.Interp.HFunctor.html#x:373"><span class="id" title="variable">x</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">edestruct</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>; <span class="id" title="var">cbn</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#eqmR_ret"><span class="id" title="method">eqmR_ret</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#eqmR_bind_ProperH"><span class="id" title="method">eqmR_bind_ProperH</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="ITree.Interp.HFunctor.html#ComposeHFunctors"><span class="id" title="section">ComposeHFunctors</span></a>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
