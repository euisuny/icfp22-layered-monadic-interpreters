<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="../">Project Page</a>
      <a href="./indexpage.html"> Index </a>
      <a href="./toc.html"> Table of Contents </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">ITree.Basics.MonadFail</h1>

<div class="code">
</div>

<div class="doc">
<a id="lab104"></a><h1 class="section">Iterative laws for failure monad</h1>

</div>
<div class="code">

<br/>

<br/>
<span class="comment">(*&nbsp;Failure&nbsp;handlers&nbsp;<span class="inlinecode"><span class="id" title="var">E</span></span> <span class="inlinecode">~&gt;</span> <span class="inlinecode"><span class="id" title="var">stateT</span></span> <span class="inlinecode"><span class="id" title="var">S</span></span> <span class="inlinecode">(<span class="id" title="var">itree</span></span> <span class="inlinecode"><span class="id" title="var">F</span>)</span>&nbsp;and&nbsp;morphisms<br/>
&nbsp;&nbsp;&nbsp;<span class="inlinecode"><span class="id" title="var">E</span></span> <span class="inlinecode">~&gt;</span> <span class="inlinecode"><span class="id" title="var">state</span></span> <span class="inlinecode"><span class="id" title="var">S</span></span>&nbsp;define&nbsp;stateful&nbsp;itree&nbsp;morphisms<br/>
&nbsp;&nbsp;&nbsp;<span class="inlinecode"><span class="id" title="var">itree</span></span> <span class="inlinecode"><span class="id" title="var">E</span></span> <span class="inlinecode">~&gt;</span> <span class="inlinecode"><span class="id" title="var">stateT</span></span> <span class="inlinecode"><span class="id" title="var">S</span></span> <span class="inlinecode">(<span class="id" title="var">itree</span></span> <span class="inlinecode"><span class="id" title="var">F</span>)</span>.&nbsp;*)</span><br/>

<br/>
#[<span class="id" title="var">global</span>]<br/>
&nbsp;<span class="id" title="keyword">Instance</span> <a id="errorT_iter" class="idref" href="#errorT_iter"><span class="id" title="instance">errorT_iter</span></a> {<a id="m:1" class="idref" href="#m:1"><span class="id" title="binder">m</span></a>} {<a id="exn:2" class="idref" href="#exn:2"><span class="id" title="binder">exn</span></a>} {<a id="Mm:3" class="idref" href="#Mm:3"><span class="id" title="binder">Mm</span></a> : <span class="id" title="class">Monad</span> <a class="idref" href="ITree.Basics.MonadFail.html#m:1"><span class="id" title="variable">m</span></a>} {<a id="MIm:4" class="idref" href="#MIm:4"><span class="id" title="binder">MIm</span></a> : <a class="idref" href="ITree.Basics.Basics.html#MonadIter"><span class="id" title="class">MonadIter</span></a> <a class="idref" href="ITree.Basics.MonadFail.html#m:1"><span class="id" title="variable">m</span></a>}<br/>
&nbsp;&nbsp;: <a class="idref" href="ITree.Basics.Basics.html#MonadIter"><span class="id" title="class">MonadIter</span></a> (<a class="idref" href="ITree.EqmR.Monads.ErrorT.html#errorT"><span class="id" title="definition">errorT</span></a> <a class="idref" href="ITree.Basics.MonadFail.html#exn:2"><span class="id" title="variable">exn</span></a> <a class="idref" href="ITree.Basics.MonadFail.html#m:1"><span class="id" title="variable">m</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <a id="A:5" class="idref" href="#A:5"><span class="id" title="binder">A</span></a> <a id="I:6" class="idref" href="#I:6"><span class="id" title="binder">I</span></a> <a id="body:7" class="idref" href="#body:7"><span class="id" title="binder">body</span></a> <a id="i:8" class="idref" href="#i:8"><span class="id" title="binder">i</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.Basics.Basics.html#iter"><span class="id" title="definition">Basics.iter</span></a> (<span class="id" title="var">M</span> := <span class="id" title="var">m</span>) (<span class="id" title="var">I</span> := <a class="idref" href="ITree.Basics.MonadFail.html#I:6"><span class="id" title="variable">I</span></a>) (<span class="id" title="var">R</span> := <span class="id" title="var">exn</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">+</span></a> <a class="idref" href="ITree.Basics.MonadFail.html#A:5"><span class="id" title="variable">A</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="i:9" class="idref" href="#i:9"><span class="id" title="binder">i</span></a> =&gt; <span class="id" title="method">bind</span> (<span class="id" title="var">m</span> := <span class="id" title="var">m</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="ITree.Basics.MonadFail.html#body:7"><span class="id" title="variable">body</span></a> <a class="idref" href="ITree.Basics.MonadFail.html#i:9"><span class="id" title="variable">i</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="x:10" class="idref" href="#x:10"><span class="id" title="binder">x</span></a> =&gt; <span class="id" title="method">ret</span> ( <span class="id" title="keyword">match</span> <a class="idref" href="ITree.Basics.MonadFail.html#x:10"><span class="id" title="variable">x</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <span class="id" title="var">e</span> =&gt; (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <span class="id" title="var">e</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <span class="id" title="var">j</span>) =&gt; (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <span class="id" title="var">j</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <span class="id" title="var">a</span>) =&gt; (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <span class="id" title="var">a</span>)) <span class="id" title="keyword">end</span>))) <a class="idref" href="ITree.Basics.MonadFail.html#i:8"><span class="id" title="variable">i</span></a>.<br/>

<br/>
<span class="id" title="keyword">Global</span> <span class="id" title="keyword">Hint</span> <span class="id" title="var">Mode</span> <a class="idref" href="ITree.Basics.MonadFail.html#errorT_iter"><span class="id" title="instance">errorT_iter</span></a> ! ! ! ! : <span class="id" title="var">typeclasses_instances</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">sum_rel_conv</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.Eq.UpToTaus.html#eutt_Proper_R"><span class="id" title="instance">eutt_Proper_R</span></a>; [ <span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#sum_rel_eq"><span class="id" title="lemma">sum_rel_eq</span></a>; <span class="id" title="tactic">reflexivity</span> | <span class="id" title="tactic">reflexivity</span> | <span class="id" title="tactic">reflexivity</span> | ..].<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="ErrorTIterative" class="idref" href="#ErrorTIterative"><span class="id" title="section">ErrorTIterative</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> <a id="ErrorTIterative.exn" class="idref" href="#ErrorTIterative.exn"><span class="id" title="variable">exn</span></a>: <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> <a id="ErrorTIterative.M" class="idref" href="#ErrorTIterative.M"><span class="id" title="variable">M</span></a> : <span class="id" title="keyword">Type</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Type</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<a id="IM:17" class="idref" href="#IM:17"><span class="id" title="binder">IM</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonadT.html#WF_IterativeMonad"><span class="id" title="class">WF_IterativeMonad</span></a> <a class="idref" href="ITree.Basics.MonadFail.html#ErrorTIterative.M"><span class="id" title="variable">M</span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span> <span class="id" title="var">pacify</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#Proper_eqmR"><span class="id" title="method">Proper_eqmR</span></a>; [ <span class="id" title="tactic">apply</span> <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#sum_rel_eq"><span class="id" title="lemma">HeterogeneousRelations.sum_rel_eq</span></a> | ].<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a id="IterUnfold_errorT" class="idref" href="#IterUnfold_errorT"><span class="id" title="instance">IterUnfold_errorT</span></a> : <a class="idref" href="ITree.Basics.CategoryTheory.html#IterUnfold"><span class="id" title="class">IterUnfold</span></a> (<a class="idref" href="ITree.Basics.CategoryKleisli.html#Kleisli"><span class="id" title="definition">Kleisli</span></a> (<a class="idref" href="ITree.EqmR.Monads.ErrorT.html#errorT"><span class="id" title="definition">errorT</span></a> <a class="idref" href="ITree.Basics.MonadFail.html#ErrorTIterative.exn"><span class="id" title="variable">exn</span></a> <a class="idref" href="ITree.Basics.MonadFail.html#ErrorTIterative.M"><span class="id" title="variable">M</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#sum"><span class="id" title="inductive">sum</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>. <span class="id" title="var">unfold_ktree</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="ITree.Basics.MonadFail.html#ErrorTIterative.IM"><span class="id" title="variable">IM</span></a>. <span class="id" title="var">pacify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etransitivity</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#Proper_eqmR_mono"><span class="id" title="method">Proper_eqmR_mono</span></a>; <span class="id" title="var">cycle</span> 1. <span class="id" title="tactic">unfold</span> <a class="idref" href="ITree.Basics.CategoryOps.html#iter"><span class="id" title="definition">iter</span></a>, <a class="idref" href="ITree.Basics.CategoryKleisli.html#Iter_Kleisli"><span class="id" title="instance">Iter_Kleisli</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> @<a class="idref" href="ITree.Basics.CategoryTheory.html#iter_unfold"><span class="id" title="definition">iter_unfold</span></a>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">H</span> <span class="id" title="var">_</span> (<a class="idref" href="ITree.Basics.CategoryKleisli.html#Kleisli"><span class="id" title="definition">Kleisli</span></a> <a class="idref" href="ITree.Basics.MonadFail.html#ErrorTIterative.M"><span class="id" title="variable">M</span></a>) <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#subrelationH_Reflexive"><span class="id" title="lemma">subrelationH_Reflexive</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#bind_bind"><span class="id" title="definition">bind_bind</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#Proper_bind"><span class="id" title="definition">Proper_bind</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#bind_ret_l"><span class="id" title="definition">bind_ret_l</span></a>. <span class="id" title="tactic">unfold</span> <a class="idref" href="ITree.Basics.CategoryOps.html#case_"><span class="id" title="definition">case_</span></a>, <a class="idref" href="ITree.Basics.CategoryKleisli.html#Case_Kleisli"><span class="id" title="instance">Case_Kleisli</span></a>, <a class="idref" href="ITree.Basics.Function.html#case_sum"><span class="id" title="instance">Function.case_sum</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a2</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">s</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="sum_comm_rel" class="idref" href="#sum_comm_rel"><span class="id" title="definition">sum_comm_rel</span></a> {<a id="A:18" class="idref" href="#A:18"><span class="id" title="binder">A</span></a> <a id="B:19" class="idref" href="#B:19"><span class="id" title="binder">B</span></a> <a id="C:20" class="idref" href="#C:20"><span class="id" title="binder">C</span></a>} : <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#relationH"><span class="id" title="definition">relationH</span></a> (<a class="idref" href="ITree.Basics.MonadFail.html#A:18"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">(</span></a><a class="idref" href="ITree.Basics.MonadFail.html#B:19"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">+</span></a> <a class="idref" href="ITree.Basics.MonadFail.html#C:20"><span class="id" title="variable">C</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">)</span></a>) (<a class="idref" href="ITree.Basics.MonadFail.html#B:19"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">(</span></a><a class="idref" href="ITree.Basics.MonadFail.html#A:18"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">+</span></a> <a class="idref" href="ITree.Basics.MonadFail.html#C:20"><span class="id" title="variable">C</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">)</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="x:21" class="idref" href="#x:21"><span class="id" title="binder">x</span></a> <a id="y:22" class="idref" href="#y:22"><span class="id" title="binder">y</span></a> =&gt; <span class="id" title="keyword">match</span> <a class="idref" href="ITree.Basics.MonadFail.html#x:21"><span class="id" title="variable">x</span></a>, <a class="idref" href="ITree.Basics.MonadFail.html#y:22"><span class="id" title="variable">y</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <span class="id" title="var">a</span>, <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <span class="id" title="var">a'</span>) =&gt; <span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">a'</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <span class="id" title="var">b</span>), <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <span class="id" title="var">b'</span> =&gt; <span class="id" title="var">b</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">b'</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <span class="id" title="var">c</span>), <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <span class="id" title="var">c'</span>) =&gt; <span class="id" title="var">c</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">c'</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span>, <span class="id" title="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#False"><span class="id" title="inductive">False</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a id="IterNatural_errorT" class="idref" href="#IterNatural_errorT"><span class="id" title="instance">IterNatural_errorT</span></a> : <a class="idref" href="ITree.Basics.CategoryTheory.html#IterNatural"><span class="id" title="class">IterNatural</span></a> (<a class="idref" href="ITree.Basics.CategoryKleisli.html#Kleisli"><span class="id" title="definition">Kleisli</span></a> (<a class="idref" href="ITree.EqmR.Monads.ErrorT.html#errorT"><span class="id" title="definition">errorT</span></a> <a class="idref" href="ITree.Basics.MonadFail.html#ErrorTIterative.exn"><span class="id" title="variable">exn</span></a> <a class="idref" href="ITree.Basics.MonadFail.html#ErrorTIterative.M"><span class="id" title="variable">M</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#sum"><span class="id" title="inductive">sum</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>. <span class="id" title="var">unfold_ktree</span>. <span class="id" title="var">pacify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="ITree.Basics.MonadFail.html#ErrorTIterative.IM"><span class="id" title="variable">IM</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etransitivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#Proper_eqmR_mono"><span class="id" title="method">Proper_eqmR_mono</span></a>; <span class="id" title="var">cycle</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">unfold</span> <a class="idref" href="ITree.Basics.CategoryOps.html#iter"><span class="id" title="definition">iter</span></a>, <a class="idref" href="ITree.Basics.CategoryKleisli.html#Iter_Kleisli"><span class="id" title="instance">Iter_Kleisli</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| |- <span class="id" title="keyword">context</span>[<span class="id" title="method">bind</span> <span class="id" title="var">_</span> ?<span class="id" title="var">k</span>] =&gt; <span class="id" title="var">remember</span> <span class="id" title="var">k</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="ITree.EqmR.Monads.ErrorT.html#errorT"><span class="id" title="definition">errorT</span></a> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="ITree.Basics.CategoryKleisli.html#Kleisli"><span class="id" title="definition">Kleisli</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">f</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#Proper_bind"><span class="id" title="definition">Proper_bind</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">ma2</span> := (<a class="idref" href="ITree.Basics.Basics.html#iter"><span class="id" title="definition">Basics.iter</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="a0:30" class="idref" href="#a0:30"><span class="id" title="binder">a0</span></a> : <span class="id" title="var">a</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="method">bind</span> (<span class="id" title="var">f</span> <a class="idref" href="ITree.Basics.MonadFail.html#a0:25"><span class="id" title="variable">a0</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="x:31" class="idref" href="#x:31"><span class="id" title="binder">x</span></a> : <a class="idref" href="ITree.Basics.MonadFail.html#ErrorTIterative.exn"><span class="id" title="variable">exn</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">(</span></a><span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">+</span></a> <span class="id" title="var">b</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">)</span></a> =&gt; <span class="id" title="method">ret</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="ITree.Basics.MonadFail.html#x:26"><span class="id" title="variable">x</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <span class="id" title="var">e</span> =&gt; (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <span class="id" title="var">e</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <span class="id" title="var">a1</span>) =&gt; (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <span class="id" title="var">a1</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <span class="id" title="var">b0</span>) =&gt; (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <span class="id" title="var">b0</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>)) <span class="id" title="var">a0</span>)) (<span class="id" title="var">RR</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a>) (<span class="id" title="var">k1</span> := <span class="id" title="var">m</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">k2</span> := <span class="id" title="keyword">fun</span> <a id="a2:33" class="idref" href="#a2:33"><span class="id" title="binder">a2</span></a> =&gt; <span class="id" title="keyword">match</span> <a class="idref" href="ITree.Basics.MonadFail.html#a2:28"><span class="id" title="variable">a2</span></a> <span class="id" title="keyword">with</span> | <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <span class="id" title="var">e</span> =&gt; <span class="id" title="method">ret</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <span class="id" title="var">e</span>) | <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <span class="id" title="var">a1</span> =&gt; <span class="id" title="var">g</span> <span class="id" title="var">a1</span> <span class="id" title="keyword">end</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">reflexivity</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#subrelationH_Reflexive"><span class="id" title="lemma">subrelationH_Reflexive</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etransitivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> @<a class="idref" href="ITree.Basics.CategoryTheory.html#iterative_natural"><span class="id" title="method">iterative_natural</span></a>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">H</span> <span class="id" title="var">_</span> (<a class="idref" href="ITree.Basics.CategoryKleisli.html#Kleisli"><span class="id" title="definition">Kleisli</span></a> <a class="idref" href="ITree.Basics.MonadFail.html#ErrorTIterative.M"><span class="id" title="variable">M</span></a>) <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="ITree.Basics.CategoryOps.html#cat"><span class="id" title="definition">cat</span></a>, <a class="idref" href="ITree.Basics.CategoryKleisli.html#Cat_Kleisli"><span class="id" title="instance">Cat_Kleisli</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="ITree.Basics.CategoryOps.html#iter"><span class="id" title="definition">iter</span></a>, <a class="idref" href="ITree.Basics.CategoryKleisli.html#Iter_Kleisli"><span class="id" title="instance">Iter_Kleisli</span></a>, <a class="idref" href="ITree.Basics.CategoryKleisli.html#Kleisli"><span class="id" title="definition">Kleisli</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="ITree.EqmR.Monads.ErrorT.html#errorT"><span class="id" title="definition">errorT</span></a> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="ITree.Basics.CategoryKleisli.html#Kleisli"><span class="id" title="definition">Kleisli</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H</span> <span class="id" title="var">_</span> (<a class="idref" href="ITree.Basics.MonadFail.html#ErrorTIterative.exn"><span class="id" title="variable">exn</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">+</span></a> <span class="id" title="var">b</span>)%<span class="id" title="keyword">type</span> (<a class="idref" href="ITree.Basics.MonadFail.html#ErrorTIterative.exn"><span class="id" title="variable">exn</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">+</span></a> <span class="id" title="var">c</span>)%<span class="id" title="keyword">type</span> (<span class="id" title="keyword">fun</span> <a id="a:40" class="idref" href="#a:40"><span class="id" title="binder">a</span></a> =&gt; <span class="id" title="method">bind</span> (<span class="id" title="var">f</span> <a class="idref" href="ITree.Basics.MonadFail.html#a:35"><span class="id" title="variable">a</span></a>) (<span class="id" title="keyword">fun</span> <a id="x:41" class="idref" href="#x:41"><span class="id" title="binder">x</span></a> =&gt; <span class="id" title="method">ret</span> <span class="id" title="keyword">match</span> <a class="idref" href="ITree.Basics.MonadFail.html#x:36"><span class="id" title="variable">x</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <span class="id" title="var">e</span> =&gt; (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <span class="id" title="var">e</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <span class="id" title="var">a</span>) =&gt; (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <a class="idref" href="ITree.Basics.MonadFail.html#a:35"><span class="id" title="variable">a</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <span class="id" title="var">b</span>) =&gt; (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <span class="id" title="var">b</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>)) ((<span class="id" title="keyword">fun</span> <a id="x:43" class="idref" href="#x:43"><span class="id" title="binder">x</span></a> : <a class="idref" href="ITree.Basics.MonadFail.html#ErrorTIterative.exn"><span class="id" title="variable">exn</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">+</span></a> <span class="id" title="var">b</span> =&gt; <span class="id" title="keyword">match</span> <a class="idref" href="ITree.Basics.MonadFail.html#x:38"><span class="id" title="variable">x</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <span class="id" title="var">e</span> =&gt; <span class="id" title="method">ret</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <span class="id" title="var">e</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <span class="id" title="var">a</span> =&gt; <span class="id" title="var">g</span> <span class="id" title="var">a</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>)) <span class="id" title="var">a0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">H</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="comment">(*&nbsp;IY:&nbsp;Why&nbsp;can't&nbsp;we&nbsp;directly&nbsp;apply&nbsp;<span class="inlinecode"><span class="id" title="var">Proper_iter</span></span>&nbsp;here?&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> @<a class="idref" href="ITree.Basics.CategoryKleisli.html#Proper_iterH"><span class="id" title="definition">Proper_iterH</span></a> <span class="id" title="keyword">as</span> <span class="id" title="var">Piter</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Piter</span> <a class="idref" href="ITree.Basics.MonadFail.html#ErrorTIterative.M"><span class="id" title="variable">M</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>). <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Piter</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="ITree.Basics.CategoryOps.html#iter"><span class="id" title="definition">iter</span></a>, <a class="idref" href="ITree.Basics.CategoryKleisli.html#Iter_Kleisli"><span class="id" title="instance">Iter_Kleisli</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Piter</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">Piter</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#bind_bind"><span class="id" title="definition">bind_bind</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#Proper_bind"><span class="id" title="definition">Proper_bind</span></a>; [ <span class="id" title="var">pacify</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">reflexivity</span> | <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">subst</span> ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#bind_ret_l"><span class="id" title="definition">bind_ret_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="ITree.Basics.CategoryOps.html#bimap"><span class="id" title="definition">bimap</span></a>, <a class="idref" href="ITree.Basics.CategoryOps.html#Bimap_Coproduct"><span class="id" title="instance">Bimap_Coproduct</span></a>, <a class="idref" href="ITree.Basics.CategoryOps.html#case_"><span class="id" title="definition">case_</span></a>, <a class="idref" href="ITree.Basics.CategoryKleisli.html#Case_Kleisli"><span class="id" title="instance">Case_Kleisli</span></a>, <a class="idref" href="ITree.Basics.Function.html#case_sum"><span class="id" title="instance">Function.case_sum</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a3</span>; [ | <span class="id" title="tactic">destruct</span> <span class="id" title="var">s</span>]; <span class="id" title="var">pacify</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#sum_rel_eq"><span class="id" title="lemma">sum_rel_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="ITree.Basics.CategoryOps.html#cat"><span class="id" title="definition">cat</span></a>. <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#bind_ret_l"><span class="id" title="definition">bind_ret_l</span></a>. <span class="id" title="tactic">unfold</span> <a class="idref" href="ITree.Basics.CategoryOps.html#inr_"><span class="id" title="definition">inr_</span></a>, <a class="idref" href="ITree.Basics.CategoryKleisli.html#Inr_Kleisli"><span class="id" title="instance">Inr_Kleisli</span></a>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="ITree.Basics.CategoryOps.html#cat"><span class="id" title="definition">cat</span></a>. <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#bind_ret_l"><span class="id" title="definition">bind_ret_l</span></a>. <span class="id" title="tactic">unfold</span> <a class="idref" href="ITree.Basics.CategoryOps.html#inl_"><span class="id" title="definition">inl_</span></a>, <a class="idref" href="ITree.Basics.CategoryKleisli.html#Inl_Kleisli"><span class="id" title="instance">Inl_Kleisli</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="ITree.Basics.CategoryKleisli.html#pure"><span class="id" title="definition">pure</span></a>. <span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a>. <span class="id" title="tactic">symmetry</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#bind_ret_l"><span class="id" title="definition">bind_ret_l</span></a>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="ITree.Basics.CategoryOps.html#cat"><span class="id" title="definition">cat</span></a>. <span class="id" title="tactic">symmetry</span>. <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#bind_bind"><span class="id" title="definition">bind_bind</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#Proper_bind"><span class="id" title="definition">Proper_bind</span></a>; [ <span class="id" title="tactic">reflexivity</span> | ..]; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">a3</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#bind_ret_l"><span class="id" title="definition">bind_ret_l</span></a>; <span class="id" title="tactic">reflexivity</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a id="IterDinatural_errorT" class="idref" href="#IterDinatural_errorT"><span class="id" title="instance">IterDinatural_errorT</span></a>: <a class="idref" href="ITree.Basics.CategoryTheory.html#IterDinatural"><span class="id" title="class">IterDinatural</span></a> (<a class="idref" href="ITree.Basics.CategoryKleisli.html#Kleisli"><span class="id" title="definition">Kleisli</span></a> (<a class="idref" href="ITree.EqmR.Monads.ErrorT.html#errorT"><span class="id" title="definition">errorT</span></a> <a class="idref" href="ITree.Basics.MonadFail.html#ErrorTIterative.exn"><span class="id" title="variable">exn</span></a> <a class="idref" href="ITree.Basics.MonadFail.html#ErrorTIterative.M"><span class="id" title="variable">M</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#sum"><span class="id" title="inductive">sum</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">C</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unfold_ktree</span>; <span class="id" title="var">pacify</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> @<a class="idref" href="ITree.Basics.CategoryTheory.html#iter_dinatural"><span class="id" title="definition">iter_dinatural</span></a> <span class="id" title="keyword">as</span> <span class="id" title="var">Hdin</span> .<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hdin</span> <span class="id" title="var">_</span> (<a class="idref" href="ITree.Basics.CategoryKleisli.html#Kleisli"><span class="id" title="definition">Kleisli</span></a> <a class="idref" href="ITree.Basics.MonadFail.html#ErrorTIterative.M"><span class="id" title="variable">M</span></a>) <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#sum"><span class="id" title="inductive">sum</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hdin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="ITree.Basics.CategoryOps.html#cat"><span class="id" title="definition">cat</span></a>, <a class="idref" href="ITree.Basics.CategoryOps.html#case_"><span class="id" title="definition">case_</span></a>, <a class="idref" href="ITree.Basics.CategoryKleisli.html#Cat_Kleisli"><span class="id" title="instance">Cat_Kleisli</span></a>, <a class="idref" href="ITree.Basics.CategoryKleisli.html#Case_Kleisli"><span class="id" title="instance">Case_Kleisli</span></a>, <a class="idref" href="ITree.Basics.Function.html#case_sum"><span class="id" title="instance">Function.case_sum</span></a>, <a class="idref" href="ITree.Basics.CategoryOps.html#inr_"><span class="id" title="definition">inr_</span></a>, <a class="idref" href="ITree.Basics.CategoryKleisli.html#Inr_Kleisli"><span class="id" title="instance">Inr_Kleisli</span></a>, <a class="idref" href="ITree.Basics.CategoryKleisli.html#pure"><span class="id" title="definition">pure</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hdin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="ITree.Basics.CategoryKleisli.html#Kleisli"><span class="id" title="definition">Kleisli</span></a>, <a class="idref" href="ITree.EqmR.Monads.ErrorT.html#errorT"><span class="id" title="definition">errorT</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">f</span>, <span class="id" title="var">g</span>, <span class="id" title="var">Hdin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hdin</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> (<a class="idref" href="ITree.Basics.MonadFail.html#ErrorTIterative.exn"><span class="id" title="variable">exn</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">+</span></a> <span class="id" title="var">C</span>)%<span class="id" title="keyword">type</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hdin</span> (<span class="id" title="keyword">fun</span> <a id="x:48" class="idref" href="#x:48"><span class="id" title="binder">x</span></a> =&gt; <span class="id" title="method">bind</span> (<span class="id" title="var">f</span> <a class="idref" href="ITree.Basics.MonadFail.html#x:45"><span class="id" title="variable">x</span></a>) (<span class="id" title="keyword">fun</span> <a id="y:49" class="idref" href="#y:49"><span class="id" title="binder">y</span></a> =&gt; <span class="id" title="method">ret</span> <span class="id" title="keyword">match</span> <a class="idref" href="ITree.Basics.MonadFail.html#y:46"><span class="id" title="variable">y</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <span class="id" title="var">e</span> =&gt; (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <span class="id" title="var">e</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <span class="id" title="var">b</span>) =&gt; (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <span class="id" title="var">b</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <span class="id" title="var">c</span>) =&gt; (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <span class="id" title="var">c</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hdin</span> (<span class="id" title="keyword">fun</span> <a id="x:54" class="idref" href="#x:54"><span class="id" title="binder">x</span></a> =&gt; <span class="id" title="method">bind</span> (<span class="id" title="var">g</span> <a class="idref" href="ITree.Basics.MonadFail.html#x:51"><span class="id" title="variable">x</span></a>) (<span class="id" title="keyword">fun</span> <a id="y:55" class="idref" href="#y:55"><span class="id" title="binder">y</span></a> =&gt; <span class="id" title="method">ret</span> <span class="id" title="keyword">match</span> <a class="idref" href="ITree.Basics.MonadFail.html#y:52"><span class="id" title="variable">y</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <span class="id" title="var">e</span> =&gt; (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <span class="id" title="var">e</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <span class="id" title="var">b</span>) =&gt; (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <span class="id" title="var">b</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <span class="id" title="var">c</span>) =&gt; (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <span class="id" title="var">c</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>)) <span class="id" title="var">a</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [<span class="id" title="var">H</span> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#eqmR"><span class="id" title="method">eqmR</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> ?<span class="id" title="var">lhs</span> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span>] =&gt; <span class="id" title="var">remember</span> <span class="id" title="var">lhs</span> <span class="id" title="keyword">as</span> <span class="id" title="var">m</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">transitivity</span> <span class="id" title="var">m</span>; <span class="id" title="tactic">subst</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="comment">(*&nbsp;IY:&nbsp;Why&nbsp;can't&nbsp;we&nbsp;directly&nbsp;apply&nbsp;<span class="inlinecode"><span class="id" title="var">Proper_iter</span></span>&nbsp;here?&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> @<a class="idref" href="ITree.Basics.CategoryKleisli.html#Proper_iterH"><span class="id" title="definition">Proper_iterH</span></a> <span class="id" title="keyword">as</span> <span class="id" title="var">Piter</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Piter</span> <a class="idref" href="ITree.Basics.MonadFail.html#ErrorTIterative.M"><span class="id" title="variable">M</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>). <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Piter</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="ITree.Basics.CategoryOps.html#iter"><span class="id" title="definition">iter</span></a>, <a class="idref" href="ITree.Basics.CategoryKleisli.html#Iter_Kleisli"><span class="id" title="instance">Iter_Kleisli</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Piter</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">Piter</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>. <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#bind_bind"><span class="id" title="definition">bind_bind</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#Proper_bind"><span class="id" title="definition">Proper_bind</span></a>; [ <span class="id" title="var">pacify</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">reflexivity</span> | ..]; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">pacify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">symmetry</span>. <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#bind_ret_l"><span class="id" title="definition">bind_ret_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a3</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">a3</span> | [<span class="id" title="var">a3</span> | <span class="id" title="var">a3</span>]];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a0</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">a0</span> | [<span class="id" title="var">a0</span> | <span class="id" title="var">a0</span>]]; <span class="id" title="var">inv</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">inv</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">symmetry</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#bind_ret_l"><span class="id" title="definition">bind_ret_l</span></a>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">symmetry</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#bind_ret_l"><span class="id" title="definition">bind_ret_l</span></a>. <span class="id" title="tactic">reflexivity</span>. } <span class="id" title="tactic">eauto</span>. }<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etransitivity</span>; [ <span class="id" title="tactic">eapply</span> <span class="id" title="var">Hdin</span> | ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#bind_bind"><span class="id" title="definition">bind_bind</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#Proper_bind"><span class="id" title="definition">Proper_bind</span></a>; [ <span class="id" title="tactic">reflexivity</span> |..]; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#bind_ret_l"><span class="id" title="definition">bind_ret_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a2</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">a2</span> | [<span class="id" title="var">a2</span> | <span class="id" title="var">a2</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="ITree.Basics.CategoryOps.html#id_"><span class="id" title="definition">id_</span></a>, <a class="idref" href="ITree.Basics.CategoryKleisli.html#Id_Kleisli"><span class="id" title="instance">Id_Kleisli</span></a>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;IY:&nbsp;Why&nbsp;can't&nbsp;we&nbsp;directly&nbsp;apply&nbsp;<span class="inlinecode"><span class="id" title="var">Proper_iter</span></span>&nbsp;here?&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> @<a class="idref" href="ITree.Basics.CategoryKleisli.html#Proper_iterH"><span class="id" title="definition">Proper_iterH</span></a> <span class="id" title="keyword">as</span> <span class="id" title="var">Piter</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Piter</span> <a class="idref" href="ITree.Basics.MonadFail.html#ErrorTIterative.M"><span class="id" title="variable">M</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>). <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Piter</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="ITree.Basics.CategoryOps.html#iter"><span class="id" title="definition">iter</span></a>, <a class="idref" href="ITree.Basics.CategoryKleisli.html#Iter_Kleisli"><span class="id" title="instance">Iter_Kleisli</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Piter</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">Piter</span>; <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">pacify</span>. <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#bind_bind"><span class="id" title="definition">bind_bind</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#Proper_bind"><span class="id" title="definition">Proper_bind</span></a>; [ |..]; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{  <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#bind_ret_l"><span class="id" title="definition">bind_ret_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a3</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">a3</span> | [<span class="id" title="var">a3</span> | <span class="id" title="var">a3</span>]]; <span class="id" title="tactic">try</span> (<span class="id" title="tactic">symmetry</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#bind_ret_l"><span class="id" title="definition">bind_ret_l</span></a>); <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#bind_ret_l"><span class="id" title="definition">bind_ret_l</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#eqmR_ret"><span class="id" title="method">eqmR_ret</span></a>. <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#bind_ret_l"><span class="id" title="definition">bind_ret_l</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#eqmR_ret"><span class="id" title="method">eqmR_ret</span></a>. <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="ITree.Basics.CategoryOps.html#id_"><span class="id" title="definition">id_</span></a>, <a class="idref" href="ITree.Basics.CategoryKleisli.html#Id_Kleisli"><span class="id" title="instance">Id_Kleisli</span></a>; <span class="id" title="tactic">reflexivity</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a id="IterCodiagonal_errorT" class="idref" href="#IterCodiagonal_errorT"><span class="id" title="instance">IterCodiagonal_errorT</span></a> : <a class="idref" href="ITree.Basics.CategoryTheory.html#IterCodiagonal"><span class="id" title="class">IterCodiagonal</span></a> (<a class="idref" href="ITree.Basics.CategoryKleisli.html#Kleisli"><span class="id" title="definition">Kleisli</span></a> (<a class="idref" href="ITree.EqmR.Monads.ErrorT.html#errorT"><span class="id" title="definition">errorT</span></a> <a class="idref" href="ITree.Basics.MonadFail.html#ErrorTIterative.exn"><span class="id" title="variable">exn</span></a> <a class="idref" href="ITree.Basics.MonadFail.html#ErrorTIterative.M"><span class="id" title="variable">M</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#sum"><span class="id" title="inductive">sum</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">f</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unfold_ktree</span>; <span class="id" title="var">pacify</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> @<a class="idref" href="ITree.Basics.CategoryTheory.html#iter_codiagonal"><span class="id" title="definition">iter_codiagonal</span></a> <span class="id" title="keyword">as</span> <span class="id" title="var">Hcod</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hcod</span> <span class="id" title="var">_</span> (<a class="idref" href="ITree.Basics.CategoryKleisli.html#Kleisli"><span class="id" title="definition">Kleisli</span></a> <a class="idref" href="ITree.Basics.MonadFail.html#ErrorTIterative.M"><span class="id" title="variable">M</span></a>) <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#sum"><span class="id" title="inductive">sum</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcod</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="ITree.Basics.CategoryOps.html#cat"><span class="id" title="definition">cat</span></a>, <a class="idref" href="ITree.Basics.CategoryOps.html#case_"><span class="id" title="definition">case_</span></a>, <a class="idref" href="ITree.Basics.CategoryKleisli.html#Cat_Kleisli"><span class="id" title="instance">Cat_Kleisli</span></a>, <a class="idref" href="ITree.Basics.CategoryKleisli.html#Case_Kleisli"><span class="id" title="instance">Case_Kleisli</span></a>, <a class="idref" href="ITree.Basics.Function.html#case_sum"><span class="id" title="instance">Function.case_sum</span></a>, <a class="idref" href="ITree.Basics.CategoryOps.html#inr_"><span class="id" title="definition">inr_</span></a>, <a class="idref" href="ITree.Basics.CategoryKleisli.html#Inr_Kleisli"><span class="id" title="instance">Inr_Kleisli</span></a>, <a class="idref" href="ITree.Basics.CategoryKleisli.html#pure"><span class="id" title="definition">pure</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcod</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="ITree.Basics.CategoryKleisli.html#Kleisli"><span class="id" title="definition">Kleisli</span></a>, <a class="idref" href="ITree.EqmR.Monads.ErrorT.html#errorT"><span class="id" title="definition">errorT</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">f</span>, <span class="id" title="var">Hcod</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hcod</span> <span class="id" title="var">A</span> (<a class="idref" href="ITree.Basics.MonadFail.html#ErrorTIterative.exn"><span class="id" title="variable">exn</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">+</span></a> <span class="id" title="var">B</span>)%<span class="id" title="keyword">type</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hcod</span> (<span class="id" title="keyword">fun</span> <a id="x:60" class="idref" href="#x:60"><span class="id" title="binder">x</span></a> =&gt; <span class="id" title="method">bind</span> (<span class="id" title="var">f</span> <a class="idref" href="ITree.Basics.MonadFail.html#x:57"><span class="id" title="variable">x</span></a>) (<span class="id" title="keyword">fun</span> <a id="y:61" class="idref" href="#y:61"><span class="id" title="binder">y</span></a> =&gt; <span class="id" title="method">ret</span> <span class="id" title="keyword">match</span> <a class="idref" href="ITree.Basics.MonadFail.html#y:58"><span class="id" title="variable">y</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <span class="id" title="var">e</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <span class="id" title="var">e</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <span class="id" title="var">a</span>) =&gt; (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <span class="id" title="var">a</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <span class="id" title="var">a</span>)) =&gt; (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <span class="id" title="var">a</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <span class="id" title="var">b</span>)) =&gt; (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <span class="id" title="var">b</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>)) <span class="id" title="var">a</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| [<span class="id" title="var">H</span> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#eqmR"><span class="id" title="method">eqmR</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> ?<span class="id" title="var">lhs</span> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span>] =&gt; <span class="id" title="var">remember</span> <span class="id" title="var">lhs</span> <span class="id" title="keyword">as</span> <span class="id" title="var">m</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">transitivity</span> <span class="id" title="var">m</span>; <span class="id" title="tactic">subst</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="comment">(*&nbsp;IY:&nbsp;Why&nbsp;can't&nbsp;we&nbsp;directly&nbsp;apply&nbsp;<span class="inlinecode"><span class="id" title="var">Proper_iter</span></span>&nbsp;here?&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> @<a class="idref" href="ITree.Basics.CategoryKleisli.html#Proper_iterH"><span class="id" title="definition">Proper_iterH</span></a> <span class="id" title="keyword">as</span> <span class="id" title="var">Piter</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Piter</span> <a class="idref" href="ITree.Basics.MonadFail.html#ErrorTIterative.M"><span class="id" title="variable">M</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>). <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Piter</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="ITree.Basics.CategoryOps.html#iter"><span class="id" title="definition">iter</span></a>, <a class="idref" href="ITree.Basics.CategoryKleisli.html#Iter_Kleisli"><span class="id" title="instance">Iter_Kleisli</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Piter</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">Piter</span>; <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="var">pacify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>. <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="ITree.EqmR.EqmRMonad.html#bind_ret_r"><span class="id" title="definition">bind_ret_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#Proper_bind"><span class="id" title="definition">Proper_bind</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <span class="id" title="var">Piter</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#Proper_bind"><span class="id" title="definition">Proper_bind</span></a>; [ | ..]; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">reflexivity</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#eqmR_ret"><span class="id" title="method">eqmR_ret</span></a>; [ <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span> | ..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Unshelve</span>. 3 : <span class="id" title="tactic">exact</span> <a class="idref" href="ITree.Basics.MonadFail.html#sum_comm_rel"><span class="id" title="definition">sum_comm_rel</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a4</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">a4</span> | [<span class="id" title="var">a4</span> | [<span class="id" title="var">a4</span> | <span class="id" title="var">a4</span>]]]; <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a0</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">a0</span> | [<span class="id" title="var">a0</span> | <span class="id" title="var">a0</span>]];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a3</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">a3</span> | [<span class="id" title="var">a3</span> | <span class="id" title="var">a3</span>]]; <span class="id" title="var">inv</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;} <span class="id" title="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etransitivity</span>; [ <span class="id" title="tactic">eapply</span> <span class="id" title="var">Hcod</span> | ].<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> @<a class="idref" href="ITree.Basics.CategoryKleisli.html#Proper_iterH"><span class="id" title="definition">Proper_iterH</span></a> <span class="id" title="keyword">as</span> <span class="id" title="var">Piter</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Piter</span> <a class="idref" href="ITree.Basics.MonadFail.html#ErrorTIterative.M"><span class="id" title="variable">M</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>). <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Piter</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="ITree.Basics.CategoryOps.html#iter"><span class="id" title="definition">iter</span></a>, <a class="idref" href="ITree.Basics.CategoryKleisli.html#Iter_Kleisli"><span class="id" title="instance">Iter_Kleisli</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Piter</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">Piter</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">pacify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#bind_bind"><span class="id" title="definition">bind_bind</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#Proper_bind"><span class="id" title="definition">Proper_bind</span></a>; [ | ..]; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#bind_ret_l"><span class="id" title="definition">bind_ret_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a0</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">a0</span> | [<span class="id" title="var">a0</span> | [<span class="id" title="var">a0</span> | <span class="id" title="var">a0</span>]]]; <span class="id" title="tactic">try</span> (<span class="id" title="tactic">symmetry</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#bind_ret_l"><span class="id" title="definition">bind_ret_l</span></a>); <span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#bind_ret_l"><span class="id" title="definition">bind_ret_l</span></a>; <span class="id" title="tactic">reflexivity</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#bind_ret_l"><span class="id" title="definition">bind_ret_l</span></a>; <span class="id" title="tactic">reflexivity</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#bind_ret_l"><span class="id" title="definition">bind_ret_l</span></a>; <span class="id" title="tactic">reflexivity</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#bind_ret_l"><span class="id" title="definition">bind_ret_l</span></a>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;} <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a id="Proper_iter_errorT" class="idref" href="#Proper_iter_errorT"><span class="id" title="instance">Proper_iter_errorT</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="a:63" class="idref" href="#a:63"><span class="id" title="binder">a</span></a> <a id="b:64" class="idref" href="#b:64"><span class="id" title="binder">b</span></a> : <span class="id" title="keyword">Type</span>, <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="ITree.Basics.CategoryOps.html#eq2"><span class="id" title="definition">eq2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="ITree.Basics.CategoryOps.html#eq2"><span class="id" title="definition">eq2</span></a> (<span class="id" title="var">a</span> := <a class="idref" href="ITree.Basics.MonadFail.html#a:63"><span class="id" title="variable">a</span></a>) (<span class="id" title="var">b</span> := <a class="idref" href="ITree.Basics.MonadFail.html#b:64"><span class="id" title="variable">b</span></a>)) (<a class="idref" href="ITree.Basics.CategoryOps.html#iter"><span class="id" title="definition">iter</span></a> (<span class="id" title="var">C</span> := <a class="idref" href="ITree.Basics.CategoryKleisli.html#Kleisli"><span class="id" title="definition">Kleisli</span></a> (<a class="idref" href="ITree.EqmR.Monads.ErrorT.html#errorT"><span class="id" title="definition">errorT</span></a> <a class="idref" href="ITree.Basics.MonadFail.html#ErrorTIterative.exn"><span class="id" title="variable">exn</span></a> <a class="idref" href="ITree.Basics.MonadFail.html#ErrorTIterative.M"><span class="id" title="variable">M</span></a>))).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>; <span class="id" title="var">cbn</span>. <span class="id" title="var">pacify</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> @<a class="idref" href="ITree.Basics.CategoryKleisli.html#Proper_iterH"><span class="id" title="definition">Proper_iterH</span></a> <span class="id" title="keyword">as</span> <span class="id" title="var">Piter</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Piter</span> <a class="idref" href="ITree.Basics.MonadFail.html#ErrorTIterative.M"><span class="id" title="variable">M</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>). <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Piter</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="ITree.Basics.CategoryOps.html#iter"><span class="id" title="definition">iter</span></a>, <a class="idref" href="ITree.Basics.CategoryKleisli.html#Iter_Kleisli"><span class="id" title="instance">Iter_Kleisli</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Piter</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">Piter</span>; <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>;<span class="id" title="tactic">subst</span>;<span class="id" title="var">pacify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#Proper_bind"><span class="id" title="definition">Proper_bind</span></a>; <span class="id" title="tactic">eauto</span>; <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">H</span>. 2 : <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="Iterative_errorT" class="idref" href="#Iterative_errorT"><span class="id" title="instance">Iterative_errorT</span></a> : <a class="idref" href="ITree.Basics.CategoryTheory.html#Iterative"><span class="id" title="class">Iterative</span></a> (<a class="idref" href="ITree.Basics.CategoryKleisli.html#Kleisli"><span class="id" title="definition">Kleisli</span></a> (<a class="idref" href="ITree.EqmR.Monads.ErrorT.html#errorT"><span class="id" title="definition">errorT</span></a> <a class="idref" href="ITree.Basics.MonadFail.html#ErrorTIterative.exn"><span class="id" title="variable">exn</span></a> <a class="idref" href="ITree.Basics.MonadFail.html#ErrorTIterative.M"><span class="id" title="variable">M</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#sum"><span class="id" title="inductive">sum</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="ITree.Basics.MonadFail.html#ErrorTIterative"><span class="id" title="section">ErrorTIterative</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="ErrorIter" class="idref" href="#ErrorIter"><span class="id" title="section">ErrorIter</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;N.B.&nbsp;Keeping&nbsp;this&nbsp;instance&nbsp;local&nbsp;keeps&nbsp;the&nbsp;<span class="inlinecode"><span class="id" title="var">Iter</span></span>&nbsp;instance&nbsp;resolution&nbsp;not<br/>
&nbsp;&nbsp;&nbsp;&nbsp;loop&nbsp;between&nbsp;<span class="inlinecode"><span class="id" title="var">Kleisli_MonadIter</span></span>&nbsp;and&nbsp;<span class="inlinecode"><span class="id" title="var">Iter_Kleisli</span></span>&nbsp;in&nbsp;the&nbsp;global&nbsp;context&nbsp;*)</span><br/>
&nbsp;&nbsp;#[<span class="id" title="var">local</span>] <span class="id" title="keyword">Instance</span> <a id="Kleisli_MonadIter" class="idref" href="#Kleisli_MonadIter"><span class="id" title="instance">Kleisli_MonadIter</span></a> (<a id="m:65" class="idref" href="#m:65"><span class="id" title="binder">m</span></a> : <span class="id" title="keyword">Type</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Type</span>) `{<a id="H:66" class="idref" href="#H:66"><span class="id" title="binder">Iter</span></a> <a id="H:66" class="idref" href="#H:66"><span class="id" title="binder">_</span></a> <a id="H:66" class="idref" href="#H:66"><span class="id" title="binder">(</span></a><a id="H:66" class="idref" href="#H:66"><span class="id" title="binder">Kleisli</span></a> <a id="H:66" class="idref" href="#H:66"><span class="id" title="binder">m</span></a><a id="H:66" class="idref" href="#H:66"><span class="id" title="binder">)</span></a> <a id="H:66" class="idref" href="#H:66"><span class="id" title="binder">sum</span></a>} : <a class="idref" href="ITree.Basics.Basics.html#MonadIter"><span class="id" title="class">MonadIter</span></a> <a class="idref" href="ITree.Basics.MonadFail.html#m:65"><span class="id" title="variable">m</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <a id="a:67" class="idref" href="#a:67"><span class="id" title="binder">a</span></a> <a id="b:68" class="idref" href="#b:68"><span class="id" title="binder">b</span></a> =&gt; <a class="idref" href="ITree.Basics.CategoryOps.html#iter"><span class="id" title="definition">iter</span></a>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="IterativeMonadT_errorT" class="idref" href="#IterativeMonadT_errorT"><span class="id" title="instance">IterativeMonadT_errorT</span></a> {<a id="exn:69" class="idref" href="#exn:69"><span class="id" title="binder">exn</span></a>}:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.EqmR.EqmRMonadT.html#IterativeMonadT"><span class="id" title="class">IterativeMonadT</span></a> (<a class="idref" href="ITree.EqmR.Monads.ErrorT.html#errorT"><span class="id" title="definition">errorT</span></a> <a class="idref" href="ITree.Basics.MonadFail.html#exn:69"><span class="id" title="variable">exn</span></a>) := {|<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.EqmR.EqmRMonadT.html#T_MonadIter"><span class="id" title="method">T_MonadIter</span></a> := <span class="id" title="keyword">fun</span> (<a id="m:70" class="idref" href="#m:70"><span class="id" title="binder">m</span></a> : <span class="id" title="keyword">Type</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Type</span>) (<a id="Mm:71" class="idref" href="#Mm:71"><span class="id" title="binder">Mm</span></a> : <span class="id" title="class">Monad</span> <a class="idref" href="ITree.Basics.MonadFail.html#m:70"><span class="id" title="variable">m</span></a>) (<a id="MIm:72" class="idref" href="#MIm:72"><span class="id" title="binder">MIm</span></a> : <a class="idref" href="ITree.Basics.Basics.html#MonadIter"><span class="id" title="class">MonadIter</span></a> <a class="idref" href="ITree.Basics.MonadFail.html#m:70"><span class="id" title="variable">m</span></a>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="ITree.Basics.MonadFail.html#Kleisli_MonadIter"><span class="id" title="instance">Kleisli_MonadIter</span></a> (<a class="idref" href="ITree.EqmR.Monads.ErrorT.html#errorT"><span class="id" title="definition">errorT</span></a> <span class="id" title="var">exn</span> <a class="idref" href="ITree.Basics.MonadFail.html#m:70"><span class="id" title="variable">m</span></a>) (@<a class="idref" href="ITree.Basics.CategoryKleisli.html#Iter_Kleisli"><span class="id" title="instance">Iter_Kleisli</span></a> (<a class="idref" href="ITree.EqmR.Monads.ErrorT.html#errorT"><span class="id" title="definition">errorT</span></a> <span class="id" title="var">exn</span> <a class="idref" href="ITree.Basics.MonadFail.html#m:70"><span class="id" title="variable">m</span></a>) (@<a class="idref" href="ITree.Basics.MonadFail.html#errorT_iter"><span class="id" title="instance">errorT_iter</span></a> <a class="idref" href="ITree.Basics.MonadFail.html#m:70"><span class="id" title="variable">m</span></a> <span class="id" title="var">exn</span> <a class="idref" href="ITree.Basics.MonadFail.html#Mm:71"><span class="id" title="variable">Mm</span></a> <a class="idref" href="ITree.Basics.MonadFail.html#MIm:72"><span class="id" title="variable">MIm</span></a>)) |}.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="var">Program</span> <span class="id" title="keyword">Instance</span> <a id="WF_IterativeMonadT_errorT" class="idref" href="#WF_IterativeMonadT_errorT"><span class="id" title="instance">WF_IterativeMonadT_errorT</span></a> {<a id="exn:73" class="idref" href="#exn:73"><span class="id" title="binder">exn</span></a>}: <a class="idref" href="ITree.EqmR.EqmRMonadT.html#WF_IterativeMonadT"><span class="id" title="class">WF_IterativeMonadT</span></a> (<a class="idref" href="ITree.EqmR.Monads.ErrorT.html#errorT"><span class="id" title="definition">errorT</span></a> <a class="idref" href="ITree.Basics.MonadFail.html#exn:73"><span class="id" title="variable">exn</span></a>) <span class="id" title="var">_</span> <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">M_ProperIter</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">M_ProperIter</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">red</span>. <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#Proper_bind"><span class="id" title="definition">Proper_bind</span></a>; <span class="id" title="tactic">eauto</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H2</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#eqmR_ret"><span class="id" title="method">eqmR_ret</span></a>; <span class="id" title="tactic">eauto</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H3</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="ITree.Basics.MonadFail.html#ErrorIter"><span class="id" title="section">ErrorIter</span></a>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
