<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="https://github.com/euisuny/icfp22-layered-monadic-interpreters">Project Page</a>
      <a href="./indexpage.html"> Index </a>
      <a href="./toc.html"> Table of Contents </a>
      <a href="./">Home</a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">ITree.EqmR.EqmRMonad</h1>

<div class="code">
</div>

<div class="doc">
<a id="lab53"></a><h1 class="section">EqmR Monad laws and associated typeclasses</h1>

<div class="paragraph"> </div>

 This file contains an equational axiomatization of the monadic structures that
   arise from the construction of layered monadic interpreters.

<div class="paragraph"> </div>

   The base theory, <span class="inlinecode"><a class="idref" href="ITree.EqmR.EqmRMonad.html#EqmR"><span class="id" title="record">EqmR</span></a></span> is a framework for relational reasoning over monads.
   They are a generalization of the ITree equational theory on <span class="inlinecode"><a class="idref" href="ITree.Eq.Eq.html#eutt"><span class="id" title="definition">eutt</span></a></span>, and have
   a notion of <span class="inlinecode"><a class="idref" href="ITree.EqmR.EqmRMonadH.html#image"><span class="id" title="definition">image</span></a></span> of a computation which capture the set of values possibly
   returned by a monadic computation.

<div class="paragraph"> </div>

   The well-formedness conditions capture standard monad laws.
   Roughly, they also characterize forming a bicartesian closed category (a
    cartesian closed category with finite coproducts).
   The laws also characterize inversion properties which consume relations over
   monads. 
</div>
<div class="code">

<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="EqmR" class="idref" href="#EqmR"><span class="id" title="section">EqmR</span></a>.<br/>

<br/>
</div>

<div class="doc">
We consider heterogeneous relations on computations parameterized by a
     relation on the return types 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Class</span> <a id="EqmR" class="idref" href="#EqmR"><span class="id" title="record">EqmR</span></a> (<a id="m:1" class="idref" href="#m:1"><span class="id" title="binder">m</span></a> : <span class="id" title="keyword">Type</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Type</span>) : <span class="id" title="keyword">Type</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <a id="eqmR" class="idref" href="#eqmR"><span class="id" title="projection">eqmR</span></a> : <span class="id" title="keyword">forall</span> {<a id="A:3" class="idref" href="#A:3"><span class="id" title="binder">A</span></a> <a id="B:4" class="idref" href="#B:4"><span class="id" title="binder">B</span></a> : <span class="id" title="keyword">Type</span>} (<a id="R:5" class="idref" href="#R:5"><span class="id" title="binder">R</span></a> : <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#relationH"><span class="id" title="definition">relationH</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A:3"><span class="id" title="variable">A</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#B:4"><span class="id" title="variable">B</span></a>), <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#relationH"><span class="id" title="definition">relationH</span></a> (<a class="idref" href="ITree.EqmR.EqmRMonad.html#m:1"><span class="id" title="variable">m</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A:3"><span class="id" title="variable">A</span></a>) (<a class="idref" href="ITree.EqmR.EqmRMonad.html#m:1"><span class="id" title="variable">m</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#B:4"><span class="id" title="variable">B</span></a>) }.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#EqmR"><span class="id" title="section">EqmR</span></a>.<br/>
<span class="id" title="keyword">Infix</span> <a id="d413dbf027cae6a55393170818dfc6e2" class="idref" href="#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">&quot;</span></a>≈{ R  }" := (<a class="idref" href="ITree.EqmR.EqmRMonad.html#eqmR"><span class="id" title="method">eqmR</span></a> <span class="id" title="var">R</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 30) : <span class="id" title="var">cat_scope</span>.<br/>
<span class="id" title="keyword">Notation</span> <a id="44ca1c4b25caa6414ddc30791903465f" class="idref" href="#44ca1c4b25caa6414ddc30791903465f"><span class="id" title="notation">&quot;</span></a>t1 ≋ t2" := (<a class="idref" href="ITree.EqmR.EqmRMonad.html#eqmR"><span class="id" title="method">eqmR</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <span class="id" title="var">t1</span> <span class="id" title="var">t2</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 40) : <span class="id" title="var">cat_scope</span>.<br/>

<br/>
<span class="id" title="keyword">Arguments</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#eqmR"><span class="id" title="method">eqmR</span></a> {<span class="id" title="var">m</span> <span class="id" title="var">_</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>}.<br/>

<br/>
<span class="id" title="keyword">Import</span> <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#RelNotations"><span class="id" title="module">RelNotations</span></a>.<br/>
<span class="id" title="keyword">Local Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">relationH_scope</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab54"></a><h1 class="section"><span class="inlinecode"><a class="idref" href="ITree.EqmR.EqmRMonad.html#EqmR_OK"><span class="id" title="record">EqmR_OK</span></a></span> : Well-formedness properties of EqmR.</h1>

</div>
<div class="code">
<span class="id" title="keyword">Section</span> <a id="EqmRRel" class="idref" href="#EqmRRel"><span class="id" title="section">EqmRRel</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="m:7" class="idref" href="#m:7"><span class="id" title="binder">m</span></a> : <span class="id" title="keyword">Type</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Type</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="EqMR:8" class="idref" href="#EqMR:8"><span class="id" title="binder">EqMR</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#EqmR"><span class="id" title="class">EqmR</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#EqmRRel.m"><span class="id" title="variable">m</span></a>} {<a id="Mm:9" class="idref" href="#Mm:9"><span class="id" title="binder">Mm</span></a> : <span class="id" title="class">Monad</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#EqmRRel.m"><span class="id" title="variable">m</span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;<span class="inlinecode"><span class="id" title="var">eqmR</span></span>&nbsp;should&nbsp;transport&nbsp;elementary&nbsp;structures&nbsp;of&nbsp;the&nbsp;relation&nbsp;<span class="inlinecode"><span class="id" title="var">R</span></span>&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Class</span> <a id="TransportEquiv" class="idref" href="#TransportEquiv"><span class="id" title="record">TransportEquiv</span></a> : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="equiv" class="idref" href="#equiv"><span class="id" title="projection">equiv</span></a> : <span class="id" title="keyword">forall</span> {<a id="A:11" class="idref" href="#A:11"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>} (<a id="R:12" class="idref" href="#R:12"><span class="id" title="binder">R</span></a> : <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#relationH"><span class="id" title="definition">relationH</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A:11"><span class="id" title="variable">A</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A:11"><span class="id" title="variable">A</span></a>), <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.RelationClasses.html#Equivalence"><span class="id" title="class">Equivalence</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#R:12"><span class="id" title="variable">R</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.RelationClasses.html#Equivalence"><span class="id" title="class">Equivalence</span></a> (<a class="idref" href="ITree.EqmR.EqmRMonad.html#eqmR"><span class="id" title="method">eqmR</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#R:12"><span class="id" title="variable">R</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Class</span> <a id="TransportPER" class="idref" href="#TransportPER"><span class="id" title="record">TransportPER</span></a> : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="per" class="idref" href="#per"><span class="id" title="projection">per</span></a> : <span class="id" title="keyword">forall</span> {<a id="A:15" class="idref" href="#A:15"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>} (<a id="R:16" class="idref" href="#R:16"><span class="id" title="binder">R</span></a> : <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#relationH"><span class="id" title="definition">relationH</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A:15"><span class="id" title="variable">A</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A:15"><span class="id" title="variable">A</span></a>), <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#PER"><span class="id" title="class">PER</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#R:16"><span class="id" title="variable">R</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#PER"><span class="id" title="class">PER</span></a> (<a class="idref" href="ITree.EqmR.EqmRMonad.html#eqmR"><span class="id" title="method">eqmR</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#R:16"><span class="id" title="variable">R</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Class</span> <a id="TransportReflexive" class="idref" href="#TransportReflexive"><span class="id" title="record">TransportReflexive</span></a> : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="refl" class="idref" href="#refl"><span class="id" title="projection">refl</span></a> : <span class="id" title="keyword">forall</span> {<a id="A:19" class="idref" href="#A:19"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>} (<a id="R:20" class="idref" href="#R:20"><span class="id" title="binder">R</span></a> : <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#relationH"><span class="id" title="definition">relationH</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A:19"><span class="id" title="variable">A</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A:19"><span class="id" title="variable">A</span></a>), <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.RelationClasses.html#Reflexive"><span class="id" title="class">Reflexive</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#R:20"><span class="id" title="variable">R</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.RelationClasses.html#Reflexive"><span class="id" title="class">Reflexive</span></a> (<a class="idref" href="ITree.EqmR.EqmRMonad.html#eqmR"><span class="id" title="method">eqmR</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#R:20"><span class="id" title="variable">R</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Class</span> <a id="TransportSymmetric" class="idref" href="#TransportSymmetric"><span class="id" title="record">TransportSymmetric</span></a> : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="symm" class="idref" href="#symm"><span class="id" title="projection">symm</span></a> : <span class="id" title="keyword">forall</span> {<a id="A:23" class="idref" href="#A:23"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>} (<a id="R:24" class="idref" href="#R:24"><span class="id" title="binder">R</span></a> : <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#relationH"><span class="id" title="definition">relationH</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A:23"><span class="id" title="variable">A</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A:23"><span class="id" title="variable">A</span></a>), <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.RelationClasses.html#Symmetric"><span class="id" title="class">Symmetric</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#R:24"><span class="id" title="variable">R</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.RelationClasses.html#Symmetric"><span class="id" title="class">Symmetric</span></a> (<a class="idref" href="ITree.EqmR.EqmRMonad.html#eqmR"><span class="id" title="method">eqmR</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#R:24"><span class="id" title="variable">R</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Class</span> <a id="TransportTransitive" class="idref" href="#TransportTransitive"><span class="id" title="record">TransportTransitive</span></a> : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="trans" class="idref" href="#trans"><span class="id" title="projection">trans</span></a> : <span class="id" title="keyword">forall</span> {<a id="A:27" class="idref" href="#A:27"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>} (<a id="R:28" class="idref" href="#R:28"><span class="id" title="binder">R</span></a> : <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#relationH"><span class="id" title="definition">relationH</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A:27"><span class="id" title="variable">A</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A:27"><span class="id" title="variable">A</span></a>), <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.RelationClasses.html#Transitive"><span class="id" title="class">Transitive</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#R:28"><span class="id" title="variable">R</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.RelationClasses.html#Transitive"><span class="id" title="class">Transitive</span></a> (<a class="idref" href="ITree.EqmR.EqmRMonad.html#eqmR"><span class="id" title="method">eqmR</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#R:28"><span class="id" title="variable">R</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Class</span> <a id="LiftTranspose" class="idref" href="#LiftTranspose"><span class="id" title="record">LiftTranspose</span></a> : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="lift_transpose" class="idref" href="#lift_transpose"><span class="id" title="projection">lift_transpose</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> {<a id="A:31" class="idref" href="#A:31"><span class="id" title="binder">A</span></a> <a id="B:32" class="idref" href="#B:32"><span class="id" title="binder">B</span></a> : <span class="id" title="keyword">Type</span>} (<a id="R:33" class="idref" href="#R:33"><span class="id" title="binder">R</span></a> : <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#relationH"><span class="id" title="definition">relationH</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A:31"><span class="id" title="variable">A</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#B:32"><span class="id" title="variable">B</span></a>) , <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#eq_rel"><span class="id" title="definition">eq_rel</span></a> (<a class="idref" href="ITree.EqmR.EqmRMonad.html#eqmR"><span class="id" title="method">eqmR</span></a> <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#b029d3f92454933529b6f4f49a40def2"><span class="id" title="notation">†</span></a><a class="idref" href="ITree.EqmR.EqmRMonad.html#R:33"><span class="id" title="variable">R</span></a>) (<a class="idref" href="ITree.Basics.HeterogeneousRelations.html#b029d3f92454933529b6f4f49a40def2"><span class="id" title="notation">†(</span></a><a class="idref" href="ITree.EqmR.EqmRMonad.html#eqmR"><span class="id" title="method">eqmR</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#R:33"><span class="id" title="variable">R</span></a><a class="idref" href="ITree.Basics.HeterogeneousRelations.html#b029d3f92454933529b6f4f49a40def2"><span class="id" title="notation">)</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Product&nbsp;rules&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Class</span> <a id="FmapFst" class="idref" href="#FmapFst"><span class="id" title="record">FmapFst</span></a> : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="fmap_fst" class="idref" href="#fmap_fst"><span class="id" title="projection">fmap_fst</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> {<a id="A1:36" class="idref" href="#A1:36"><span class="id" title="binder">A1</span></a> <a id="A2:37" class="idref" href="#A2:37"><span class="id" title="binder">A2</span></a> <a id="B1:38" class="idref" href="#B1:38"><span class="id" title="binder">B1</span></a> <a id="B2:39" class="idref" href="#B2:39"><span class="id" title="binder">B2</span></a>: <span class="id" title="keyword">Type</span>} (<a id="RA:40" class="idref" href="#RA:40"><span class="id" title="binder">RA</span></a> : <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#relationH"><span class="id" title="definition">relationH</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A1:36"><span class="id" title="variable">A1</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A2:37"><span class="id" title="variable">A2</span></a>) (<a id="RB:41" class="idref" href="#RB:41"><span class="id" title="binder">RB</span></a> : <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#relationH"><span class="id" title="definition">relationH</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#B1:38"><span class="id" title="variable">B1</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#B2:39"><span class="id" title="variable">B2</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="m1:42" class="idref" href="#m1:42"><span class="id" title="binder">m1</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#EqmRRel.m"><span class="id" title="variable">m</span></a> (<a class="idref" href="ITree.EqmR.EqmRMonad.html#A1:36"><span class="id" title="variable">A1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#B1:38"><span class="id" title="variable">B1</span></a>)) (<a id="m2:43" class="idref" href="#m2:43"><span class="id" title="binder">m2</span></a>: <a class="idref" href="ITree.EqmR.EqmRMonad.html#EqmRRel.m"><span class="id" title="variable">m</span></a> (<a class="idref" href="ITree.EqmR.EqmRMonad.html#A2:37"><span class="id" title="variable">A2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#B2:39"><span class="id" title="variable">B2</span></a>)),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.EqmR.EqmRMonad.html#eqmR"><span class="id" title="method">eqmR</span></a> (<a class="idref" href="ITree.EqmR.EqmRMonad.html#RA:40"><span class="id" title="variable">RA</span></a> <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#eab4b218501f1659d1ac8330d8450aec"><span class="id" title="notation">⊗</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#RB:41"><span class="id" title="variable">RB</span></a>) <a class="idref" href="ITree.EqmR.EqmRMonad.html#m1:42"><span class="id" title="variable">m1</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#m2:43"><span class="id" title="variable">m2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.EqmR.EqmRMonad.html#eqmR"><span class="id" title="method">eqmR</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#RA:40"><span class="id" title="variable">RA</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <span class="id" title="notation">&lt;$&gt;</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#m1:42"><span class="id" title="variable">m1</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <span class="id" title="notation">&lt;$&gt;</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#m2:43"><span class="id" title="variable">m2</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Class</span> <a id="FmapSnd" class="idref" href="#FmapSnd"><span class="id" title="record">FmapSnd</span></a> : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="fmap_snd" class="idref" href="#fmap_snd"><span class="id" title="projection">fmap_snd</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> {<a id="A1:46" class="idref" href="#A1:46"><span class="id" title="binder">A1</span></a> <a id="A2:47" class="idref" href="#A2:47"><span class="id" title="binder">A2</span></a> <a id="B1:48" class="idref" href="#B1:48"><span class="id" title="binder">B1</span></a> <a id="B2:49" class="idref" href="#B2:49"><span class="id" title="binder">B2</span></a>: <span class="id" title="keyword">Type</span>} (<a id="RA:50" class="idref" href="#RA:50"><span class="id" title="binder">RA</span></a> : <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#relationH"><span class="id" title="definition">relationH</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A1:46"><span class="id" title="variable">A1</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A2:47"><span class="id" title="variable">A2</span></a>) (<a id="RB:51" class="idref" href="#RB:51"><span class="id" title="binder">RB</span></a> : <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#relationH"><span class="id" title="definition">relationH</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#B1:48"><span class="id" title="variable">B1</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#B2:49"><span class="id" title="variable">B2</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="m1:52" class="idref" href="#m1:52"><span class="id" title="binder">m1</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#EqmRRel.m"><span class="id" title="variable">m</span></a> (<a class="idref" href="ITree.EqmR.EqmRMonad.html#A1:46"><span class="id" title="variable">A1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#B1:48"><span class="id" title="variable">B1</span></a>)) (<a id="m2:53" class="idref" href="#m2:53"><span class="id" title="binder">m2</span></a>: <a class="idref" href="ITree.EqmR.EqmRMonad.html#EqmRRel.m"><span class="id" title="variable">m</span></a> (<a class="idref" href="ITree.EqmR.EqmRMonad.html#A2:47"><span class="id" title="variable">A2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#B2:49"><span class="id" title="variable">B2</span></a>)),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.EqmR.EqmRMonad.html#eqmR"><span class="id" title="method">eqmR</span></a> (<a class="idref" href="ITree.EqmR.EqmRMonad.html#RA:50"><span class="id" title="variable">RA</span></a> <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#eab4b218501f1659d1ac8330d8450aec"><span class="id" title="notation">⊗</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#RB:51"><span class="id" title="variable">RB</span></a>) <a class="idref" href="ITree.EqmR.EqmRMonad.html#m1:52"><span class="id" title="variable">m1</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#m2:53"><span class="id" title="variable">m2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.EqmR.EqmRMonad.html#eqmR"><span class="id" title="method">eqmR</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#RB:51"><span class="id" title="variable">RB</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <span class="id" title="notation">&lt;$&gt;</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#m1:52"><span class="id" title="variable">m1</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <span class="id" title="notation">&lt;$&gt;</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#m2:53"><span class="id" title="variable">m2</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Class</span> <a id="RelProd" class="idref" href="#RelProd"><span class="id" title="record">RelProd</span></a> : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="rel_prod" class="idref" href="#rel_prod"><span class="id" title="projection">rel_prod</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> {<a id="A1:56" class="idref" href="#A1:56"><span class="id" title="binder">A1</span></a> <a id="A2:57" class="idref" href="#A2:57"><span class="id" title="binder">A2</span></a> <a id="B1:58" class="idref" href="#B1:58"><span class="id" title="binder">B1</span></a> <a id="B2:59" class="idref" href="#B2:59"><span class="id" title="binder">B2</span></a>: <span class="id" title="keyword">Type</span>} (<a id="RA:60" class="idref" href="#RA:60"><span class="id" title="binder">RA</span></a> : <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#relationH"><span class="id" title="definition">relationH</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A1:56"><span class="id" title="variable">A1</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A2:57"><span class="id" title="variable">A2</span></a>) (<a id="RB:61" class="idref" href="#RB:61"><span class="id" title="binder">RB</span></a> : <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#relationH"><span class="id" title="definition">relationH</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#B1:58"><span class="id" title="variable">B1</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#B2:59"><span class="id" title="variable">B2</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="m1:62" class="idref" href="#m1:62"><span class="id" title="binder">m1</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#EqmRRel.m"><span class="id" title="variable">m</span></a> (<a class="idref" href="ITree.EqmR.EqmRMonad.html#A1:56"><span class="id" title="variable">A1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#B1:58"><span class="id" title="variable">B1</span></a>)) (<a id="m2:63" class="idref" href="#m2:63"><span class="id" title="binder">m2</span></a>: <a class="idref" href="ITree.EqmR.EqmRMonad.html#EqmRRel.m"><span class="id" title="variable">m</span></a> (<a class="idref" href="ITree.EqmR.EqmRMonad.html#A2:57"><span class="id" title="variable">A2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#B2:59"><span class="id" title="variable">B2</span></a>)),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.EqmR.EqmRMonad.html#eqmR"><span class="id" title="method">eqmR</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#RA:60"><span class="id" title="variable">RA</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <span class="id" title="notation">&lt;$&gt;</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#m1:62"><span class="id" title="variable">m1</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <span class="id" title="notation">&lt;$&gt;</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#m2:63"><span class="id" title="variable">m2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.EqmR.EqmRMonad.html#eqmR"><span class="id" title="method">eqmR</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#RB:61"><span class="id" title="variable">RB</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <span class="id" title="notation">&lt;$&gt;</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#m1:62"><span class="id" title="variable">m1</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <span class="id" title="notation">&lt;$&gt;</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#m2:63"><span class="id" title="variable">m2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.EqmR.EqmRMonad.html#eqmR"><span class="id" title="method">eqmR</span></a> (<a class="idref" href="ITree.EqmR.EqmRMonad.html#RA:60"><span class="id" title="variable">RA</span></a> <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#eab4b218501f1659d1ac8330d8450aec"><span class="id" title="notation">⊗</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#RB:61"><span class="id" title="variable">RB</span></a>) <a class="idref" href="ITree.EqmR.EqmRMonad.html#m1:62"><span class="id" title="variable">m1</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#m2:63"><span class="id" title="variable">m2</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Sum&nbsp;rules&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Class</span> <a id="FmapInl" class="idref" href="#FmapInl"><span class="id" title="record">FmapInl</span></a> : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="fmap_inl" class="idref" href="#fmap_inl"><span class="id" title="projection">fmap_inl</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> {<a id="A1:66" class="idref" href="#A1:66"><span class="id" title="binder">A1</span></a> <a id="A2:67" class="idref" href="#A2:67"><span class="id" title="binder">A2</span></a> <a id="B1:68" class="idref" href="#B1:68"><span class="id" title="binder">B1</span></a> <a id="B2:69" class="idref" href="#B2:69"><span class="id" title="binder">B2</span></a>: <span class="id" title="keyword">Type</span>} (<a id="RA:70" class="idref" href="#RA:70"><span class="id" title="binder">RA</span></a> : <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#relationH"><span class="id" title="definition">relationH</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A1:66"><span class="id" title="variable">A1</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A2:67"><span class="id" title="variable">A2</span></a>) (<a id="RB:71" class="idref" href="#RB:71"><span class="id" title="binder">RB</span></a> : <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#relationH"><span class="id" title="definition">relationH</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#B1:68"><span class="id" title="variable">B1</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#B2:69"><span class="id" title="variable">B2</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="m1:72" class="idref" href="#m1:72"><span class="id" title="binder">m1</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#EqmRRel.m"><span class="id" title="variable">m</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A1:66"><span class="id" title="variable">A1</span></a>) (<a id="m2:73" class="idref" href="#m2:73"><span class="id" title="binder">m2</span></a>: <a class="idref" href="ITree.EqmR.EqmRMonad.html#EqmRRel.m"><span class="id" title="variable">m</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A2:67"><span class="id" title="variable">A2</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.EqmR.EqmRMonad.html#eqmR"><span class="id" title="method">eqmR</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#RA:70"><span class="id" title="variable">RA</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#m1:72"><span class="id" title="variable">m1</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#m2:73"><span class="id" title="variable">m2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.EqmR.EqmRMonad.html#eqmR"><span class="id" title="method">eqmR</span></a> (<a class="idref" href="ITree.EqmR.EqmRMonad.html#RA:70"><span class="id" title="variable">RA</span></a> <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#35f5d2b36f88861ca82eeac028d070d1"><span class="id" title="notation">⊕</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#RB:71"><span class="id" title="variable">RB</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <span class="id" title="notation">&lt;$&gt;</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#m1:72"><span class="id" title="variable">m1</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <span class="id" title="notation">&lt;$&gt;</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#m2:73"><span class="id" title="variable">m2</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Class</span> <a id="FmapInr" class="idref" href="#FmapInr"><span class="id" title="record">FmapInr</span></a> : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="fmap_inr" class="idref" href="#fmap_inr"><span class="id" title="projection">fmap_inr</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> {<a id="A1:76" class="idref" href="#A1:76"><span class="id" title="binder">A1</span></a> <a id="A2:77" class="idref" href="#A2:77"><span class="id" title="binder">A2</span></a> <a id="B1:78" class="idref" href="#B1:78"><span class="id" title="binder">B1</span></a> <a id="B2:79" class="idref" href="#B2:79"><span class="id" title="binder">B2</span></a>: <span class="id" title="keyword">Type</span>} (<a id="RA:80" class="idref" href="#RA:80"><span class="id" title="binder">RA</span></a> : <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#relationH"><span class="id" title="definition">relationH</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A1:76"><span class="id" title="variable">A1</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A2:77"><span class="id" title="variable">A2</span></a>) (<a id="RB:81" class="idref" href="#RB:81"><span class="id" title="binder">RB</span></a> : <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#relationH"><span class="id" title="definition">relationH</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#B1:78"><span class="id" title="variable">B1</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#B2:79"><span class="id" title="variable">B2</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="m1:82" class="idref" href="#m1:82"><span class="id" title="binder">m1</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#EqmRRel.m"><span class="id" title="variable">m</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#B1:78"><span class="id" title="variable">B1</span></a>) (<a id="m2:83" class="idref" href="#m2:83"><span class="id" title="binder">m2</span></a>: <a class="idref" href="ITree.EqmR.EqmRMonad.html#EqmRRel.m"><span class="id" title="variable">m</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#B2:79"><span class="id" title="variable">B2</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.EqmR.EqmRMonad.html#eqmR"><span class="id" title="method">eqmR</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#RB:81"><span class="id" title="variable">RB</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#m1:82"><span class="id" title="variable">m1</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#m2:83"><span class="id" title="variable">m2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.EqmR.EqmRMonad.html#eqmR"><span class="id" title="method">eqmR</span></a> (<a class="idref" href="ITree.EqmR.EqmRMonad.html#RA:80"><span class="id" title="variable">RA</span></a> <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#35f5d2b36f88861ca82eeac028d070d1"><span class="id" title="notation">⊕</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#RB:81"><span class="id" title="variable">RB</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <span class="id" title="notation">&lt;$&gt;</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#m1:82"><span class="id" title="variable">m1</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <span class="id" title="notation">&lt;$&gt;</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#m2:83"><span class="id" title="variable">m2</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Class</span> <a id="RelSum" class="idref" href="#RelSum"><span class="id" title="record">RelSum</span></a> : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="rel_sum" class="idref" href="#rel_sum"><span class="id" title="projection">rel_sum</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> {<a id="A1:86" class="idref" href="#A1:86"><span class="id" title="binder">A1</span></a> <a id="A2:87" class="idref" href="#A2:87"><span class="id" title="binder">A2</span></a> <a id="B1:88" class="idref" href="#B1:88"><span class="id" title="binder">B1</span></a> <a id="B2:89" class="idref" href="#B2:89"><span class="id" title="binder">B2</span></a>: <span class="id" title="keyword">Type</span>} (<a id="RA:90" class="idref" href="#RA:90"><span class="id" title="binder">RA</span></a> : <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#relationH"><span class="id" title="definition">relationH</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A1:86"><span class="id" title="variable">A1</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A2:87"><span class="id" title="variable">A2</span></a>) (<a id="RB:91" class="idref" href="#RB:91"><span class="id" title="binder">RB</span></a> : <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#relationH"><span class="id" title="definition">relationH</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#B1:88"><span class="id" title="variable">B1</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#B2:89"><span class="id" title="variable">B2</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="m1:92" class="idref" href="#m1:92"><span class="id" title="binder">m1</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#EqmRRel.m"><span class="id" title="variable">m</span></a> (<a class="idref" href="ITree.EqmR.EqmRMonad.html#A1:86"><span class="id" title="variable">A1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">+</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#B1:88"><span class="id" title="variable">B1</span></a>)) (<a id="m2:93" class="idref" href="#m2:93"><span class="id" title="binder">m2</span></a>: <a class="idref" href="ITree.EqmR.EqmRMonad.html#EqmRRel.m"><span class="id" title="variable">m</span></a> (<a class="idref" href="ITree.EqmR.EqmRMonad.html#A2:87"><span class="id" title="variable">A2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">+</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#B2:89"><span class="id" title="variable">B2</span></a>)),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.EqmR.EqmRMonad.html#eqmR"><span class="id" title="method">eqmR</span></a> (<a class="idref" href="ITree.EqmR.EqmRMonad.html#RA:90"><span class="id" title="variable">RA</span></a> <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#35f5d2b36f88861ca82eeac028d070d1"><span class="id" title="notation">⊕</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#RB:91"><span class="id" title="variable">RB</span></a>) <a class="idref" href="ITree.EqmR.EqmRMonad.html#m1:92"><span class="id" title="variable">m1</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#m2:93"><span class="id" title="variable">m2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">forall</span> (<a id="C1:94" class="idref" href="#C1:94"><span class="id" title="binder">C1</span></a> <a id="C2:95" class="idref" href="#C2:95"><span class="id" title="binder">C2</span></a> : <span class="id" title="keyword">Type</span>) (<a id="f1:96" class="idref" href="#f1:96"><span class="id" title="binder">f1</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#A1:86"><span class="id" title="variable">A1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#C1:94"><span class="id" title="variable">C1</span></a>) (<a id="f2:97" class="idref" href="#f2:97"><span class="id" title="binder">f2</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#A2:87"><span class="id" title="variable">A2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#C2:95"><span class="id" title="variable">C2</span></a>) (<a id="g1:98" class="idref" href="#g1:98"><span class="id" title="binder">g1</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#B1:88"><span class="id" title="variable">B1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#C1:94"><span class="id" title="variable">C1</span></a>) (<a id="g2:99" class="idref" href="#g2:99"><span class="id" title="binder">g2</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#B2:89"><span class="id" title="variable">B2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#C2:95"><span class="id" title="variable">C2</span></a>) (<a id="RC:100" class="idref" href="#RC:100"><span class="id" title="binder">RC</span></a> : <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#relationH"><span class="id" title="definition">relationH</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#C1:94"><span class="id" title="variable">C1</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#C2:95"><span class="id" title="variable">C2</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.Basics.HeterogeneousRelations.html#ProperH"><span class="id" title="definition">ProperH</span></a> (<a class="idref" href="ITree.EqmR.EqmRMonad.html#RA:90"><span class="id" title="variable">RA</span></a> <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#b1c16d3aafd4b8ab9fd6478d3bd87026"><span class="id" title="notation">~~&gt;</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#RC:100"><span class="id" title="variable">RC</span></a>) <a class="idref" href="ITree.EqmR.EqmRMonad.html#f1:96"><span class="id" title="variable">f1</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#f2:97"><span class="id" title="variable">f2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.Basics.HeterogeneousRelations.html#ProperH"><span class="id" title="definition">ProperH</span></a> (<a class="idref" href="ITree.EqmR.EqmRMonad.html#RB:91"><span class="id" title="variable">RB</span></a> <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#b1c16d3aafd4b8ab9fd6478d3bd87026"><span class="id" title="notation">~~&gt;</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#RC:100"><span class="id" title="variable">RC</span></a>) <a class="idref" href="ITree.EqmR.EqmRMonad.html#g1:98"><span class="id" title="variable">g1</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#g2:99"><span class="id" title="variable">g2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.EqmR.EqmRMonad.html#eqmR"><span class="id" title="method">eqmR</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#RC:100"><span class="id" title="variable">RC</span></a> (<span class="id" title="notation">(</span><span class="id" title="keyword">fun</span> <a id="a:103" class="idref" href="#a:103"><span class="id" title="binder">a</span></a> =&gt; <span class="id" title="keyword">match</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#a:103"><span class="id" title="variable">a</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <span class="id" title="var">a</span> =&gt; <a class="idref" href="ITree.EqmR.EqmRMonad.html#f1:96"><span class="id" title="variable">f1</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#a:103"><span class="id" title="variable">a</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <span class="id" title="var">b</span> =&gt; <a class="idref" href="ITree.EqmR.EqmRMonad.html#g1:98"><span class="id" title="variable">g1</span></a> <span class="id" title="var">b</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><span class="id" title="notation">)</span> <span class="id" title="notation">&lt;$&gt;</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#m1:92"><span class="id" title="variable">m1</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="notation">(</span><span class="id" title="keyword">fun</span> <a id="a:101" class="idref" href="#a:101"><span class="id" title="binder">a</span></a> =&gt; <span class="id" title="keyword">match</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#a:101"><span class="id" title="variable">a</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <span class="id" title="var">a</span> =&gt; <a class="idref" href="ITree.EqmR.EqmRMonad.html#f2:97"><span class="id" title="variable">f2</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#a:101"><span class="id" title="variable">a</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <span class="id" title="var">b</span> =&gt; <a class="idref" href="ITree.EqmR.EqmRMonad.html#g2:99"><span class="id" title="variable">g2</span></a> <span class="id" title="var">b</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><span class="id" title="notation">)</span> <span class="id" title="notation">&lt;$&gt;</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#m2:93"><span class="id" title="variable">m2</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">)</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;<span class="inlinecode"><span class="id" title="var">eqmR</span></span>&nbsp;composes&nbsp;by&nbsp;composing&nbsp;the&nbsp;underlying&nbsp;relationHs&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Class</span> <a id="RelComp" class="idref" href="#RelComp"><span class="id" title="record">RelComp</span></a> : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="rel_comp" class="idref" href="#rel_comp"><span class="id" title="projection">rel_comp</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> {<a id="A:107" class="idref" href="#A:107"><span class="id" title="binder">A</span></a> <a id="B:108" class="idref" href="#B:108"><span class="id" title="binder">B</span></a> <a id="C:109" class="idref" href="#C:109"><span class="id" title="binder">C</span></a> : <span class="id" title="keyword">Type</span>} (<a id="R1:110" class="idref" href="#R1:110"><span class="id" title="binder">R1</span></a> : <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#relationH"><span class="id" title="definition">relationH</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A:107"><span class="id" title="variable">A</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#B:108"><span class="id" title="variable">B</span></a>) (<a id="R2:111" class="idref" href="#R2:111"><span class="id" title="binder">R2</span></a> : <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#relationH"><span class="id" title="definition">relationH</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#B:108"><span class="id" title="variable">B</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#C:109"><span class="id" title="variable">C</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="ma:112" class="idref" href="#ma:112"><span class="id" title="binder">ma</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#EqmRRel.m"><span class="id" title="variable">m</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A:107"><span class="id" title="variable">A</span></a>) (<a id="mb:113" class="idref" href="#mb:113"><span class="id" title="binder">mb</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#EqmRRel.m"><span class="id" title="variable">m</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#B:108"><span class="id" title="variable">B</span></a>) (<a id="mc:114" class="idref" href="#mc:114"><span class="id" title="binder">mc</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#EqmRRel.m"><span class="id" title="variable">m</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#C:109"><span class="id" title="variable">C</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.EqmR.EqmRMonad.html#eqmR"><span class="id" title="method">eqmR</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#R1:110"><span class="id" title="variable">R1</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#ma:112"><span class="id" title="variable">ma</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#mb:113"><span class="id" title="variable">mb</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.EqmR.EqmRMonad.html#eqmR"><span class="id" title="method">eqmR</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#R2:111"><span class="id" title="variable">R2</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#mb:113"><span class="id" title="variable">mb</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#mc:114"><span class="id" title="variable">mc</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.EqmR.EqmRMonad.html#eqmR"><span class="id" title="method">eqmR</span></a> (<a class="idref" href="ITree.EqmR.EqmRMonad.html#R2:111"><span class="id" title="variable">R2</span></a> <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#01c44786fa6af40409b2ac74a4cdad50"><span class="id" title="notation">∘</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#R1:110"><span class="id" title="variable">R1</span></a>) <a class="idref" href="ITree.EqmR.EqmRMonad.html#ma:112"><span class="id" title="variable">ma</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#mc:114"><span class="id" title="variable">mc</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Class</span> <a id="RelConj" class="idref" href="#RelConj"><span class="id" title="record">RelConj</span></a> : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="rel_conj" class="idref" href="#rel_conj"><span class="id" title="projection">rel_conj</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> {<a id="A:117" class="idref" href="#A:117"><span class="id" title="binder">A</span></a> <a id="B:118" class="idref" href="#B:118"><span class="id" title="binder">B</span></a> : <span class="id" title="keyword">Type</span>} (<a id="R:119" class="idref" href="#R:119"><span class="id" title="binder">R</span></a> <a id="R':120" class="idref" href="#R':120"><span class="id" title="binder">R'</span></a>: <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#relationH"><span class="id" title="definition">relationH</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A:117"><span class="id" title="variable">A</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#B:118"><span class="id" title="variable">B</span></a>) (<a id="ma:121" class="idref" href="#ma:121"><span class="id" title="binder">ma</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#EqmRRel.m"><span class="id" title="variable">m</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A:117"><span class="id" title="variable">A</span></a>) (<a id="mb:122" class="idref" href="#mb:122"><span class="id" title="binder">mb</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#EqmRRel.m"><span class="id" title="variable">m</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#B:118"><span class="id" title="variable">B</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.EqmR.EqmRMonad.html#eqmR"><span class="id" title="method">eqmR</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#R:119"><span class="id" title="variable">R</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#ma:121"><span class="id" title="variable">ma</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#mb:122"><span class="id" title="variable">mb</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.EqmR.EqmRMonad.html#eqmR"><span class="id" title="method">eqmR</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#R':120"><span class="id" title="variable">R'</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#ma:121"><span class="id" title="variable">ma</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#mb:122"><span class="id" title="variable">mb</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.EqmR.EqmRMonad.html#eqmR"><span class="id" title="method">eqmR</span></a> (<a class="idref" href="ITree.EqmR.EqmRMonad.html#R:119"><span class="id" title="variable">R</span></a> <span class="id" title="notation">/2\</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#R':120"><span class="id" title="variable">R'</span></a>) <a class="idref" href="ITree.EqmR.EqmRMonad.html#ma:121"><span class="id" title="variable">ma</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#mb:122"><span class="id" title="variable">mb</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Requirements&nbsp;of&nbsp;well-formedness&nbsp;of&nbsp;<span class="inlinecode"><span class="id" title="var">eqmR</span></span>&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Class</span> <a id="EqmR_OK" class="idref" href="#EqmR_OK"><span class="id" title="record">EqmR_OK</span></a> : <span class="id" title="keyword">Type</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="eqmR_transport_refl" class="idref" href="#eqmR_transport_refl"><span class="id" title="projection">eqmR_transport_refl</span></a> :&gt; <a class="idref" href="ITree.EqmR.EqmRMonad.html#TransportReflexive"><span class="id" title="class">TransportReflexive</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="eqmR_transport_PER" class="idref" href="#eqmR_transport_PER"><span class="id" title="projection">eqmR_transport_PER</span></a> :&gt; <a class="idref" href="ITree.EqmR.EqmRMonad.html#TransportPER"><span class="id" title="class">TransportPER</span></a>;<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="eqmR_lift_transpose" class="idref" href="#eqmR_lift_transpose"><span class="id" title="projection">eqmR_lift_transpose</span></a> :&gt; <a class="idref" href="ITree.EqmR.EqmRMonad.html#LiftTranspose"><span class="id" title="class">LiftTranspose</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;product&nbsp;rules&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="eqmR_fmap_fst" class="idref" href="#eqmR_fmap_fst"><span class="id" title="projection">eqmR_fmap_fst</span></a> :&gt; <a class="idref" href="ITree.EqmR.EqmRMonad.html#FmapFst"><span class="id" title="class">FmapFst</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="eqmR_fmap_snd" class="idref" href="#eqmR_fmap_snd"><span class="id" title="projection">eqmR_fmap_snd</span></a> :&gt; <a class="idref" href="ITree.EqmR.EqmRMonad.html#FmapSnd"><span class="id" title="class">FmapSnd</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="eqmR_rel_prod" class="idref" href="#eqmR_rel_prod"><span class="id" title="projection">eqmR_rel_prod</span></a> :&gt; <a class="idref" href="ITree.EqmR.EqmRMonad.html#RelProd"><span class="id" title="class">RelProd</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;sum&nbsp;rules&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="eqmR_fmap_inl" class="idref" href="#eqmR_fmap_inl"><span class="id" title="projection">eqmR_fmap_inl</span></a> :&gt; <a class="idref" href="ITree.EqmR.EqmRMonad.html#FmapInl"><span class="id" title="class">FmapInl</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="eqmR_fmap_inr" class="idref" href="#eqmR_fmap_inr"><span class="id" title="projection">eqmR_fmap_inr</span></a> :&gt; <a class="idref" href="ITree.EqmR.EqmRMonad.html#FmapInr"><span class="id" title="class">FmapInr</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="eqmR_rel_sum" class="idref" href="#eqmR_rel_sum"><span class="id" title="projection">eqmR_rel_sum</span></a> :&gt; <a class="idref" href="ITree.EqmR.EqmRMonad.html#RelSum"><span class="id" title="class">RelSum</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;other&nbsp;relational&nbsp;rules&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="eqmR_rel_comp" class="idref" href="#eqmR_rel_comp"><span class="id" title="projection">eqmR_rel_comp</span></a> :&gt; <a class="idref" href="ITree.EqmR.EqmRMonad.html#RelComp"><span class="id" title="class">RelComp</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="eqmR_rel_conj" class="idref" href="#eqmR_rel_conj"><span class="id" title="projection">eqmR_rel_conj</span></a> :&gt; <a class="idref" href="ITree.EqmR.EqmRMonad.html#RelConj"><span class="id" title="class">RelConj</span></a>;<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;<span class="inlinecode"><span class="id" title="var">eqmR</span></span>&nbsp;respects&nbsp;extensional&nbsp;equality&nbsp;of&nbsp;the&nbsp;underlying&nbsp;relationH<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;and&nbsp;<span class="inlinecode"><span class="id" title="var">eqm</span></span>&nbsp;on&nbsp;both&nbsp;arguments&nbsp;over&nbsp;the&nbsp;monad&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="Proper_eqmR" class="idref" href="#Proper_eqmR"><span class="id" title="projection">Proper_eqmR</span></a> :&gt; <span class="id" title="keyword">forall</span> {<a id="A:136" class="idref" href="#A:136"><span class="id" title="binder">A</span></a> <a id="B:137" class="idref" href="#B:137"><span class="id" title="binder">B</span></a> : <span class="id" title="keyword">Type</span>}, <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (@<a class="idref" href="ITree.Basics.HeterogeneousRelations.html#eq_rel"><span class="id" title="definition">eq_rel</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A:136"><span class="id" title="variable">A</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#B:137"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#eq_rel"><span class="id" title="definition">eq_rel</span></a>) <a class="idref" href="ITree.EqmR.EqmRMonad.html#eqmR"><span class="id" title="method">eqmR</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;<span class="inlinecode"><span class="id" title="var">eqmR</span></span>&nbsp;is&nbsp;monotone&nbsp;as&nbsp;a&nbsp;morphism&nbsp;on&nbsp;relationHs&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="Proper_eqmR_mono" class="idref" href="#Proper_eqmR_mono"><span class="id" title="projection">Proper_eqmR_mono</span></a> :&gt; <span class="id" title="keyword">forall</span> {<a id="A:139" class="idref" href="#A:139"><span class="id" title="binder">A</span></a> <a id="B:140" class="idref" href="#B:140"><span class="id" title="binder">B</span></a>}, <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">(</span></a>@<a class="idref" href="ITree.Basics.HeterogeneousRelations.html#subrelationH"><span class="id" title="definition">subrelationH</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">(</span></a>@<a class="idref" href="ITree.Basics.HeterogeneousRelations.html#subrelationH"><span class="id" title="definition">subrelationH</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">)</span></a>) (@<a class="idref" href="ITree.EqmR.EqmRMonad.html#eqmR"><span class="id" title="method">eqmR</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#EqmRRel.m"><span class="id" title="variable">m</span></a> <span class="id" title="var">_</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A:139"><span class="id" title="variable">A</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#B:140"><span class="id" title="variable">B</span></a>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#EqmRRel"><span class="id" title="section">EqmRRel</span></a>.<br/>

<br/>
<span class="id" title="keyword">Arguments</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#equiv"><span class="id" title="definition">equiv</span></a> {<span class="id" title="var">m</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>} [<span class="id" title="var">_</span>].<br/>
<span class="id" title="keyword">Arguments</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#per"><span class="id" title="definition">per</span></a> {<span class="id" title="var">m</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>} [<span class="id" title="var">_</span>].<br/>
<span class="id" title="keyword">Arguments</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#rel_comp"><span class="id" title="definition">rel_comp</span></a> {<span class="id" title="var">m</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>} [<span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>].<br/>
<span class="id" title="keyword">Arguments</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#lift_transpose"><span class="id" title="definition">lift_transpose</span></a> {<span class="id" title="var">m</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>} [<span class="id" title="var">_</span> <span class="id" title="var">_</span>].<br/>
<span class="id" title="keyword">Arguments</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#fmap_fst"><span class="id" title="definition">fmap_fst</span></a> {<span class="id" title="var">m</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>} [<span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>].<br/>
<span class="id" title="keyword">Arguments</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#fmap_snd"><span class="id" title="definition">fmap_snd</span></a> {<span class="id" title="var">m</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>} [<span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>].<br/>
<span class="id" title="keyword">Arguments</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#rel_prod"><span class="id" title="definition">rel_prod</span></a> {<span class="id" title="var">m</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>} [<span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>].<br/>
<span class="id" title="keyword">Arguments</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#fmap_inl"><span class="id" title="definition">fmap_inl</span></a> {<span class="id" title="var">m</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>} [<span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>].<br/>
<span class="id" title="keyword">Arguments</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#fmap_inr"><span class="id" title="definition">fmap_inr</span></a> {<span class="id" title="var">m</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>} [<span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>].<br/>
<span class="id" title="keyword">Arguments</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#rel_sum"><span class="id" title="definition">rel_sum</span></a> {<span class="id" title="var">m</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>} [<span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>].<br/>
<span class="id" title="keyword">Arguments</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#rel_conj"><span class="id" title="definition">rel_conj</span></a> {<span class="id" title="var">m</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>} [<span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>].<br/>
<span class="id" title="keyword">Arguments</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#Proper_eqmR"><span class="id" title="method">Proper_eqmR</span></a> {<span class="id" title="var">m</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>} [<span class="id" title="var">_</span> <span class="id" title="var">_</span>].<br/>
<span class="id" title="keyword">Arguments</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#Proper_eqmR_mono"><span class="id" title="method">Proper_eqmR_mono</span></a> {<span class="id" title="var">m</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>} [<span class="id" title="var">_</span> <span class="id" title="var">_</span>].<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="PER" class="idref" href="#PER"><span class="id" title="section">PER</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="m:142" class="idref" href="#m:142"><span class="id" title="binder">m</span></a> : <span class="id" title="keyword">Type</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Type</span>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="Mm:143" class="idref" href="#Mm:143"><span class="id" title="binder">Mm</span></a> : <span class="id" title="class">Monad</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#PER.m"><span class="id" title="variable">m</span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="E:144" class="idref" href="#E:144"><span class="id" title="binder">E</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#EqmR"><span class="id" title="class">EqmR</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#PER.m"><span class="id" title="variable">m</span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="E_OK:145" class="idref" href="#E_OK:145"><span class="id" title="binder">E_OK</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#EqmR_OK"><span class="id" title="class">EqmR_OK</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#PER.m"><span class="id" title="variable">m</span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="Refl_eqmR_eq" class="idref" href="#Refl_eqmR_eq"><span class="id" title="instance">Refl_eqmR_eq</span></a> {<a id="A:146" class="idref" href="#A:146"><span class="id" title="binder">A</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.RelationClasses.html#Reflexive"><span class="id" title="class">Reflexive</span></a> (<a class="idref" href="ITree.EqmR.EqmRMonad.html#eqmR"><span class="id" title="method">eqmR</span></a> (@<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A:146"><span class="id" title="variable">A</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#eqmR_transport_refl"><span class="id" title="method">eqmR_transport_refl</span></a>; <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="Equivalence_eqmR_eq" class="idref" href="#Equivalence_eqmR_eq"><span class="id" title="instance">Equivalence_eqmR_eq</span></a> {<a id="A:147" class="idref" href="#A:147"><span class="id" title="binder">A</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.RelationClasses.html#Equivalence"><span class="id" title="class">Equivalence</span></a> (<a class="idref" href="ITree.EqmR.EqmRMonad.html#eqmR"><span class="id" title="method">eqmR</span></a> (@<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A:147"><span class="id" title="variable">A</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>. <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">destruct</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#PER.E_OK"><span class="id" title="variable">E_OK</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">eqmR_transport_PER0</span> <span class="id" title="var">A</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <span class="id" title="var">_</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[ <span class="id" title="tactic">reflexivity</span> | <span class="id" title="tactic">symmetry</span>; <span class="id" title="tactic">auto</span> | <span class="id" title="var">etransitivity</span>; <span class="id" title="tactic">eauto</span>].<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="Equivalence_eqmR_R" class="idref" href="#Equivalence_eqmR_R"><span class="id" title="instance">Equivalence_eqmR_R</span></a> {<a id="A:148" class="idref" href="#A:148"><span class="id" title="binder">A</span></a>} (<a id="R:149" class="idref" href="#R:149"><span class="id" title="binder">R</span></a> : <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#relationH"><span class="id" title="definition">relationH</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A:148"><span class="id" title="variable">A</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A:148"><span class="id" title="variable">A</span></a>) `{<a id="H:150" class="idref" href="#H:150"><span class="id" title="binder">Equivalence</span></a> <a id="H:150" class="idref" href="#H:150"><span class="id" title="binder">A</span></a> <a id="H:150" class="idref" href="#H:150"><span class="id" title="binder">R</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.RelationClasses.html#Equivalence"><span class="id" title="class">Equivalence</span></a> (<a class="idref" href="ITree.EqmR.EqmRMonad.html#eqmR"><span class="id" title="method">eqmR</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#R:149"><span class="id" title="variable">R</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="ITree.Basics.HeterogeneousRelations.html#PER"><span class="id" title="class">PER</span></a> <span class="id" title="var">R</span>) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#PER.E_OK"><span class="id" title="variable">E_OK</span></a>; <span class="id" title="tactic">constructor</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">eqmR_transport_PER0</span> <span class="id" title="var">A</span> <span class="id" title="var">R</span> <span class="id" title="var">H</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[ | <span class="id" title="tactic">symmetry</span>; <span class="id" title="tactic">auto</span> | <span class="id" title="var">etransitivity</span>; <span class="id" title="tactic">eauto</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#eqmR_transport_refl"><span class="id" title="method">eqmR_transport_refl</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="Symm_eqmR_PER" class="idref" href="#Symm_eqmR_PER"><span class="id" title="instance">Symm_eqmR_PER</span></a> {<a id="A:151" class="idref" href="#A:151"><span class="id" title="binder">A</span></a>} {<a id="R:152" class="idref" href="#R:152"><span class="id" title="binder">R</span></a> : <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#relationH"><span class="id" title="definition">relationH</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A:151"><span class="id" title="variable">A</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A:151"><span class="id" title="variable">A</span></a>} `{<a id="H:153" class="idref" href="#H:153"><span class="id" title="binder">PER</span></a> <a id="H:153" class="idref" href="#H:153"><span class="id" title="binder">A</span></a> <a id="H:153" class="idref" href="#H:153"><span class="id" title="binder">R</span></a>}:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.RelationClasses.html#Symmetric"><span class="id" title="class">Symmetric</span></a> (<a class="idref" href="ITree.EqmR.EqmRMonad.html#eqmR"><span class="id" title="method">eqmR</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#R:152"><span class="id" title="variable">R</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#eqmR_transport_PER"><span class="id" title="method">eqmR_transport_PER</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="Trans_eqmR_PER" class="idref" href="#Trans_eqmR_PER"><span class="id" title="instance">Trans_eqmR_PER</span></a> {<a id="A:154" class="idref" href="#A:154"><span class="id" title="binder">A</span></a>} {<a id="R:155" class="idref" href="#R:155"><span class="id" title="binder">R</span></a> : <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#relationH"><span class="id" title="definition">relationH</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A:154"><span class="id" title="variable">A</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A:154"><span class="id" title="variable">A</span></a>} `{<a id="H:156" class="idref" href="#H:156"><span class="id" title="binder">PER</span></a> <a id="H:156" class="idref" href="#H:156"><span class="id" title="binder">A</span></a> <a id="H:156" class="idref" href="#H:156"><span class="id" title="binder">R</span></a>}:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.RelationClasses.html#Transitive"><span class="id" title="class">Transitive</span></a> (<a class="idref" href="ITree.EqmR.EqmRMonad.html#eqmR"><span class="id" title="method">eqmR</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#R:155"><span class="id" title="variable">R</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>. <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="ITree.EqmR.EqmRMonad.html#eqmR_transport_PER"><span class="id" title="method">eqmR_transport_PER</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#PER.m"><span class="id" title="variable">m</span></a> <span class="id" title="var">_</span> <span class="id" title="var">R</span> <span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H2</span>. <span class="id" title="var">etransitivity</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="PER_eqmR_PER" class="idref" href="#PER_eqmR_PER"><span class="id" title="instance">PER_eqmR_PER</span></a> {<a id="A:157" class="idref" href="#A:157"><span class="id" title="binder">A</span></a>} {<a id="R:158" class="idref" href="#R:158"><span class="id" title="binder">R</span></a> : <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#relationH"><span class="id" title="definition">relationH</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A:157"><span class="id" title="variable">A</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A:157"><span class="id" title="variable">A</span></a>} `{<a id="H:159" class="idref" href="#H:159"><span class="id" title="binder">PER</span></a> <a id="H:159" class="idref" href="#H:159"><span class="id" title="binder">A</span></a> <a id="H:159" class="idref" href="#H:159"><span class="id" title="binder">R</span></a>}:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.Basics.HeterogeneousRelations.html#PER"><span class="id" title="class">PER</span></a> (<a class="idref" href="ITree.EqmR.EqmRMonad.html#eqmR"><span class="id" title="method">eqmR</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#R:158"><span class="id" title="variable">R</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="tactic">red</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#Symm_eqmR_PER"><span class="id" title="instance">Symm_eqmR_PER</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#Trans_eqmR_PER"><span class="id" title="instance">Trans_eqmR_PER</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="Proper_eqmR_PER" class="idref" href="#Proper_eqmR_PER"><span class="id" title="instance">Proper_eqmR_PER</span></a> {<a id="A:160" class="idref" href="#A:160"><span class="id" title="binder">A</span></a>} {<a id="R:161" class="idref" href="#R:161"><span class="id" title="binder">R</span></a> : <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#relationH"><span class="id" title="definition">relationH</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A:160"><span class="id" title="variable">A</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A:160"><span class="id" title="variable">A</span></a>} `{<a id="H:162" class="idref" href="#H:162"><span class="id" title="binder">PER</span></a> <a id="H:162" class="idref" href="#H:162"><span class="id" title="binder">A</span></a> <a id="H:162" class="idref" href="#H:162"><span class="id" title="binder">R</span></a>}:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="ITree.EqmR.EqmRMonad.html#eqmR"><span class="id" title="method">eqmR</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#R:161"><span class="id" title="variable">R</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#eqmR"><span class="id" title="method">eqmR</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#R:161"><span class="id" title="variable">R</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#iff"><span class="id" title="definition">iff</span></a>) (<a class="idref" href="ITree.EqmR.EqmRMonad.html#eqmR"><span class="id" title="method">eqmR</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#R:161"><span class="id" title="variable">R</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etransitivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H0</span>. <span class="id" title="var">etransitivity</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etransitivity</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etransitivity</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">symmetry</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="Proper_eqmR_eq" class="idref" href="#Proper_eqmR_eq"><span class="id" title="instance">Proper_eqmR_eq</span></a> {<a id="A:163" class="idref" href="#A:163"><span class="id" title="binder">A</span></a>}:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="ITree.EqmR.EqmRMonad.html#eqmR"><span class="id" title="method">eqmR</span></a> (@<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A:163"><span class="id" title="variable">A</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#eqmR"><span class="id" title="method">eqmR</span></a> (@<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A:163"><span class="id" title="variable">A</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#iff"><span class="id" title="definition">iff</span></a>) (<a class="idref" href="ITree.EqmR.EqmRMonad.html#eqmR"><span class="id" title="method">eqmR</span></a> (@<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A:163"><span class="id" title="variable">A</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etransitivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>. <span class="id" title="var">etransitivity</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etransitivity</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etransitivity</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">symmetry</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="Proper_eqmR_cong" class="idref" href="#Proper_eqmR_cong"><span class="id" title="instance">Proper_eqmR_cong</span></a> {<a id="A:164" class="idref" href="#A:164"><span class="id" title="binder">A</span></a> <a id="B:165" class="idref" href="#B:165"><span class="id" title="binder">B</span></a>} {<a id="R:166" class="idref" href="#R:166"><span class="id" title="binder">R</span></a> : <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#relationH"><span class="id" title="definition">relationH</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A:164"><span class="id" title="variable">A</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#B:165"><span class="id" title="variable">B</span></a>}:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="ITree.EqmR.EqmRMonad.html#eqmR"><span class="id" title="method">eqmR</span></a> (@<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A:164"><span class="id" title="variable">A</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#eqmR"><span class="id" title="method">eqmR</span></a> (@<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#B:165"><span class="id" title="variable">B</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#iff"><span class="id" title="definition">iff</span></a>) (<a class="idref" href="ITree.EqmR.EqmRMonad.html#eqmR"><span class="id" title="method">eqmR</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#R:166"><span class="id" title="variable">R</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> @<a class="idref" href="ITree.EqmR.EqmRMonad.html#eqmR_rel_comp"><span class="id" title="method">eqmR_rel_comp</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H2</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#PER.m"><span class="id" title="variable">m</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (@<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <span class="id" title="var">A</span>) <span class="id" title="var">R</span> <span class="id" title="var">y</span> <span class="id" title="var">x</span> <span class="id" title="var">x0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">H2</span> <span class="id" title="var">H</span> <span class="id" title="var">H1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> @<a class="idref" href="ITree.EqmR.EqmRMonad.html#eqmR_rel_comp"><span class="id" title="method">eqmR_rel_comp</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H3</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#PER.m"><span class="id" title="variable">m</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">R</span> (@<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <span class="id" title="var">B</span>) <span class="id" title="var">y</span> <span class="id" title="var">x0</span> <span class="id" title="var">y0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#Proper_eqmR"><span class="id" title="method">Proper_eqmR</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>. 2 : <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2 : { <span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#eq_id_l"><span class="id" title="lemma">eq_id_l</span></a>. <span class="id" title="tactic">reflexivity</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H3</span> <span class="id" title="var">H2</span> <span class="id" title="var">H0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#Proper_eqmR"><span class="id" title="method">Proper_eqmR</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span>. 2 : <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2 : { <span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#eq_id_r"><span class="id" title="lemma">eq_id_r</span></a>. <span class="id" title="tactic">reflexivity</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> @<a class="idref" href="ITree.EqmR.EqmRMonad.html#eqmR_rel_comp"><span class="id" title="method">eqmR_rel_comp</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H2</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#PER.m"><span class="id" title="variable">m</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (@<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <span class="id" title="var">A</span>) <span class="id" title="var">R</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">y0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H2</span> <span class="id" title="var">H</span> <span class="id" title="var">H1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> @<a class="idref" href="ITree.EqmR.EqmRMonad.html#eqmR_rel_comp"><span class="id" title="method">eqmR_rel_comp</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H3</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#PER.m"><span class="id" title="variable">m</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">R</span> (@<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <span class="id" title="var">B</span>) <span class="id" title="var">x</span> <span class="id" title="var">y0</span> <span class="id" title="var">x0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#Proper_eqmR"><span class="id" title="method">Proper_eqmR</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>. 2 : <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2 : { <span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#eq_id_l"><span class="id" title="lemma">eq_id_l</span></a>. <span class="id" title="tactic">reflexivity</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H3</span> <span class="id" title="var">H2</span> <span class="id" title="var">H0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#Proper_eqmR"><span class="id" title="method">Proper_eqmR</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span>. 2 : <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2 : { <span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#eq_id_r"><span class="id" title="lemma">eq_id_r</span></a>. <span class="id" title="tactic">reflexivity</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="Proper_eqmR_impl" class="idref" href="#Proper_eqmR_impl"><span class="id" title="instance">Proper_eqmR_impl</span></a> {<a id="A:167" class="idref" href="#A:167"><span class="id" title="binder">A</span></a> <a id="B:168" class="idref" href="#B:168"><span class="id" title="binder">B</span></a>} {<a id="R:169" class="idref" href="#R:169"><span class="id" title="binder">R</span></a> : <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#relationH"><span class="id" title="definition">relationH</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A:167"><span class="id" title="variable">A</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#B:168"><span class="id" title="variable">B</span></a>}:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="ITree.EqmR.EqmRMonad.html#eqmR"><span class="id" title="method">eqmR</span></a> (@<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A:167"><span class="id" title="variable">A</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#eqmR"><span class="id" title="method">eqmR</span></a> (@<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#B:168"><span class="id" title="variable">B</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Program.Basics.html#impl"><span class="id" title="definition">impl</span></a>) (<a class="idref" href="ITree.EqmR.EqmRMonad.html#eqmR"><span class="id" title="method">eqmR</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#R:169"><span class="id" title="variable">R</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">edestruct</span> @<a class="idref" href="ITree.EqmR.EqmRMonad.html#Proper_eqmR_cong"><span class="id" title="instance">Proper_eqmR_cong</span></a>; <span class="id" title="var">cycle</span> 2.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">H2</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">all</span> : <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="Proper_eqmR_flip_impl" class="idref" href="#Proper_eqmR_flip_impl"><span class="id" title="instance">Proper_eqmR_flip_impl</span></a> {<a id="A:170" class="idref" href="#A:170"><span class="id" title="binder">A</span></a> <a id="B:171" class="idref" href="#B:171"><span class="id" title="binder">B</span></a>} {<a id="R:172" class="idref" href="#R:172"><span class="id" title="binder">R</span></a> : <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#relationH"><span class="id" title="definition">relationH</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A:170"><span class="id" title="variable">A</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#B:171"><span class="id" title="variable">B</span></a>}:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="ITree.EqmR.EqmRMonad.html#eqmR"><span class="id" title="method">eqmR</span></a> (@<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A:170"><span class="id" title="variable">A</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#eqmR"><span class="id" title="method">eqmR</span></a> (@<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#B:171"><span class="id" title="variable">B</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Program.Basics.html#flip"><span class="id" title="definition">flip</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Program.Basics.html#impl"><span class="id" title="definition">impl</span></a>) (<a class="idref" href="ITree.EqmR.EqmRMonad.html#eqmR"><span class="id" title="method">eqmR</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#R:172"><span class="id" title="variable">R</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">edestruct</span> @<a class="idref" href="ITree.EqmR.EqmRMonad.html#Proper_eqmR_cong"><span class="id" title="instance">Proper_eqmR_cong</span></a>; <span class="id" title="var">cycle</span> 2.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">H3</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">all</span> : <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#PER"><span class="id" title="section">PER</span></a>.<br/>

<br/>
<span class="id" title="keyword">Arguments</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#Proper_eqmR_cong"><span class="id" title="instance">Proper_eqmR_cong</span></a> {<span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>} [<span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>].<br/>

<br/>
</div>

<div class="doc">
<a id="lab55"></a><h1 class="section">Image : the set of possible return values of a monad</h1>

</div>
<div class="code">
<span class="id" title="keyword">Section</span> <a id="Image" class="idref" href="#Image"><span class="id" title="section">Image</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="m:173" class="idref" href="#m:173"><span class="id" title="binder">m</span></a> : <span class="id" title="keyword">Type</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Type</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="Mm:174" class="idref" href="#Mm:174"><span class="id" title="binder">Mm</span></a> : <span class="id" title="class">Monad</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#Image.m"><span class="id" title="variable">m</span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="EqMR:175" class="idref" href="#EqMR:175"><span class="id" title="binder">EqMR</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#EqmR"><span class="id" title="class">EqmR</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#Image.m"><span class="id" title="variable">m</span></a>} {<a id="EqmROKm:176" class="idref" href="#EqmROKm:176"><span class="id" title="binder">EqmROKm</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#EqmR_OK"><span class="id" title="class">EqmR_OK</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#Image.m"><span class="id" title="variable">m</span></a>}.<br/>

<br/>
</div>

<div class="doc">
An <i>image</i> is a (unary) logical predicate that specifies the intersection
   of PER's that a monadic value satisfies. Intuitively, what this entails is
   the possible set of elements of the specified Type <span class="inlinecode"><span class="id" title="var">A</span></span> that a monadic
   value can return. In this sense, it is an "image" as in set theory,
   indicating the set of all output values that a monad may produce.
   Notice the definition of <i>image</i> takes the universal quantification over
   all PER's satisfying <span class="inlinecode"><span class="id" title="var">EQ</span></span>, giving the smallest relation which will
   describe the set of elements that a monadic value may return.
    Consider <span class="inlinecode"><a class="idref" href="ITree.EqmR.EqmRMonadH.html#image"><span class="id" title="definition">image</span></a></span> <span class="inlinecode"><a class="idref" href="ITree.Core.ITreeDefinition.html#ITree.spin"><span class="id" title="definition">spin</span></a></span> in ITrees, or more simply, <span class="inlinecode"><a class="idref" href="ITree.EqmR.EqmRMonadH.html#image"><span class="id" title="definition">image</span></a></span> <span class="inlinecode"><span class="id" title="var">Nothing</span></span> for the
   option monad, where the carrier Typee is <span class="inlinecode"><span class="id" title="var">A</span></span>.

<div class="paragraph"> </div>

   There exists no PER over any carrier Type that this option monad may have
   in which <span class="inlinecode"><span class="id" title="var">Nothing</span></span> can give an image to, i.e. the smallest relation over
   <span class="inlinecode"><span class="id" title="var">Nothing</span></span> cannot say anything about values of Type <span class="inlinecode"><span class="id" title="var">A</span></span>.
    Elements contained in the least specification that relates two monadic
     computations. 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="imageH" class="idref" href="#imageH"><span class="id" title="definition">imageH</span></a> {<a id="A1:177" class="idref" href="#A1:177"><span class="id" title="binder">A1</span></a> <a id="A2:178" class="idref" href="#A2:178"><span class="id" title="binder">A2</span></a> :<span class="id" title="keyword">Type</span>} (<a id="ma1:179" class="idref" href="#ma1:179"><span class="id" title="binder">ma1</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#Image.m"><span class="id" title="variable">m</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A1:177"><span class="id" title="variable">A1</span></a>) (<a id="ma2:180" class="idref" href="#ma2:180"><span class="id" title="binder">ma2</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#Image.m"><span class="id" title="variable">m</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A2:178"><span class="id" title="variable">A2</span></a>) : <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#relationH"><span class="id" title="definition">relationH</span></a> (<a class="idref" href="ITree.EqmR.EqmRMonad.html#A1:177"><span class="id" title="variable">A1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A2:178"><span class="id" title="variable">A2</span></a>) (<a class="idref" href="ITree.EqmR.EqmRMonad.html#A1:177"><span class="id" title="variable">A1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A2:178"><span class="id" title="variable">A2</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> '<a id="pat:183" class="idref" href="#pat:183"><span class="id" title="binder">(</span></a><a id="pat:183" class="idref" href="#pat:183"><span class="id" title="binder">a1</span></a><a id="pat:183" class="idref" href="#pat:183"><span class="id" title="binder">,</span></a> <a id="pat:183" class="idref" href="#pat:183"><span class="id" title="binder">a2</span></a><a id="pat:183" class="idref" href="#pat:183"><span class="id" title="binder">)</span></a> '<a id="pat:186" class="idref" href="#pat:186"><span class="id" title="binder">(</span></a><a id="pat:186" class="idref" href="#pat:186"><span class="id" title="binder">a1'</span></a><a id="pat:186" class="idref" href="#pat:186"><span class="id" title="binder">,</span></a> <a id="pat:186" class="idref" href="#pat:186"><span class="id" title="binder">a2'</span></a><a id="pat:186" class="idref" href="#pat:186"><span class="id" title="binder">)</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<a id="RA:187" class="idref" href="#RA:187"><span class="id" title="binder">RA</span></a> : <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#relationH"><span class="id" title="definition">relationH</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A1:177"><span class="id" title="variable">A1</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A2:178"><span class="id" title="variable">A2</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="EQA:188" class="idref" href="#EQA:188"><span class="id" title="binder">EQA</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#eqmR"><span class="id" title="method">eqmR</span></a> (<span class="id" title="var">m</span> := <a class="idref" href="ITree.EqmR.EqmRMonad.html#Image.m"><span class="id" title="variable">m</span></a>) <a class="idref" href="ITree.EqmR.EqmRMonad.html#RA:187"><span class="id" title="variable">RA</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#ma1:179"><span class="id" title="variable">ma1</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#ma2:180"><span class="id" title="variable">ma2</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="H:189" class="idref" href="#H:189"><span class="id" title="binder">H</span></a> : <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#Zigzag"><span class="id" title="class">Zigzag</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#RA:187"><span class="id" title="variable">RA</span></a>), <a class="idref" href="ITree.EqmR.EqmRMonad.html#RA:187"><span class="id" title="variable">RA</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#a1:182"><span class="id" title="variable">a1</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#a2:181"><span class="id" title="variable">a2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#RA:187"><span class="id" title="variable">RA</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#a1':185"><span class="id" title="variable">a1'</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#a2':184"><span class="id" title="variable">a2'</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="imageH_Z" class="idref" href="#imageH_Z"><span class="id" title="definition">imageH_Z</span></a> {<a id="A1:190" class="idref" href="#A1:190"><span class="id" title="binder">A1</span></a> <a id="A2:191" class="idref" href="#A2:191"><span class="id" title="binder">A2</span></a> :<span class="id" title="keyword">Type</span>} (<a id="ma1:192" class="idref" href="#ma1:192"><span class="id" title="binder">ma1</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#Image.m"><span class="id" title="variable">m</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A1:190"><span class="id" title="variable">A1</span></a>) (<a id="ma2:193" class="idref" href="#ma2:193"><span class="id" title="binder">ma2</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#Image.m"><span class="id" title="variable">m</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A2:191"><span class="id" title="variable">A2</span></a>) : <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#relationH"><span class="id" title="definition">relationH</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A1:190"><span class="id" title="variable">A1</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A2:191"><span class="id" title="variable">A2</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <a id="a1:194" class="idref" href="#a1:194"><span class="id" title="binder">a1</span></a> <a id="a2:195" class="idref" href="#a2:195"><span class="id" title="binder">a2</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<a id="RA:196" class="idref" href="#RA:196"><span class="id" title="binder">RA</span></a> : <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#relationH"><span class="id" title="definition">relationH</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A1:190"><span class="id" title="variable">A1</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A2:191"><span class="id" title="variable">A2</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="EQA:197" class="idref" href="#EQA:197"><span class="id" title="binder">EQA</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#eqmR"><span class="id" title="method">eqmR</span></a> (<span class="id" title="var">m</span> := <a class="idref" href="ITree.EqmR.EqmRMonad.html#Image.m"><span class="id" title="variable">m</span></a>) <a class="idref" href="ITree.EqmR.EqmRMonad.html#RA:196"><span class="id" title="variable">RA</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#ma1:192"><span class="id" title="variable">ma1</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#ma2:193"><span class="id" title="variable">ma2</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="H:198" class="idref" href="#H:198"><span class="id" title="binder">H</span></a> : <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#Zigzag"><span class="id" title="class">Zigzag</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#RA:196"><span class="id" title="variable">RA</span></a>), <a class="idref" href="ITree.EqmR.EqmRMonad.html#RA:196"><span class="id" title="variable">RA</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#a1:194"><span class="id" title="variable">a1</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#a2:195"><span class="id" title="variable">a2</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="mayRetH" class="idref" href="#mayRetH"><span class="id" title="definition">mayRetH</span></a> {<a id="A1:199" class="idref" href="#A1:199"><span class="id" title="binder">A1</span></a> <a id="A2:200" class="idref" href="#A2:200"><span class="id" title="binder">A2</span></a> : <span class="id" title="keyword">Type</span>} (<a id="ma1:201" class="idref" href="#ma1:201"><span class="id" title="binder">ma1</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#Image.m"><span class="id" title="variable">m</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A1:199"><span class="id" title="variable">A1</span></a>) (<a id="ma2:202" class="idref" href="#ma2:202"><span class="id" title="binder">ma2</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#Image.m"><span class="id" title="variable">m</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A2:200"><span class="id" title="variable">A2</span></a>): <a class="idref" href="ITree.EqmR.EqmRMonad.html#A1:199"><span class="id" title="variable">A1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A2:200"><span class="id" title="variable">A2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> '<a id="pat:205" class="idref" href="#pat:205"><span class="id" title="binder">(</span></a><a id="pat:205" class="idref" href="#pat:205"><span class="id" title="binder">x</span></a><a id="pat:205" class="idref" href="#pat:205"><span class="id" title="binder">,</span></a> <a id="pat:205" class="idref" href="#pat:205"><span class="id" title="binder">y</span></a><a id="pat:205" class="idref" href="#pat:205"><span class="id" title="binder">)</span></a> =&gt; <a class="idref" href="ITree.EqmR.EqmRMonad.html#imageH"><span class="id" title="definition">imageH</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#ma1:201"><span class="id" title="variable">ma1</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#ma2:202"><span class="id" title="variable">ma2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="ITree.EqmR.EqmRMonad.html#x:204"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#y:203"><span class="id" title="variable">y</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="ITree.EqmR.EqmRMonad.html#x:204"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#y:203"><span class="id" title="variable">y</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="imageH_diag" class="idref" href="#imageH_diag"><span class="id" title="definition">imageH_diag</span></a> {<a id="A:206" class="idref" href="#A:206"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>} (<a id="ma:207" class="idref" href="#ma:207"><span class="id" title="binder">ma</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#Image.m"><span class="id" title="variable">m</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A:206"><span class="id" title="variable">A</span></a>) : <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#relationH"><span class="id" title="definition">relationH</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A:206"><span class="id" title="variable">A</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A:206"><span class="id" title="variable">A</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <a id="x:208" class="idref" href="#x:208"><span class="id" title="binder">x</span></a> <a id="y:209" class="idref" href="#y:209"><span class="id" title="binder">y</span></a> =&gt; <a class="idref" href="ITree.EqmR.EqmRMonad.html#imageH"><span class="id" title="definition">imageH</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#ma:207"><span class="id" title="variable">ma</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#ma:207"><span class="id" title="variable">ma</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="ITree.EqmR.EqmRMonad.html#x:208"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#y:209"><span class="id" title="variable">y</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="ITree.EqmR.EqmRMonad.html#y:209"><span class="id" title="variable">y</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#x:208"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#imageH"><span class="id" title="definition">imageH</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#ma:207"><span class="id" title="variable">ma</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#ma:207"><span class="id" title="variable">ma</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="ITree.EqmR.EqmRMonad.html#x:208"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#x:208"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="ITree.EqmR.EqmRMonad.html#y:209"><span class="id" title="variable">y</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#y:209"><span class="id" title="variable">y</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="mayRetH_diag" class="idref" href="#mayRetH_diag"><span class="id" title="definition">mayRetH_diag</span></a> {<a id="A:210" class="idref" href="#A:210"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>} (<a id="ma:211" class="idref" href="#ma:211"><span class="id" title="binder">ma</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#Image.m"><span class="id" title="variable">m</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A:210"><span class="id" title="variable">A</span></a>) : <a class="idref" href="ITree.EqmR.EqmRMonad.html#A:210"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <a id="a:212" class="idref" href="#a:212"><span class="id" title="binder">a</span></a> =&gt; <a class="idref" href="ITree.EqmR.EqmRMonad.html#imageH_diag"><span class="id" title="definition">imageH_diag</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#ma:211"><span class="id" title="variable">ma</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#a:212"><span class="id" title="variable">a</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#a:212"><span class="id" title="variable">a</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;NB:&nbsp;Every&nbsp;PER&nbsp;is&nbsp;difunctional,&nbsp;but&nbsp;the&nbsp;converse&nbsp;does&nbsp;not&nbsp;hold.&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="image_" class="idref" href="#image_"><span class="id" title="definition">image_</span></a> {<a id="A:213" class="idref" href="#A:213"><span class="id" title="binder">A</span></a>:<span class="id" title="keyword">Type</span>} (<a id="ma:214" class="idref" href="#ma:214"><span class="id" title="binder">ma</span></a> <a id="ma':215" class="idref" href="#ma':215"><span class="id" title="binder">ma'</span></a>: <a class="idref" href="ITree.EqmR.EqmRMonad.html#Image.m"><span class="id" title="variable">m</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A:213"><span class="id" title="variable">A</span></a>) : <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#relationH"><span class="id" title="definition">relationH</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A:213"><span class="id" title="variable">A</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A:213"><span class="id" title="variable">A</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <a id="x:216" class="idref" href="#x:216"><span class="id" title="binder">x</span></a> <a id="y:217" class="idref" href="#y:217"><span class="id" title="binder">y</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<a id="R:218" class="idref" href="#R:218"><span class="id" title="binder">R</span></a> : <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#relationH"><span class="id" title="definition">relationH</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A:213"><span class="id" title="variable">A</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A:213"><span class="id" title="variable">A</span></a>) (<a id="PH:219" class="idref" href="#PH:219"><span class="id" title="binder">PH</span></a> : <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#PER"><span class="id" title="class">PER</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#R:218"><span class="id" title="variable">R</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="EQR:220" class="idref" href="#EQR:220"><span class="id" title="binder">EQR</span></a>: <a class="idref" href="ITree.EqmR.EqmRMonad.html#eqmR"><span class="id" title="method">eqmR</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#R:218"><span class="id" title="variable">R</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#ma:214"><span class="id" title="variable">ma</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#ma':215"><span class="id" title="variable">ma'</span></a>), <a class="idref" href="ITree.EqmR.EqmRMonad.html#R:218"><span class="id" title="variable">R</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#x:216"><span class="id" title="variable">x</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#y:217"><span class="id" title="variable">y</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="image" class="idref" href="#image"><span class="id" title="definition">image</span></a> {<a id="A:221" class="idref" href="#A:221"><span class="id" title="binder">A</span></a>:<span class="id" title="keyword">Type</span>} (<a id="ma:222" class="idref" href="#ma:222"><span class="id" title="binder">ma</span></a>:<a class="idref" href="ITree.EqmR.EqmRMonad.html#Image.m"><span class="id" title="variable">m</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A:221"><span class="id" title="variable">A</span></a>):= <a class="idref" href="ITree.EqmR.EqmRMonad.html#image_"><span class="id" title="definition">image_</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#ma:222"><span class="id" title="variable">ma</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#ma:222"><span class="id" title="variable">ma</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Using&nbsp;<span class="inlinecode"><span class="id" title="var">image</span></span>&nbsp;we&nbsp;can&nbsp;define&nbsp;the&nbsp;<span class="inlinecode"><span class="id" title="var">mayRet</span></span>&nbsp;predicate,&nbsp;which&nbsp;identifies<br/>
&nbsp;&nbsp;&nbsp;*&nbsp;the&nbsp;subset&nbsp;of&nbsp;A&nbsp;on&nbsp;which&nbsp;the&nbsp;computation&nbsp;<span class="inlinecode"><span class="id" title="var">ma</span></span>&nbsp;can&nbsp;halt&nbsp;with<br/>
&nbsp;&nbsp;&nbsp;*&nbsp;a&nbsp;<span class="inlinecode"><span class="id" title="var">ret</span></span> <span class="inlinecode"><span class="id" title="var">x</span></span>.&nbsp;(When&nbsp;we&nbsp;characterize&nbsp;monadic&nbsp;computations,&nbsp;we&nbsp;use&nbsp;<span class="inlinecode"><span class="id" title="var">mayRet</span></span><br/>
&nbsp;&nbsp;&nbsp;*&nbsp;and&nbsp;we&nbsp;only&nbsp;care&nbsp;about&nbsp;this&nbsp;unary&nbsp;form.)&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="mayRet" class="idref" href="#mayRet"><span class="id" title="definition">mayRet</span></a> {<a id="A:223" class="idref" href="#A:223"><span class="id" title="binder">A</span></a>:<span class="id" title="keyword">Type</span>} (<a id="ma:224" class="idref" href="#ma:224"><span class="id" title="binder">ma</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#Image.m"><span class="id" title="variable">m</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A:223"><span class="id" title="variable">A</span></a>) : <a class="idref" href="ITree.EqmR.EqmRMonad.html#A:223"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> (<a id="a:225" class="idref" href="#a:225"><span class="id" title="binder">a</span></a>:<a class="idref" href="ITree.EqmR.EqmRMonad.html#A:223"><span class="id" title="variable">A</span></a>) =&gt; <a class="idref" href="ITree.EqmR.EqmRMonad.html#image"><span class="id" title="definition">image</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#ma:224"><span class="id" title="variable">ma</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#a:225"><span class="id" title="variable">a</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#a:225"><span class="id" title="variable">a</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a id="1fc651b0673194124e9a051ab27f0089" class="idref" href="#1fc651b0673194124e9a051ab27f0089"><span class="id" title="notation">&quot;</span></a>a1 ∈ ma" := (<a class="idref" href="ITree.EqmR.EqmRMonad.html#mayRet"><span class="id" title="definition">mayRet</span></a> <span class="id" title="var">ma</span> <span class="id" title="var">a1</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 40) : <span class="id" title="var">cat_scope</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a id="320057b4fb040f2af97f69cd35e56255" class="idref" href="#320057b4fb040f2af97f69cd35e56255"><span class="id" title="notation">&quot;</span></a>a1 ∈̂ ma" := (<a class="idref" href="ITree.EqmR.EqmRMonad.html#mayRetH_diag"><span class="id" title="definition">mayRetH_diag</span></a> <span class="id" title="var">ma</span> <span class="id" title="var">a1</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 40) : <span class="id" title="var">cat_scope</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="eqmR_bind_ProperH_homo" class="idref" href="#eqmR_bind_ProperH_homo"><span class="id" title="definition">eqmR_bind_ProperH_homo</span></a> := <span class="id" title="keyword">forall</span> (<a id="A1:226" class="idref" href="#A1:226"><span class="id" title="binder">A1</span></a> <a id="A2:227" class="idref" href="#A2:227"><span class="id" title="binder">A2</span></a> <a id="B1:228" class="idref" href="#B1:228"><span class="id" title="binder">B1</span></a> <a id="B2:229" class="idref" href="#B2:229"><span class="id" title="binder">B2</span></a> : <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="RA:230" class="idref" href="#RA:230"><span class="id" title="binder">RA</span></a> : <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#relationH"><span class="id" title="definition">relationH</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A1:226"><span class="id" title="variable">A1</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A2:227"><span class="id" title="variable">A2</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="RB:231" class="idref" href="#RB:231"><span class="id" title="binder">RB</span></a> : <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#relationH"><span class="id" title="definition">relationH</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#B1:228"><span class="id" title="variable">B1</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#B2:229"><span class="id" title="variable">B2</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="ma1:232" class="idref" href="#ma1:232"><span class="id" title="binder">ma1</span></a> <a id="ma2:233" class="idref" href="#ma2:233"><span class="id" title="binder">ma2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="k1:234" class="idref" href="#k1:234"><span class="id" title="binder">k1</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#A1:226"><span class="id" title="variable">A1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#Image.m"><span class="id" title="variable">m</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#B1:228"><span class="id" title="variable">B1</span></a>) (<a id="k2:235" class="idref" href="#k2:235"><span class="id" title="binder">k2</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#A2:227"><span class="id" title="variable">A2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#Image.m"><span class="id" title="variable">m</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#B2:229"><span class="id" title="variable">B2</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.EqmR.EqmRMonad.html#ma1:232"><span class="id" title="variable">ma1</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">≈{</span></a><a class="idref" href="ITree.EqmR.EqmRMonad.html#RA:230"><span class="id" title="variable">RA</span></a><a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">}</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#ma2:233"><span class="id" title="variable">ma2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">forall</span> (<a id="a1:236" class="idref" href="#a1:236"><span class="id" title="binder">a1</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#A1:226"><span class="id" title="variable">A1</span></a>), <a class="idref" href="ITree.EqmR.EqmRMonad.html#a1:236"><span class="id" title="variable">a1</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#1fc651b0673194124e9a051ab27f0089"><span class="id" title="notation">∈</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#ma1:232"><span class="id" title="variable">ma1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="a2:237" class="idref" href="#a2:237"><span class="id" title="binder">a2</span></a>, <a class="idref" href="ITree.EqmR.EqmRMonad.html#RA:230"><span class="id" title="variable">RA</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#a1:236"><span class="id" title="variable">a1</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#a2:237"><span class="id" title="variable">a2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#k1:234"><span class="id" title="variable">k1</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#a1:236"><span class="id" title="variable">a1</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">≈{</span></a><a class="idref" href="ITree.EqmR.EqmRMonad.html#RB:231"><span class="id" title="variable">RB</span></a><a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">}</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#k2:235"><span class="id" title="variable">k2</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#a2:237"><span class="id" title="variable">a2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">forall</span> (<a id="a2:238" class="idref" href="#a2:238"><span class="id" title="binder">a2</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#A2:227"><span class="id" title="variable">A2</span></a>), <a class="idref" href="ITree.EqmR.EqmRMonad.html#a2:238"><span class="id" title="variable">a2</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#1fc651b0673194124e9a051ab27f0089"><span class="id" title="notation">∈</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#ma2:233"><span class="id" title="variable">ma2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="a1:239" class="idref" href="#a1:239"><span class="id" title="binder">a1</span></a>, <a class="idref" href="ITree.EqmR.EqmRMonad.html#RA:230"><span class="id" title="variable">RA</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#a1:239"><span class="id" title="variable">a1</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#a2:238"><span class="id" title="variable">a2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#k1:234"><span class="id" title="variable">k1</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#a1:239"><span class="id" title="variable">a1</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">≈{</span></a><a class="idref" href="ITree.EqmR.EqmRMonad.html#RB:231"><span class="id" title="variable">RB</span></a><a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">}</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#k2:235"><span class="id" title="variable">k2</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#a2:238"><span class="id" title="variable">a2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="method">bind</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#ma1:232"><span class="id" title="variable">ma1</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#k1:234"><span class="id" title="variable">k1</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">≈{</span></a><a class="idref" href="ITree.EqmR.EqmRMonad.html#RB:231"><span class="id" title="variable">RB</span></a><a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">}</span></a> <span class="id" title="method">bind</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#ma2:233"><span class="id" title="variable">ma2</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#k2:235"><span class="id" title="variable">k2</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="eqmR_bind_ProperH_hetero" class="idref" href="#eqmR_bind_ProperH_hetero"><span class="id" title="definition">eqmR_bind_ProperH_hetero</span></a> := <span class="id" title="keyword">forall</span> (<a id="A1:240" class="idref" href="#A1:240"><span class="id" title="binder">A1</span></a> <a id="A2:241" class="idref" href="#A2:241"><span class="id" title="binder">A2</span></a> <a id="B1:242" class="idref" href="#B1:242"><span class="id" title="binder">B1</span></a> <a id="B2:243" class="idref" href="#B2:243"><span class="id" title="binder">B2</span></a> : <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="RA:244" class="idref" href="#RA:244"><span class="id" title="binder">RA</span></a> : <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#relationH"><span class="id" title="definition">relationH</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A1:240"><span class="id" title="variable">A1</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A2:241"><span class="id" title="variable">A2</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="RB:245" class="idref" href="#RB:245"><span class="id" title="binder">RB</span></a> : <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#relationH"><span class="id" title="definition">relationH</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#B1:242"><span class="id" title="variable">B1</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#B2:243"><span class="id" title="variable">B2</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="ma1:246" class="idref" href="#ma1:246"><span class="id" title="binder">ma1</span></a> <a id="ma2:247" class="idref" href="#ma2:247"><span class="id" title="binder">ma2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="k1:248" class="idref" href="#k1:248"><span class="id" title="binder">k1</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#A1:240"><span class="id" title="variable">A1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#Image.m"><span class="id" title="variable">m</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#B1:242"><span class="id" title="variable">B1</span></a>) (<a id="k2:249" class="idref" href="#k2:249"><span class="id" title="binder">k2</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#A2:241"><span class="id" title="variable">A2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#Image.m"><span class="id" title="variable">m</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#B2:243"><span class="id" title="variable">B2</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.EqmR.EqmRMonad.html#ma1:246"><span class="id" title="variable">ma1</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">≈{</span></a><a class="idref" href="ITree.EqmR.EqmRMonad.html#RA:244"><span class="id" title="variable">RA</span></a><a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">}</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#ma2:247"><span class="id" title="variable">ma2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">forall</span> (<a id="a1:250" class="idref" href="#a1:250"><span class="id" title="binder">a1</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#A1:240"><span class="id" title="variable">A1</span></a>), <a class="idref" href="ITree.EqmR.EqmRMonad.html#a1:250"><span class="id" title="variable">a1</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#320057b4fb040f2af97f69cd35e56255"><span class="id" title="notation">∈̂</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#ma1:246"><span class="id" title="variable">ma1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="a2:251" class="idref" href="#a2:251"><span class="id" title="binder">a2</span></a>, <a class="idref" href="ITree.EqmR.EqmRMonad.html#RA:244"><span class="id" title="variable">RA</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#a1:250"><span class="id" title="variable">a1</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#a2:251"><span class="id" title="variable">a2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#k1:248"><span class="id" title="variable">k1</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#a1:250"><span class="id" title="variable">a1</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">≈{</span></a><a class="idref" href="ITree.EqmR.EqmRMonad.html#RB:245"><span class="id" title="variable">RB</span></a><a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">}</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#k2:249"><span class="id" title="variable">k2</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#a2:251"><span class="id" title="variable">a2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">forall</span> (<a id="a2:252" class="idref" href="#a2:252"><span class="id" title="binder">a2</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#A2:241"><span class="id" title="variable">A2</span></a>), <a class="idref" href="ITree.EqmR.EqmRMonad.html#a2:252"><span class="id" title="variable">a2</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#320057b4fb040f2af97f69cd35e56255"><span class="id" title="notation">∈̂</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#ma2:247"><span class="id" title="variable">ma2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="a1:253" class="idref" href="#a1:253"><span class="id" title="binder">a1</span></a>, <a class="idref" href="ITree.EqmR.EqmRMonad.html#RA:244"><span class="id" title="variable">RA</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#a1:253"><span class="id" title="variable">a1</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#a2:252"><span class="id" title="variable">a2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#k1:248"><span class="id" title="variable">k1</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#a1:253"><span class="id" title="variable">a1</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">≈{</span></a><a class="idref" href="ITree.EqmR.EqmRMonad.html#RB:245"><span class="id" title="variable">RB</span></a><a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">}</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#k2:249"><span class="id" title="variable">k2</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#a2:252"><span class="id" title="variable">a2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="method">bind</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#ma1:246"><span class="id" title="variable">ma1</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#k1:248"><span class="id" title="variable">k1</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">≈{</span></a><a class="idref" href="ITree.EqmR.EqmRMonad.html#RB:245"><span class="id" title="variable">RB</span></a><a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">}</span></a> <span class="id" title="method">bind</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#ma2:247"><span class="id" title="variable">ma2</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#k2:249"><span class="id" title="variable">k2</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="transpose_eq" class="idref" href="#transpose_eq"><span class="id" title="lemma">transpose_eq</span></a> {<a id="A:254" class="idref" href="#A:254"><span class="id" title="binder">A</span></a>} (<a id="R:255" class="idref" href="#R:255"><span class="id" title="binder">R</span></a> : <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#relationH"><span class="id" title="definition">relationH</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A:254"><span class="id" title="variable">A</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A:254"><span class="id" title="variable">A</span></a>) (<a id="x:256" class="idref" href="#x:256"><span class="id" title="binder">x</span></a>:<a class="idref" href="ITree.EqmR.EqmRMonad.html#A:254"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.EqmR.EqmRMonad.html#R:255"><span class="id" title="variable">R</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#x:256"><span class="id" title="variable">x</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#x:256"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> (<a class="idref" href="ITree.Basics.HeterogeneousRelations.html#transpose"><span class="id" title="definition">transpose</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#R:255"><span class="id" title="variable">R</span></a>) <a class="idref" href="ITree.EqmR.EqmRMonad.html#x:256"><span class="id" title="variable">x</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#x:256"><span class="id" title="variable">x</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="image_PER" class="idref" href="#image_PER"><span class="id" title="instance">image_PER</span></a> {<a id="A:257" class="idref" href="#A:257"><span class="id" title="binder">A</span></a>} (<a id="ma:258" class="idref" href="#ma:258"><span class="id" title="binder">ma</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#Image.m"><span class="id" title="variable">m</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A:257"><span class="id" title="variable">A</span></a>) : <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#PER"><span class="id" title="class">PER</span></a> (<a class="idref" href="ITree.EqmR.EqmRMonad.html#image"><span class="id" title="definition">image</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#ma:258"><span class="id" title="variable">ma</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">red</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#per_symm"><span class="id" title="method">per_symm</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">red</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#image"><span class="id" title="definition">image</span></a> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H</span> <span class="id" title="var">R</span> <span class="id" title="var">_</span> <span class="id" title="var">EQR</span>). <span class="id" title="tactic">specialize</span> (<span class="id" title="var">H0</span> <span class="id" title="var">R</span> <span class="id" title="var">_</span> <span class="id" title="var">EQR</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="ITree.Basics.HeterogeneousRelations.html#per_trans"><span class="id" title="method">per_trans</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="imageH_PER" class="idref" href="#imageH_PER"><span class="id" title="instance">imageH_PER</span></a> {<a id="A1:259" class="idref" href="#A1:259"><span class="id" title="binder">A1</span></a> <a id="A2:260" class="idref" href="#A2:260"><span class="id" title="binder">A2</span></a>} (<a id="m1:261" class="idref" href="#m1:261"><span class="id" title="binder">m1</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#Image.m"><span class="id" title="variable">m</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A1:259"><span class="id" title="variable">A1</span></a>) (<a id="m2:262" class="idref" href="#m2:262"><span class="id" title="binder">m2</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#Image.m"><span class="id" title="variable">m</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A2:260"><span class="id" title="variable">A2</span></a>) : <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#PER"><span class="id" title="class">PER</span></a> (<a class="idref" href="ITree.EqmR.EqmRMonad.html#imageH"><span class="id" title="definition">imageH</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#m1:261"><span class="id" title="variable">m1</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#m2:262"><span class="id" title="variable">m2</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span>, <span class="id" title="var">y</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H</span> <span class="id" title="var">RA</span> <span class="id" title="var">EQA</span> <span class="id" title="var">H0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span>, <span class="id" title="var">y</span>, <span class="id" title="var">z</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>, <span class="id" title="var">H0</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H</span> <span class="id" title="var">RA</span> <span class="id" title="var">EQA</span> <span class="id" title="var">H1</span>). <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H0</span> <span class="id" title="var">RA</span> <span class="id" title="var">EQA</span> <span class="id" title="var">H1</span>). <span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="imageH_refl" class="idref" href="#imageH_refl"><span class="id" title="definition">imageH_refl</span></a> {<a id="A:263" class="idref" href="#A:263"><span class="id" title="binder">A</span></a>} <a id="ma:264" class="idref" href="#ma:264"><span class="id" title="binder">ma</span></a> <a id="x:265" class="idref" href="#x:265"><span class="id" title="binder">x</span></a> <a id="y:266" class="idref" href="#y:266"><span class="id" title="binder">y</span></a> := @<a class="idref" href="ITree.EqmR.EqmRMonad.html#imageH"><span class="id" title="definition">imageH</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A:263"><span class="id" title="variable">A</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A:263"><span class="id" title="variable">A</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#ma:264"><span class="id" title="variable">ma</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#ma:264"><span class="id" title="variable">ma</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="ITree.EqmR.EqmRMonad.html#x:265"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#y:266"><span class="id" title="variable">y</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="ITree.EqmR.EqmRMonad.html#x:265"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#y:266"><span class="id" title="variable">y</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="imageH_refl_subrel_image" class="idref" href="#imageH_refl_subrel_image"><span class="id" title="lemma">imageH_refl_subrel_image</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="A:267" class="idref" href="#A:267"><span class="id" title="binder">A</span></a> (<a id="ma:268" class="idref" href="#ma:268"><span class="id" title="binder">ma</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#Image.m"><span class="id" title="variable">m</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A:267"><span class="id" title="variable">A</span></a>) <a id="x:269" class="idref" href="#x:269"><span class="id" title="binder">x</span></a> <a id="y:270" class="idref" href="#y:270"><span class="id" title="binder">y</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="ITree.EqmR.EqmRMonad.html#imageH_refl"><span class="id" title="definition">imageH_refl</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A:267"><span class="id" title="variable">A</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#ma:268"><span class="id" title="variable">ma</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#x:269"><span class="id" title="variable">x</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#y:270"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#image"><span class="id" title="definition">image</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#ma:268"><span class="id" title="variable">ma</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#x:269"><span class="id" title="variable">x</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#y:270"><span class="id" title="variable">y</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#image"><span class="id" title="definition">image</span></a>, <a class="idref" href="ITree.EqmR.EqmRMonad.html#imageH_diag"><span class="id" title="definition">imageH_diag</span></a>. <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>. <span class="id" title="var">edestruct</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#PER_is_ZZC"><span class="id" title="lemma">PER_is_ZZC</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="imageHZ_ZZC" class="idref" href="#imageHZ_ZZC"><span class="id" title="instance">imageHZ_ZZC</span></a> {<a id="A1:271" class="idref" href="#A1:271"><span class="id" title="binder">A1</span></a> <a id="A2:272" class="idref" href="#A2:272"><span class="id" title="binder">A2</span></a>} (<a id="m1:273" class="idref" href="#m1:273"><span class="id" title="binder">m1</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#Image.m"><span class="id" title="variable">m</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A1:271"><span class="id" title="variable">A1</span></a>) (<a id="m2:274" class="idref" href="#m2:274"><span class="id" title="binder">m2</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#Image.m"><span class="id" title="variable">m</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A2:272"><span class="id" title="variable">A2</span></a>) : <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#Zigzag"><span class="id" title="class">Zigzag</span></a> (<a class="idref" href="ITree.EqmR.EqmRMonad.html#imageH_Z"><span class="id" title="definition">imageH_Z</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#m1:273"><span class="id" title="variable">m1</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#m2:274"><span class="id" title="variable">m2</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> (? &amp; ? &amp; ?).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> (? &amp; ? &amp; ?).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">esplit</span>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">esplit</span>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#imageH_Z"><span class="id" title="definition">imageH_Z</span></a> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">eapply</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">H2</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="image_Reflexive_l" class="idref" href="#image_Reflexive_l"><span class="id" title="lemma">image_Reflexive_l</span></a> {<a id="A:275" class="idref" href="#A:275"><span class="id" title="binder">A</span></a>:<span class="id" title="keyword">Type</span>} (<a id="ma:276" class="idref" href="#ma:276"><span class="id" title="binder">ma</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#Image.m"><span class="id" title="variable">m</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A:275"><span class="id" title="variable">A</span></a>) (<a id="a1:277" class="idref" href="#a1:277"><span class="id" title="binder">a1</span></a> <a id="a2:278" class="idref" href="#a2:278"><span class="id" title="binder">a2</span></a>:<a class="idref" href="ITree.EqmR.EqmRMonad.html#A:275"><span class="id" title="variable">A</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="H:279" class="idref" href="#H:279"><span class="id" title="binder">H</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#image"><span class="id" title="definition">image</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#ma:276"><span class="id" title="variable">ma</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#a1:277"><span class="id" title="variable">a1</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#a2:278"><span class="id" title="variable">a2</span></a>) : <a class="idref" href="ITree.EqmR.EqmRMonad.html#image"><span class="id" title="definition">image</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#ma:276"><span class="id" title="variable">ma</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#a1:277"><span class="id" title="variable">a1</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#a1:277"><span class="id" title="variable">a1</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="ITree.EqmR.EqmRMonad.html#image"><span class="id" title="definition">image</span></a> <span class="id" title="var">ma</span> <span class="id" title="var">a2</span> <span class="id" title="var">a1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#per_symm"><span class="id" title="method">per_symm</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#per_trans"><span class="id" title="method">per_trans</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="image_Reflexive_r" class="idref" href="#image_Reflexive_r"><span class="id" title="lemma">image_Reflexive_r</span></a> {<a id="A:280" class="idref" href="#A:280"><span class="id" title="binder">A</span></a>:<span class="id" title="keyword">Type</span>} (<a id="ma:281" class="idref" href="#ma:281"><span class="id" title="binder">ma</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#Image.m"><span class="id" title="variable">m</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A:280"><span class="id" title="variable">A</span></a>) (<a id="a1:282" class="idref" href="#a1:282"><span class="id" title="binder">a1</span></a> <a id="a2:283" class="idref" href="#a2:283"><span class="id" title="binder">a2</span></a>:<a class="idref" href="ITree.EqmR.EqmRMonad.html#A:280"><span class="id" title="variable">A</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="H:284" class="idref" href="#H:284"><span class="id" title="binder">H</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#image"><span class="id" title="definition">image</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#ma:281"><span class="id" title="variable">ma</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#a1:282"><span class="id" title="variable">a1</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#a2:283"><span class="id" title="variable">a2</span></a>) : <a class="idref" href="ITree.EqmR.EqmRMonad.html#image"><span class="id" title="definition">image</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#ma:281"><span class="id" title="variable">ma</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#a2:283"><span class="id" title="variable">a2</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#a2:283"><span class="id" title="variable">a2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="ITree.EqmR.EqmRMonad.html#image"><span class="id" title="definition">image</span></a> <span class="id" title="var">ma</span> <span class="id" title="var">a2</span> <span class="id" title="var">a1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#per_symm"><span class="id" title="method">per_symm</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#per_trans"><span class="id" title="method">per_trans</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H0</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="image_least" class="idref" href="#image_least"><span class="id" title="lemma">image_least</span></a> {<a id="A:285" class="idref" href="#A:285"><span class="id" title="binder">A</span></a>} (<a id="ma:286" class="idref" href="#ma:286"><span class="id" title="binder">ma</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#Image.m"><span class="id" title="variable">m</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A:285"><span class="id" title="variable">A</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="R:287" class="idref" href="#R:287"><span class="id" title="binder">R</span></a> : <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#relationH"><span class="id" title="definition">relationH</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A:285"><span class="id" title="variable">A</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A:285"><span class="id" title="variable">A</span></a>) (<a id="PH:288" class="idref" href="#PH:288"><span class="id" title="binder">PH</span></a> : <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#PER"><span class="id" title="class">PER</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#R:287"><span class="id" title="variable">R</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="G:289" class="idref" href="#G:289"><span class="id" title="binder">G</span></a>: <a class="idref" href="ITree.EqmR.EqmRMonad.html#eqmR"><span class="id" title="method">eqmR</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#R:287"><span class="id" title="variable">R</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#ma:286"><span class="id" title="variable">ma</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#ma:286"><span class="id" title="variable">ma</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#c6c2f6d79c8e0e40e751a34bde6a2835"><span class="id" title="notation">(</span></a><a class="idref" href="ITree.EqmR.EqmRMonad.html#image"><span class="id" title="definition">image</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#ma:286"><span class="id" title="variable">ma</span></a><a class="idref" href="ITree.Basics.HeterogeneousRelations.html#c6c2f6d79c8e0e40e751a34bde6a2835"><span class="id" title="notation">)</span></a> <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#c6c2f6d79c8e0e40e751a34bde6a2835"><span class="id" title="notation">⊑</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#R:287"><span class="id" title="variable">R</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">D</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#image"><span class="id" title="definition">image</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">D</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">D</span>; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="Proper_image" class="idref" href="#Proper_image"><span class="id" title="instance">Proper_image</span></a> {<a id="A:290" class="idref" href="#A:290"><span class="id" title="binder">A</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (@<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> (<a class="idref" href="ITree.EqmR.EqmRMonad.html#Image.m"><span class="id" title="variable">m</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A:290"><span class="id" title="variable">A</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#eq_rel"><span class="id" title="definition">eq_rel</span></a>) <a class="idref" href="ITree.EqmR.EqmRMonad.html#image"><span class="id" title="definition">image</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">red</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">EQR</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">red</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">red</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">EQR</span> <span class="id" title="tactic">in</span> <span class="id" title="var">EQR0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H</span> <span class="id" title="var">R</span> <span class="id" title="var">PH</span> <span class="id" title="var">EQR0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">red</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">red</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span>  <span class="id" title="var">EQR</span> <span class="id" title="tactic">in</span> <span class="id" title="var">EQR0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H</span> <span class="id" title="var">R</span> <span class="id" title="var">PH</span> <span class="id" title="var">EQR0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="Proper_image2" class="idref" href="#Proper_image2"><span class="id" title="instance">Proper_image2</span></a> {<a id="A:291" class="idref" href="#A:291"><span class="id" title="binder">A</span></a>}  :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (@<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> (<a class="idref" href="ITree.EqmR.EqmRMonad.html#Image.m"><span class="id" title="variable">m</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A:291"><span class="id" title="variable">A</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> @<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A:291"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> @<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A:291"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#iff"><span class="id" title="definition">iff</span></a>) (<span class="id" title="keyword">fun</span> <a id="ma:292" class="idref" href="#ma:292"><span class="id" title="binder">ma</span></a> =&gt; (<a class="idref" href="ITree.EqmR.EqmRMonad.html#image"><span class="id" title="definition">image</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#ma:292"><span class="id" title="variable">ma</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 3 <span class="id" title="tactic">red</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *;  <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">EQR</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">EQR</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="Proper_image3" class="idref" href="#Proper_image3"><span class="id" title="instance">Proper_image3</span></a> {<a id="A:293" class="idref" href="#A:293"><span class="id" title="binder">A</span></a>}  :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (@<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> (<a class="idref" href="ITree.EqmR.EqmRMonad.html#Image.m"><span class="id" title="variable">m</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A:293"><span class="id" title="variable">A</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">(</span></a>@<a class="idref" href="ITree.Basics.CategoryOps.html#eq2"><span class="id" title="definition">eq2</span></a> <span class="id" title="keyword">Type</span> <a class="idref" href="ITree.Basics.Function.html#Fun"><span class="id" title="definition">Fun</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">)</span></a>) <a class="idref" href="ITree.EqmR.EqmRMonad.html#image"><span class="id" title="definition">image</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 3 <span class="id" title="tactic">red</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="Proper_mayRet" class="idref" href="#Proper_mayRet"><span class="id" title="instance">Proper_mayRet</span></a> {<a id="A:294" class="idref" href="#A:294"><span class="id" title="binder">A</span></a>:<span class="id" title="keyword">Type</span>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (@<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> (<a class="idref" href="ITree.EqmR.EqmRMonad.html#Image.m"><span class="id" title="variable">m</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A:294"><span class="id" title="variable">A</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">(</span></a>@<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A:294"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#iff"><span class="id" title="definition">iff</span></a>) (<span class="id" title="keyword">fun</span> <a id="ma:295" class="idref" href="#ma:295"><span class="id" title="binder">ma</span></a> =&gt; (<a class="idref" href="ITree.EqmR.EqmRMonad.html#mayRet"><span class="id" title="definition">mayRet</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#ma:295"><span class="id" title="variable">ma</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 3 <span class="id" title="tactic">red</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">H</span> <span class="id" title="var">x0</span> <span class="id" title="var">y0</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H0</span>. <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="Proper_mayRet2" class="idref" href="#Proper_mayRet2"><span class="id" title="instance">Proper_mayRet2</span></a> {<a id="A:296" class="idref" href="#A:296"><span class="id" title="binder">A</span></a>}  :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (@<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> (<a class="idref" href="ITree.EqmR.EqmRMonad.html#Image.m"><span class="id" title="variable">m</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A:296"><span class="id" title="variable">A</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">(</span></a>@<a class="idref" href="ITree.Basics.CategoryOps.html#eq2"><span class="id" title="definition">eq2</span></a> <span class="id" title="keyword">Type</span> <a class="idref" href="ITree.Basics.Function.html#Fun"><span class="id" title="definition">Fun</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">)</span></a>) <a class="idref" href="ITree.EqmR.EqmRMonad.html#mayRet"><span class="id" title="definition">mayRet</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>. <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="imageH_subrel_image_diag" class="idref" href="#imageH_subrel_image_diag"><span class="id" title="lemma">imageH_subrel_image_diag</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="A:297" class="idref" href="#A:297"><span class="id" title="binder">A</span></a> (<a id="ma:298" class="idref" href="#ma:298"><span class="id" title="binder">ma</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#Image.m"><span class="id" title="variable">m</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A:297"><span class="id" title="variable">A</span></a>), <a class="idref" href="ITree.EqmR.EqmRMonad.html#imageH_diag"><span class="id" title="definition">imageH_diag</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#ma:298"><span class="id" title="variable">ma</span></a> <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#c6c2f6d79c8e0e40e751a34bde6a2835"><span class="id" title="notation">⊑</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#image"><span class="id" title="definition">image</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#ma:298"><span class="id" title="variable">ma</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#image"><span class="id" title="definition">image</span></a>, <a class="idref" href="ITree.EqmR.EqmRMonad.html#imageH_diag"><span class="id" title="definition">imageH_diag</span></a>. <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span>. <span class="id" title="tactic">intros</span> * <span class="id" title="var">EQ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>. <span class="id" title="var">edestruct</span> <span class="id" title="var">EQ</span>. <span class="id" title="var">edestruct</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#PER_is_ZZC"><span class="id" title="lemma">PER_is_ZZC</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="imageH_diag_PER" class="idref" href="#imageH_diag_PER"><span class="id" title="lemma">imageH_diag_PER</span></a> {<a id="A:299" class="idref" href="#A:299"><span class="id" title="binder">A</span></a>} (<a id="ma:300" class="idref" href="#ma:300"><span class="id" title="binder">ma</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#Image.m"><span class="id" title="variable">m</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A:299"><span class="id" title="variable">A</span></a>) : (<a class="idref" href="ITree.Basics.HeterogeneousRelations.html#PER"><span class="id" title="class">PER</span></a> (<a class="idref" href="ITree.EqmR.EqmRMonad.html#imageH_diag"><span class="id" title="definition">imageH_diag</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#ma:300"><span class="id" title="variable">ma</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#imageH_diag"><span class="id" title="definition">imageH_diag</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">H</span> <span class="id" title="var">_</span> <span class="id" title="var">EQA</span> <span class="id" title="var">H1</span>). <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H0</span> <span class="id" title="var">_</span> <span class="id" title="var">EQA</span> <span class="id" title="var">H1</span>). <span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#imageH_diag"><span class="id" title="definition">imageH_diag</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>, <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>, <span class="id" title="var">H0</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>, <span class="id" title="var">H1</span>, <span class="id" title="var">H0</span>, <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H</span> <span class="id" title="var">_</span> <span class="id" title="var">EQA</span> <span class="id" title="var">H3</span>). <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H0</span> <span class="id" title="var">_</span> <span class="id" title="var">EQA</span> <span class="id" title="var">H3</span>). <span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H1</span> <span class="id" title="var">_</span> <span class="id" title="var">EQA</span> <span class="id" title="var">H3</span>). <span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H2</span> <span class="id" title="var">_</span> <span class="id" title="var">EQA</span> <span class="id" title="var">H3</span>). <span class="id" title="tactic">destruct</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eapply</span> <span class="id" title="var">H3</span>. <span class="id" title="var">esplit</span>; <span class="id" title="tactic">split</span>. <span class="id" title="var">esplit</span>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H6</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">esplit</span>; <span class="id" title="tactic">split</span>. <span class="id" title="var">esplit</span>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H5</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H</span> <span class="id" title="var">_</span> <span class="id" title="var">EQA</span> <span class="id" title="var">H3</span>). <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H0</span> <span class="id" title="var">_</span> <span class="id" title="var">EQA</span> <span class="id" title="var">H3</span>). <span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H1</span> <span class="id" title="var">_</span> <span class="id" title="var">EQA</span> <span class="id" title="var">H3</span>). <span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H2</span> <span class="id" title="var">_</span> <span class="id" title="var">EQA</span> <span class="id" title="var">H3</span>). <span class="id" title="tactic">destruct</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eapply</span> <span class="id" title="var">H3</span>. <span class="id" title="var">esplit</span>; <span class="id" title="tactic">split</span>. <span class="id" title="var">esplit</span>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H6</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">esplit</span>; <span class="id" title="tactic">split</span>. <span class="id" title="var">esplit</span>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H5</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="image_subrel_imageH_diag" class="idref" href="#image_subrel_imageH_diag"><span class="id" title="lemma">image_subrel_imageH_diag</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="A:301" class="idref" href="#A:301"><span class="id" title="binder">A</span></a> (<a id="ma:302" class="idref" href="#ma:302"><span class="id" title="binder">ma</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#Image.m"><span class="id" title="variable">m</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A:301"><span class="id" title="variable">A</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.EqmR.EqmRMonad.html#ma:302"><span class="id" title="variable">ma</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">≈{</span></a><a class="idref" href="ITree.EqmR.EqmRMonad.html#imageH_diag"><span class="id" title="definition">imageH_diag</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#ma:302"><span class="id" title="variable">ma</span></a><a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">}</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#ma:302"><span class="id" title="variable">ma</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.EqmR.EqmRMonad.html#image"><span class="id" title="definition">image</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#ma:302"><span class="id" title="variable">ma</span></a> <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#c6c2f6d79c8e0e40e751a34bde6a2835"><span class="id" title="notation">⊑</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#imageH_diag"><span class="id" title="definition">imageH_diag</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#ma:302"><span class="id" title="variable">ma</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#image"><span class="id" title="definition">image</span></a>, <a class="idref" href="ITree.EqmR.EqmRMonad.html#imageH_diag"><span class="id" title="definition">imageH_diag</span></a>. <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> @<a class="idref" href="ITree.EqmR.EqmRMonad.html#imageH_diag_PER"><span class="id" title="lemma">imageH_diag_PER</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H1</span> <span class="id" title="var">A</span> <span class="id" title="var">ma</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H0</span> <span class="id" title="var">_</span> <span class="id" title="var">H1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="imageH_image_eq" class="idref" href="#imageH_image_eq"><span class="id" title="lemma">imageH_image_eq</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="A:303" class="idref" href="#A:303"><span class="id" title="binder">A</span></a> (<a id="ma:304" class="idref" href="#ma:304"><span class="id" title="binder">ma</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#Image.m"><span class="id" title="variable">m</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A:303"><span class="id" title="variable">A</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.EqmR.EqmRMonad.html#ma:304"><span class="id" title="variable">ma</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">≈{</span></a><a class="idref" href="ITree.EqmR.EqmRMonad.html#imageH_diag"><span class="id" title="definition">imageH_diag</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#ma:304"><span class="id" title="variable">ma</span></a><a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">}</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#ma:304"><span class="id" title="variable">ma</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.Basics.HeterogeneousRelations.html#eq_rel"><span class="id" title="definition">eq_rel</span></a> (<a class="idref" href="ITree.EqmR.EqmRMonad.html#image"><span class="id" title="definition">image</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#ma:304"><span class="id" title="variable">ma</span></a>) (<a class="idref" href="ITree.EqmR.EqmRMonad.html#imageH_diag"><span class="id" title="definition">imageH_diag</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#ma:304"><span class="id" title="variable">ma</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#image_subrel_imageH_diag"><span class="id" title="lemma">image_subrel_imageH_diag</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#imageH_subrel_image_diag"><span class="id" title="lemma">imageH_subrel_image_diag</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="image_subset" class="idref" href="#image_subset"><span class="id" title="lemma">image_subset</span></a> {<a id="A:305" class="idref" href="#A:305"><span class="id" title="binder">A</span></a>:<span class="id" title="keyword">Type</span>} (<a id="ma:306" class="idref" href="#ma:306"><span class="id" title="binder">ma</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#Image.m"><span class="id" title="variable">m</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A:305"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.EqmR.EqmRMonad.html#eqmR"><span class="id" title="method">eqmR</span></a> (<a class="idref" href="ITree.EqmR.EqmRMonad.html#image"><span class="id" title="definition">image</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#ma:306"><span class="id" title="variable">ma</span></a>) <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#c6c2f6d79c8e0e40e751a34bde6a2835"><span class="id" title="notation">⊑</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#eqmR"><span class="id" title="method">eqmR</span></a> (@<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A:305"><span class="id" title="variable">A</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">D</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#Proper_eqmR_mono"><span class="id" title="method">Proper_eqmR_mono</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#image_least"><span class="id" title="lemma">image_least</span></a>. <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="image_inv" class="idref" href="#image_inv"><span class="id" title="lemma">image_inv</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> {<a id="A:307" class="idref" href="#A:307"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>} (<a id="ma:308" class="idref" href="#ma:308"><span class="id" title="binder">ma</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#Image.m"><span class="id" title="variable">m</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A:307"><span class="id" title="variable">A</span></a>) (<a id="a1:309" class="idref" href="#a1:309"><span class="id" title="binder">a1</span></a> <a id="a2:310" class="idref" href="#a2:310"><span class="id" title="binder">a2</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#A:307"><span class="id" title="variable">A</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.EqmR.EqmRMonad.html#image"><span class="id" title="definition">image</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#ma:308"><span class="id" title="variable">ma</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#a1:309"><span class="id" title="variable">a1</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#a2:310"><span class="id" title="variable">a2</span></a>  <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<a id="R:311" class="idref" href="#R:311"><span class="id" title="binder">R</span></a> : <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#relationH"><span class="id" title="definition">relationH</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A:307"><span class="id" title="variable">A</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A:307"><span class="id" title="variable">A</span></a>) (<a id="H:312" class="idref" href="#H:312"><span class="id" title="binder">H</span></a> : <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#PER"><span class="id" title="class">PER</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#R:311"><span class="id" title="variable">R</span></a>), <a class="idref" href="ITree.EqmR.EqmRMonad.html#ma:308"><span class="id" title="variable">ma</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">≈{</span></a><a class="idref" href="ITree.EqmR.EqmRMonad.html#R:311"><span class="id" title="variable">R</span></a><a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">}</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#ma:308"><span class="id" title="variable">ma</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#R:311"><span class="id" title="variable">R</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#a1:309"><span class="id" title="variable">a1</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#a2:310"><span class="id" title="variable">a2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#image"><span class="id" title="definition">image</span></a> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="Proper_image_eqmR" class="idref" href="#Proper_image_eqmR"><span class="id" title="instance">Proper_image_eqmR</span></a> {<a id="A:313" class="idref" href="#A:313"><span class="id" title="binder">A</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="ITree.EqmR.EqmRMonad.html#eqmR"><span class="id" title="method">eqmR</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> @<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A:313"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> @<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A:313"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#iff"><span class="id" title="definition">iff</span></a>) <a class="idref" href="ITree.EqmR.EqmRMonad.html#image"><span class="id" title="definition">image</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">EQ</span> <span class="id" title="var">a1</span> <span class="id" title="var">a2</span> <span class="id" title="var">EQ'</span> <span class="id" title="var">a3</span> <span class="id" title="var">a4</span> <span class="id" title="var">EQ''</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">red</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#image_"><span class="id" title="definition">image_</span></a>. <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">EQ</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">red</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#image_"><span class="id" title="definition">image_</span></a>. <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">EQ</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="Proper_mayRet_eqmR" class="idref" href="#Proper_mayRet_eqmR"><span class="id" title="instance">Proper_mayRet_eqmR</span></a> {<a id="A:314" class="idref" href="#A:314"><span class="id" title="binder">A</span></a>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="ITree.EqmR.EqmRMonad.html#eqmR"><span class="id" title="method">eqmR</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> @<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A:314"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#iff"><span class="id" title="definition">iff</span></a>) <a class="idref" href="ITree.EqmR.EqmRMonad.html#mayRet"><span class="id" title="definition">mayRet</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#Proper_image_eqmR"><span class="id" title="instance">Proper_image_eqmR</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="map_to_domain" class="idref" href="#map_to_domain"><span class="id" title="definition">map_to_domain</span></a> {<a id="A:315" class="idref" href="#A:315"><span class="id" title="binder">A</span></a> <a id="B:316" class="idref" href="#B:316"><span class="id" title="binder">B</span></a>} : <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#relationH"><span class="id" title="definition">relationH</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A:315"><span class="id" title="variable">A</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#B:316"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#relationH"><span class="id" title="definition">relationH</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A:315"><span class="id" title="variable">A</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A:315"><span class="id" title="variable">A</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <a id="R:317" class="idref" href="#R:317"><span class="id" title="binder">R</span></a> <a id="a1:318" class="idref" href="#a1:318"><span class="id" title="binder">a1</span></a> <a id="a2:319" class="idref" href="#a2:319"><span class="id" title="binder">a2</span></a> =&gt; <a class="idref" href="ITree.EqmR.EqmRMonad.html#a1:318"><span class="id" title="variable">a1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#a2:319"><span class="id" title="variable">a2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">(</span></a><a id="b:320" class="idref" href="#b:320"><span class="id" title="binder">b</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#B:316"><span class="id" title="variable">B</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">),</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#R:317"><span class="id" title="variable">R</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#a1:318"><span class="id" title="variable">a1</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#b:320"><span class="id" title="variable">b</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="eqmR_property" class="idref" href="#eqmR_property"><span class="id" title="lemma">eqmR_property</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="A:321" class="idref" href="#A:321"><span class="id" title="binder">A</span></a> <a id="B:322" class="idref" href="#B:322"><span class="id" title="binder">B</span></a> (<a id="R:323" class="idref" href="#R:323"><span class="id" title="binder">R</span></a> : <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#relationH"><span class="id" title="definition">relationH</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A:321"><span class="id" title="variable">A</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#B:322"><span class="id" title="variable">B</span></a>) (<a id="ma:324" class="idref" href="#ma:324"><span class="id" title="binder">ma</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#Image.m"><span class="id" title="variable">m</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A:321"><span class="id" title="variable">A</span></a>) (<a id="mb:325" class="idref" href="#mb:325"><span class="id" title="binder">mb</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#Image.m"><span class="id" title="variable">m</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#B:322"><span class="id" title="variable">B</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.EqmR.EqmRMonad.html#ma:324"><span class="id" title="variable">ma</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">≈{</span></a><a class="idref" href="ITree.EqmR.EqmRMonad.html#R:323"><span class="id" title="variable">R</span></a><a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">}</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#mb:325"><span class="id" title="variable">mb</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.EqmR.EqmRMonad.html#ma:324"><span class="id" title="variable">ma</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">≈{</span></a><a class="idref" href="ITree.EqmR.EqmRMonad.html#map_to_domain"><span class="id" title="definition">map_to_domain</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#R:323"><span class="id" title="variable">R</span></a><a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">}</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#ma:324"><span class="id" title="variable">ma</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">forall</span> <a id="x:326" class="idref" href="#x:326"><span class="id" title="binder">x</span></a> <a id="x':327" class="idref" href="#x':327"><span class="id" title="binder">x'</span></a>, <a class="idref" href="ITree.EqmR.EqmRMonad.html#image"><span class="id" title="definition">image</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#ma:324"><span class="id" title="variable">ma</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#x:326"><span class="id" title="variable">x</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#x':327"><span class="id" title="variable">x'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#map_to_domain"><span class="id" title="definition">map_to_domain</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#R:323"><span class="id" title="variable">R</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#x:326"><span class="id" title="variable">x</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#x':327"><span class="id" title="variable">x'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>* <span class="id" title="var">EQ</span> <span class="id" title="var">MAP</span> <span class="id" title="var">x</span> <span class="id" title="var">x'</span> <span class="id" title="var">IMG</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#map_to_domain"><span class="id" title="definition">map_to_domain</span></a> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IMG</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">red</span>; <span class="id" title="tactic">intuition</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#Proper_eqmR_mono"><span class="id" title="method">Proper_eqmR_mono</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#image_inv"><span class="id" title="lemma">image_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">MAP</span> ; <span class="id" title="var">cycle</span> 1. <span class="id" title="tactic">apply</span> <span class="id" title="var">IMG</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">red</span>; <span class="id" title="tactic">intuition</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;} <span class="id" title="tactic">destruct</span> <span class="id" title="var">MAP</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#Image"><span class="id" title="section">Image</span></a>.<br/>

<br/>
<span class="id" title="keyword">Notation</span> <a id="91e97f679796ae2f33b88d366e97515d" class="idref" href="#91e97f679796ae2f33b88d366e97515d"><span class="id" title="notation">&quot;</span></a>a1 ∈ ma" := (<a class="idref" href="ITree.EqmR.EqmRMonad.html#mayRet"><span class="id" title="definition">mayRet</span></a> <span class="id" title="var">_</span> <span class="id" title="var">ma</span> <span class="id" title="var">a1</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 40) : <span class="id" title="var">cat_scope</span>.<br/>
<span class="id" title="keyword">Arguments</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#image"><span class="id" title="definition">image</span></a> {<span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>}.<br/>
<span class="id" title="keyword">Arguments</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#imageH_diag"><span class="id" title="definition">imageH_diag</span></a> {<span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>}.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="EqmRMonadLaws" class="idref" href="#EqmRMonadLaws"><span class="id" title="section">EqmRMonadLaws</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="m:328" class="idref" href="#m:328"><span class="id" title="binder">m</span></a> : <span class="id" title="keyword">Type</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Type</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="EqMRm:329" class="idref" href="#EqMRm:329"><span class="id" title="binder">EqMRm</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#EqmR"><span class="id" title="class">EqmR</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#EqmRMonadLaws.m"><span class="id" title="variable">m</span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="Mm:330" class="idref" href="#Mm:330"><span class="id" title="binder">Mm</span></a> : <span class="id" title="class">Monad</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#EqmRMonadLaws.m"><span class="id" title="variable">m</span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Class</span> <a id="MayRetL" class="idref" href="#MayRetL"><span class="id" title="record">MayRetL</span></a> : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="mayRet_l" class="idref" href="#mayRet_l"><span class="id" title="projection">mayRet_l</span></a> : <span class="id" title="keyword">forall</span> {<a id="A1:332" class="idref" href="#A1:332"><span class="id" title="binder">A1</span></a> <a id="A2:333" class="idref" href="#A2:333"><span class="id" title="binder">A2</span></a> : <span class="id" title="keyword">Type</span>} (<a id="RA:334" class="idref" href="#RA:334"><span class="id" title="binder">RA</span></a> : <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#relationH"><span class="id" title="definition">relationH</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A1:332"><span class="id" title="variable">A1</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A2:333"><span class="id" title="variable">A2</span></a>) (<a id="ma1:335" class="idref" href="#ma1:335"><span class="id" title="binder">ma1</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#EqmRMonadLaws.m"><span class="id" title="variable">m</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A1:332"><span class="id" title="variable">A1</span></a>) (<a id="ma2:336" class="idref" href="#ma2:336"><span class="id" title="binder">ma2</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#EqmRMonadLaws.m"><span class="id" title="variable">m</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A2:333"><span class="id" title="variable">A2</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="EQH:337" class="idref" href="#EQH:337"><span class="id" title="binder">EQH</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#ma1:335"><span class="id" title="variable">ma1</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">≈{</span></a><a class="idref" href="ITree.EqmR.EqmRMonad.html#RA:334"><span class="id" title="variable">RA</span></a><a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">}</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#ma2:336"><span class="id" title="variable">ma2</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="a1:338" class="idref" href="#a1:338"><span class="id" title="binder">a1</span></a>, <a class="idref" href="ITree.EqmR.EqmRMonad.html#a1:338"><span class="id" title="variable">a1</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#91e97f679796ae2f33b88d366e97515d"><span class="id" title="notation">∈</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#ma1:335"><span class="id" title="variable">ma1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="a2:339" class="idref" href="#a2:339"><span class="id" title="binder">a2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#RA:334"><span class="id" title="variable">RA</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#a1:338"><span class="id" title="variable">a1</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#a2:339"><span class="id" title="variable">a2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#a2:339"><span class="id" title="variable">a2</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#91e97f679796ae2f33b88d366e97515d"><span class="id" title="notation">∈</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#ma2:336"><span class="id" title="variable">ma2</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Class</span> <a id="MayRetR" class="idref" href="#MayRetR"><span class="id" title="record">MayRetR</span></a> : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="mayRet_r" class="idref" href="#mayRet_r"><span class="id" title="projection">mayRet_r</span></a> : <span class="id" title="keyword">forall</span> {<a id="A1:342" class="idref" href="#A1:342"><span class="id" title="binder">A1</span></a> <a id="A2:343" class="idref" href="#A2:343"><span class="id" title="binder">A2</span></a> : <span class="id" title="keyword">Type</span>} (<a id="RA:344" class="idref" href="#RA:344"><span class="id" title="binder">RA</span></a> : <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#relationH"><span class="id" title="definition">relationH</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A1:342"><span class="id" title="variable">A1</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A2:343"><span class="id" title="variable">A2</span></a>) (<a id="ma1:345" class="idref" href="#ma1:345"><span class="id" title="binder">ma1</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#EqmRMonadLaws.m"><span class="id" title="variable">m</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A1:342"><span class="id" title="variable">A1</span></a>) (<a id="ma2:346" class="idref" href="#ma2:346"><span class="id" title="binder">ma2</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#EqmRMonadLaws.m"><span class="id" title="variable">m</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A2:343"><span class="id" title="variable">A2</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="EQH:347" class="idref" href="#EQH:347"><span class="id" title="binder">EQH</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#ma1:345"><span class="id" title="variable">ma1</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">≈{</span></a><a class="idref" href="ITree.EqmR.EqmRMonad.html#RA:344"><span class="id" title="variable">RA</span></a><a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">}</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#ma2:346"><span class="id" title="variable">ma2</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="a2:348" class="idref" href="#a2:348"><span class="id" title="binder">a2</span></a>, <a class="idref" href="ITree.EqmR.EqmRMonad.html#a2:348"><span class="id" title="variable">a2</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#91e97f679796ae2f33b88d366e97515d"><span class="id" title="notation">∈</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#ma2:346"><span class="id" title="variable">ma2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="a1:349" class="idref" href="#a1:349"><span class="id" title="binder">a1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#RA:344"><span class="id" title="variable">RA</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#a1:349"><span class="id" title="variable">a1</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#a2:348"><span class="id" title="variable">a2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#a1:349"><span class="id" title="variable">a1</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#91e97f679796ae2f33b88d366e97515d"><span class="id" title="notation">∈</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#ma1:345"><span class="id" title="variable">ma1</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Class</span> <a id="RetFinal" class="idref" href="#RetFinal"><span class="id" title="record">RetFinal</span></a> : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="final" class="idref" href="#final"><span class="id" title="projection">final</span></a> : <span class="id" title="keyword">forall</span> {<a id="A1:352" class="idref" href="#A1:352"><span class="id" title="binder">A1</span></a> <a id="A2:353" class="idref" href="#A2:353"><span class="id" title="binder">A2</span></a> : <span class="id" title="keyword">Type</span>} (<a id="RA:354" class="idref" href="#RA:354"><span class="id" title="binder">RA</span></a> : <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#relationH"><span class="id" title="definition">relationH</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A1:352"><span class="id" title="variable">A1</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A2:353"><span class="id" title="variable">A2</span></a>) (<a id="a1:355" class="idref" href="#a1:355"><span class="id" title="binder">a1</span></a>:<a class="idref" href="ITree.EqmR.EqmRMonad.html#A1:352"><span class="id" title="variable">A1</span></a>) (<a id="a2:356" class="idref" href="#a2:356"><span class="id" title="binder">a2</span></a>:<a class="idref" href="ITree.EqmR.EqmRMonad.html#A2:353"><span class="id" title="variable">A2</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.EqmR.EqmRMonad.html#RA:354"><span class="id" title="variable">RA</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#a1:355"><span class="id" title="variable">a1</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#a2:356"><span class="id" title="variable">a2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="method">ret</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#a1:355"><span class="id" title="variable">a1</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">≈{</span></a><a class="idref" href="ITree.EqmR.EqmRMonad.html#RA:354"><span class="id" title="variable">RA</span></a><a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">}</span></a> <span class="id" title="method">ret</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#a2:356"><span class="id" title="variable">a2</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Class</span> <a id="ImageEqmR" class="idref" href="#ImageEqmR"><span class="id" title="record">ImageEqmR</span></a> : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="image_eqmR" class="idref" href="#image_eqmR"><span class="id" title="projection">image_eqmR</span></a> : <span class="id" title="keyword">forall</span> <a id="A:359" class="idref" href="#A:359"><span class="id" title="binder">A</span></a> (<a id="ma:360" class="idref" href="#ma:360"><span class="id" title="binder">ma</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#EqmRMonadLaws.m"><span class="id" title="variable">m</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A:359"><span class="id" title="variable">A</span></a>), <a class="idref" href="ITree.EqmR.EqmRMonad.html#ma:360"><span class="id" title="variable">ma</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">≈{</span></a><a class="idref" href="ITree.EqmR.EqmRMonad.html#image"><span class="id" title="definition">image</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#ma:360"><span class="id" title="variable">ma</span></a><a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">}</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#ma:360"><span class="id" title="variable">ma</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Class</span> <a id="ImagePost" class="idref" href="#ImagePost"><span class="id" title="record">ImagePost</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="image_post" class="idref" href="#image_post"><span class="id" title="projection">image_post</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> {<a id="A1:363" class="idref" href="#A1:363"><span class="id" title="binder">A1</span></a> <a id="A2:364" class="idref" href="#A2:364"><span class="id" title="binder">A2</span></a> : <span class="id" title="keyword">Type</span>} (<a id="RR:365" class="idref" href="#RR:365"><span class="id" title="binder">RR</span></a> : <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#relationH"><span class="id" title="definition">relationH</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A1:363"><span class="id" title="variable">A1</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A2:364"><span class="id" title="variable">A2</span></a>) <a id="ma1:366" class="idref" href="#ma1:366"><span class="id" title="binder">ma1</span></a> <a id="ma2:367" class="idref" href="#ma2:367"><span class="id" title="binder">ma2</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.EqmR.EqmRMonad.html#ma1:366"><span class="id" title="variable">ma1</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">≈{</span></a><a class="idref" href="ITree.EqmR.EqmRMonad.html#RR:365"><span class="id" title="variable">RR</span></a><a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">}</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#ma2:367"><span class="id" title="variable">ma2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#ma1:366"><span class="id" title="variable">ma1</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">≈{</span></a><span class="id" title="keyword">fun</span> <a id="x:368" class="idref" href="#x:368"><span class="id" title="binder">x</span></a> <a id="y:369" class="idref" href="#y:369"><span class="id" title="binder">y</span></a> =&gt; <a class="idref" href="ITree.EqmR.EqmRMonad.html#RR:365"><span class="id" title="variable">RR</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#x:368"><span class="id" title="variable">x</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#y:369"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#x:368"><span class="id" title="variable">x</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#91e97f679796ae2f33b88d366e97515d"><span class="id" title="notation">∈</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#ma1:366"><span class="id" title="variable">ma1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#y:369"><span class="id" title="variable">y</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#91e97f679796ae2f33b88d366e97515d"><span class="id" title="notation">∈</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#ma2:367"><span class="id" title="variable">ma2</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">}</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#ma2:367"><span class="id" title="variable">ma2</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Class</span> <a id="ProperBind" class="idref" href="#ProperBind"><span class="id" title="record">ProperBind</span></a> : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="Proper_bind" class="idref" href="#Proper_bind"><span class="id" title="projection">Proper_bind</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> {<a id="A1:372" class="idref" href="#A1:372"><span class="id" title="binder">A1</span></a> <a id="A2:373" class="idref" href="#A2:373"><span class="id" title="binder">A2</span></a> <a id="B1:374" class="idref" href="#B1:374"><span class="id" title="binder">B1</span></a> <a id="B2:375" class="idref" href="#B2:375"><span class="id" title="binder">B2</span></a> : <span class="id" title="keyword">Type</span>} (<a id="RR:376" class="idref" href="#RR:376"><span class="id" title="binder">RR</span></a> : <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#relationH"><span class="id" title="definition">relationH</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A1:372"><span class="id" title="variable">A1</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A2:373"><span class="id" title="variable">A2</span></a>) (<a id="RB:377" class="idref" href="#RB:377"><span class="id" title="binder">RB</span></a> : <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#relationH"><span class="id" title="definition">relationH</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#B1:374"><span class="id" title="variable">B1</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#B2:375"><span class="id" title="variable">B2</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="ma1:378" class="idref" href="#ma1:378"><span class="id" title="binder">ma1</span></a> <a id="ma2:379" class="idref" href="#ma2:379"><span class="id" title="binder">ma2</span></a> <a id="k1:380" class="idref" href="#k1:380"><span class="id" title="binder">k1</span></a> <a id="k2:381" class="idref" href="#k2:381"><span class="id" title="binder">k2</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.EqmR.EqmRMonad.html#ma1:378"><span class="id" title="variable">ma1</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">≈{</span></a><a class="idref" href="ITree.EqmR.EqmRMonad.html#RR:376"><span class="id" title="variable">RR</span></a><a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">}</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#ma2:379"><span class="id" title="variable">ma2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">forall</span> (<a id="a1:382" class="idref" href="#a1:382"><span class="id" title="binder">a1</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#A1:372"><span class="id" title="variable">A1</span></a>) (<a id="a2:383" class="idref" href="#a2:383"><span class="id" title="binder">a2</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#A2:373"><span class="id" title="variable">A2</span></a>), <a class="idref" href="ITree.EqmR.EqmRMonad.html#RR:376"><span class="id" title="variable">RR</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#a1:382"><span class="id" title="variable">a1</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#a2:383"><span class="id" title="variable">a2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#k1:380"><span class="id" title="variable">k1</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#a1:382"><span class="id" title="variable">a1</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">≈{</span></a><a class="idref" href="ITree.EqmR.EqmRMonad.html#RB:377"><span class="id" title="variable">RB</span></a><a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">}</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#k2:381"><span class="id" title="variable">k2</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#a2:383"><span class="id" title="variable">a2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="method">bind</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#ma1:378"><span class="id" title="variable">ma1</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#k1:380"><span class="id" title="variable">k1</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">≈{</span></a><a class="idref" href="ITree.EqmR.EqmRMonad.html#RB:377"><span class="id" title="variable">RB</span></a><a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">}</span></a> <span class="id" title="method">bind</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#ma2:379"><span class="id" title="variable">ma2</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#k2:381"><span class="id" title="variable">k2</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Monad&nbsp;laws&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Class</span> <a id="BindRetL" class="idref" href="#BindRetL"><span class="id" title="record">BindRetL</span></a> : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="bind_ret_l" class="idref" href="#bind_ret_l"><span class="id" title="projection">bind_ret_l</span></a> : <span class="id" title="keyword">forall</span> {<a id="A:386" class="idref" href="#A:386"><span class="id" title="binder">A</span></a> <a id="B:387" class="idref" href="#B:387"><span class="id" title="binder">B</span></a> : <span class="id" title="keyword">Type</span>} (<a id="f:388" class="idref" href="#f:388"><span class="id" title="binder">f</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#A:386"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#EqmRMonadLaws.m"><span class="id" title="variable">m</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#B:387"><span class="id" title="variable">B</span></a>) (<a id="a:389" class="idref" href="#a:389"><span class="id" title="binder">a</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#A:386"><span class="id" title="variable">A</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="method">bind</span> (<span class="id" title="method">ret</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#a:389"><span class="id" title="variable">a</span></a>) <a class="idref" href="ITree.EqmR.EqmRMonad.html#f:388"><span class="id" title="variable">f</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">≈{</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a><a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">}</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#f:388"><span class="id" title="variable">f</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#a:389"><span class="id" title="variable">a</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Class</span> <a id="BindRetR" class="idref" href="#BindRetR"><span class="id" title="record">BindRetR</span></a> : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="bind_ret_r" class="idref" href="#bind_ret_r"><span class="id" title="projection">bind_ret_r</span></a> : <span class="id" title="keyword">forall</span> {<a id="A:392" class="idref" href="#A:392"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>} (<a id="ma:393" class="idref" href="#ma:393"><span class="id" title="binder">ma</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#EqmRMonadLaws.m"><span class="id" title="variable">m</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A:392"><span class="id" title="variable">A</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="method">bind</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#ma:393"><span class="id" title="variable">ma</span></a> <span class="id" title="method">ret</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">≈{</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a><a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">}</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#ma:393"><span class="id" title="variable">ma</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Class</span> <a id="BindBind" class="idref" href="#BindBind"><span class="id" title="record">BindBind</span></a> : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="bind_bind" class="idref" href="#bind_bind"><span class="id" title="projection">bind_bind</span></a> : <span class="id" title="keyword">forall</span> {<a id="A:396" class="idref" href="#A:396"><span class="id" title="binder">A</span></a> <a id="B:397" class="idref" href="#B:397"><span class="id" title="binder">B</span></a> <a id="C:398" class="idref" href="#C:398"><span class="id" title="binder">C</span></a> : <span class="id" title="keyword">Type</span>} (<a id="ma:399" class="idref" href="#ma:399"><span class="id" title="binder">ma</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#EqmRMonadLaws.m"><span class="id" title="variable">m</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A:396"><span class="id" title="variable">A</span></a>) (<a id="f:400" class="idref" href="#f:400"><span class="id" title="binder">f</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#A:396"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#EqmRMonadLaws.m"><span class="id" title="variable">m</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#B:397"><span class="id" title="variable">B</span></a>) (<a id="g:401" class="idref" href="#g:401"><span class="id" title="binder">g</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#B:397"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#EqmRMonadLaws.m"><span class="id" title="variable">m</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#C:398"><span class="id" title="variable">C</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="method">bind</span> (<span class="id" title="method">bind</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#ma:399"><span class="id" title="variable">ma</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#f:400"><span class="id" title="variable">f</span></a>) <a class="idref" href="ITree.EqmR.EqmRMonad.html#g:401"><span class="id" title="variable">g</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">≈{</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a><a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">}</span></a> <span class="id" title="method">bind</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#ma:399"><span class="id" title="variable">ma</span></a> (<span class="id" title="keyword">fun</span> <a id="x:402" class="idref" href="#x:402"><span class="id" title="binder">x</span></a> =&gt; <span class="id" title="method">bind</span> (<a class="idref" href="ITree.EqmR.EqmRMonad.html#f:400"><span class="id" title="variable">f</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#x:402"><span class="id" title="variable">x</span></a>) <a class="idref" href="ITree.EqmR.EqmRMonad.html#g:401"><span class="id" title="variable">g</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Generalization&nbsp;of&nbsp;monadic&nbsp;laws.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;These&nbsp;are&nbsp;of&nbsp;two&nbsp;quite&nbsp;distinct&nbsp;natures:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Heterogeneous&nbsp;generalizations&nbsp;of&nbsp;the&nbsp;usual&nbsp;three&nbsp;monad&nbsp;laws<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Reasoning&nbsp;principles&nbsp;relating&nbsp;<span class="inlinecode"><span class="id" title="var">eqmR</span></span> <span class="inlinecode"><span class="id" title="var">R</span></span>&nbsp;to&nbsp;<span class="inlinecode"><span class="id" title="var">R</span></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Class</span> <a id="EqmRMonadLaws" class="idref" href="#EqmRMonadLaws"><span class="id" title="record">EqmRMonadLaws</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="eqmR_mayRet_l" class="idref" href="#eqmR_mayRet_l"><span class="id" title="projection">eqmR_mayRet_l</span></a> :&gt; <a class="idref" href="ITree.EqmR.EqmRMonad.html#MayRetL"><span class="id" title="class">MayRetL</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="eqmR_mayRet_r" class="idref" href="#eqmR_mayRet_r"><span class="id" title="projection">eqmR_mayRet_r</span></a> :&gt; <a class="idref" href="ITree.EqmR.EqmRMonad.html#MayRetR"><span class="id" title="class">MayRetR</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="eqmR_image" class="idref" href="#eqmR_image"><span class="id" title="projection">eqmR_image</span></a> :&gt; <a class="idref" href="ITree.EqmR.EqmRMonad.html#ImageEqmR"><span class="id" title="class">ImageEqmR</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="eqmR_ret" class="idref" href="#eqmR_ret"><span class="id" title="projection">eqmR_ret</span></a> :&gt; <a class="idref" href="ITree.EqmR.EqmRMonad.html#RetFinal"><span class="id" title="class">RetFinal</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="eqmR_bind_ProperH" class="idref" href="#eqmR_bind_ProperH"><span class="id" title="projection">eqmR_bind_ProperH</span></a> :&gt; <a class="idref" href="ITree.EqmR.EqmRMonad.html#ProperBind"><span class="id" title="class">ProperBind</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="eqmR_bind_ret_l" class="idref" href="#eqmR_bind_ret_l"><span class="id" title="projection">eqmR_bind_ret_l</span></a> :&gt; <a class="idref" href="ITree.EqmR.EqmRMonad.html#BindRetL"><span class="id" title="class">BindRetL</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="eqmR_bind_ret_r" class="idref" href="#eqmR_bind_ret_r"><span class="id" title="projection">eqmR_bind_ret_r</span></a> :&gt; <a class="idref" href="ITree.EqmR.EqmRMonad.html#BindRetR"><span class="id" title="class">BindRetR</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="eqmR_bind_bind" class="idref" href="#eqmR_bind_bind"><span class="id" title="projection">eqmR_bind_bind</span></a> :&gt; <a class="idref" href="ITree.EqmR.EqmRMonad.html#BindBind"><span class="id" title="class">BindBind</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;}.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#EqmRMonadLaws"><span class="id" title="section">EqmRMonadLaws</span></a>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <a id="Proper_bind_pointwise" class="idref" href="#Proper_bind_pointwise"><span class="id" title="instance">Proper_bind_pointwise</span></a> {<a id="m:413" class="idref" href="#m:413"><span class="id" title="binder">m</span></a> : <span class="id" title="keyword">Type</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Type</span>} {<a id="m_EqmR:414" class="idref" href="#m_EqmR:414"><span class="id" title="binder">m_EqmR</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#EqmR"><span class="id" title="class">EqmR</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#m:413"><span class="id" title="variable">m</span></a>} {<a id="m_Monad:415" class="idref" href="#m_Monad:415"><span class="id" title="binder">m_Monad</span></a> : <span class="id" title="class">Monad</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#m:413"><span class="id" title="variable">m</span></a>} {<a id="m_EqmR_OK:416" class="idref" href="#m_EqmR_OK:416"><span class="id" title="binder">m_EqmR_OK</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#EqmR_OK"><span class="id" title="class">EqmR_OK</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#m:413"><span class="id" title="variable">m</span></a>} {<a id="m_EqmRMonadLaws:417" class="idref" href="#m_EqmRMonadLaws:417"><span class="id" title="binder">m_EqmRMonadLaws</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#EqmRMonadLaws"><span class="id" title="class">EqmRMonadLaws</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#m:413"><span class="id" title="variable">m</span></a>} : <span class="id" title="keyword">forall</span> {<a id="A:418" class="idref" href="#A:418"><span class="id" title="binder">A</span></a> <a id="B:419" class="idref" href="#B:419"><span class="id" title="binder">B</span></a>},<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(@<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="ITree.EqmR.EqmRMonad.html#m:413"><span class="id" title="variable">m</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A:418"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="ITree.EqmR.EqmRMonad.html#A:418"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#m:413"><span class="id" title="variable">m</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#B:419"><span class="id" title="variable">B</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#m:413"><span class="id" title="variable">m</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#B:419"><span class="id" title="variable">B</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="ITree.EqmR.EqmRMonad.html#eqmR"><span class="id" title="method">eqmR</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.Morphisms.html#pointwise_relation"><span class="id" title="definition">pointwise_relation</span></a> <span class="id" title="var">_</span> (<a class="idref" href="ITree.EqmR.EqmRMonad.html#eqmR"><span class="id" title="method">eqmR</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#eqmR"><span class="id" title="method">eqmR</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a>) <span class="id" title="method">bind</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#Proper_bind"><span class="id" title="definition">Proper_bind</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">RR</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a>); <span class="id" title="tactic">eauto</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Arguments</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#mayRet_l"><span class="id" title="definition">mayRet_l</span></a> {<span class="id" title="var">m</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>} [<span class="id" title="var">_</span> <span class="id" title="var">_</span>].<br/>
<span class="id" title="keyword">Arguments</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#mayRet_r"><span class="id" title="definition">mayRet_r</span></a> {<span class="id" title="var">m</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>} [<span class="id" title="var">_</span> <span class="id" title="var">_</span>].<br/>
<span class="id" title="keyword">Arguments</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#final"><span class="id" title="definition">final</span></a> {<span class="id" title="var">m</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>} [<span class="id" title="var">_</span> <span class="id" title="var">_</span>].<br/>
<span class="id" title="keyword">Arguments</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#bind_ret_l"><span class="id" title="definition">bind_ret_l</span></a> {<span class="id" title="var">m</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>} [<span class="id" title="var">_</span> <span class="id" title="var">_</span>].<br/>
<span class="id" title="keyword">Arguments</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#bind_ret_r"><span class="id" title="definition">bind_ret_r</span></a> {<span class="id" title="var">m</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>} [<span class="id" title="var">_</span>].<br/>
<span class="id" title="keyword">Arguments</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#bind_bind"><span class="id" title="definition">bind_bind</span></a> {<span class="id" title="var">m</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>} [<span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>].<br/>
<span class="id" title="keyword">Arguments</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#Proper_bind"><span class="id" title="definition">Proper_bind</span></a> {<span class="id" title="var">m</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>} [<span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>].<br/>
<span class="id" title="keyword">Arguments</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#Proper_bind_pointwise"><span class="id" title="instance">Proper_bind_pointwise</span></a> {<span class="id" title="var">m</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>} [<span class="id" title="var">_</span> <span class="id" title="var">_</span>].<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="EqmRInversion" class="idref" href="#EqmRInversion"><span class="id" title="section">EqmRInversion</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="m:420" class="idref" href="#m:420"><span class="id" title="binder">m</span></a> : <span class="id" title="keyword">Type</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Type</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="Mm:421" class="idref" href="#Mm:421"><span class="id" title="binder">Mm</span></a> : <span class="id" title="class">Monad</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#EqmRInversion.m"><span class="id" title="variable">m</span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="EqMR:422" class="idref" href="#EqMR:422"><span class="id" title="binder">EqMR</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#EqmR"><span class="id" title="class">EqmR</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#EqmRInversion.m"><span class="id" title="variable">m</span></a>} {<a id="EqmRm:423" class="idref" href="#EqmRm:423"><span class="id" title="binder">EqmRm</span></a>: <a class="idref" href="ITree.EqmR.EqmRMonad.html#EqmRMonadLaws"><span class="id" title="class">EqmRMonadLaws</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#EqmRInversion.m"><span class="id" title="variable">m</span></a>} {<a id="EqmROKm:424" class="idref" href="#EqmROKm:424"><span class="id" title="binder">EqmROKm</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#EqmR_OK"><span class="id" title="class">EqmR_OK</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#EqmRInversion.m"><span class="id" title="variable">m</span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="mayRet_rel" class="idref" href="#mayRet_rel"><span class="id" title="definition">mayRet_rel</span></a> {<a id="A:425" class="idref" href="#A:425"><span class="id" title="binder">A</span></a> <a id="B:426" class="idref" href="#B:426"><span class="id" title="binder">B</span></a>} (<a id="ma:427" class="idref" href="#ma:427"><span class="id" title="binder">ma</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#EqmRInversion.m"><span class="id" title="variable">m</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A:425"><span class="id" title="variable">A</span></a>) (<a id="mb:428" class="idref" href="#mb:428"><span class="id" title="binder">mb</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#EqmRInversion.m"><span class="id" title="variable">m</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#B:426"><span class="id" title="variable">B</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <a id="x:429" class="idref" href="#x:429"><span class="id" title="binder">x</span></a> <a id="y:430" class="idref" href="#y:430"><span class="id" title="binder">y</span></a> =&gt; <a class="idref" href="ITree.EqmR.EqmRMonad.html#x:429"><span class="id" title="variable">x</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#91e97f679796ae2f33b88d366e97515d"><span class="id" title="notation">∈</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#ma:427"><span class="id" title="variable">ma</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#y:430"><span class="id" title="variable">y</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#91e97f679796ae2f33b88d366e97515d"><span class="id" title="notation">∈</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#mb:428"><span class="id" title="variable">mb</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Class</span> <a id="RetInv" class="idref" href="#RetInv"><span class="id" title="record">RetInv</span></a> : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="ret_inv" class="idref" href="#ret_inv"><span class="id" title="projection">ret_inv</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> {<a id="A1:432" class="idref" href="#A1:432"><span class="id" title="binder">A1</span></a> <a id="A2:433" class="idref" href="#A2:433"><span class="id" title="binder">A2</span></a> : <span class="id" title="keyword">Type</span>} (<a id="RA:434" class="idref" href="#RA:434"><span class="id" title="binder">RA</span></a> : <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#relationH"><span class="id" title="definition">relationH</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A1:432"><span class="id" title="variable">A1</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A2:433"><span class="id" title="variable">A2</span></a>) (<a id="a1:435" class="idref" href="#a1:435"><span class="id" title="binder">a1</span></a>:<a class="idref" href="ITree.EqmR.EqmRMonad.html#A1:432"><span class="id" title="variable">A1</span></a>) (<a id="a2:436" class="idref" href="#a2:436"><span class="id" title="binder">a2</span></a>:<a class="idref" href="ITree.EqmR.EqmRMonad.html#A2:433"><span class="id" title="variable">A2</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="method">ret</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#a1:435"><span class="id" title="variable">a1</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">≈{</span></a><a class="idref" href="ITree.EqmR.EqmRMonad.html#RA:434"><span class="id" title="variable">RA</span></a><a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">}</span></a> <span class="id" title="method">ret</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#a2:436"><span class="id" title="variable">a2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#RA:434"><span class="id" title="variable">RA</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#a1:435"><span class="id" title="variable">a1</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#a2:436"><span class="id" title="variable">a2</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Class</span> <a id="MayRetBindInv" class="idref" href="#MayRetBindInv"><span class="id" title="record">MayRetBindInv</span></a> : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="mayRet_bind_inv" class="idref" href="#mayRet_bind_inv"><span class="id" title="projection">mayRet_bind_inv</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<a id="A:439" class="idref" href="#A:439"><span class="id" title="binder">A</span></a> <a id="B:440" class="idref" href="#B:440"><span class="id" title="binder">B</span></a>:<span class="id" title="keyword">Type</span>) (<a id="ma:441" class="idref" href="#ma:441"><span class="id" title="binder">ma</span></a>:<a class="idref" href="ITree.EqmR.EqmRMonad.html#EqmRInversion.m"><span class="id" title="variable">m</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A:439"><span class="id" title="variable">A</span></a>) (<a id="k:442" class="idref" href="#k:442"><span class="id" title="binder">k</span></a>:<a class="idref" href="ITree.EqmR.EqmRMonad.html#A:439"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#EqmRInversion.m"><span class="id" title="variable">m</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#B:440"><span class="id" title="variable">B</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="b:443" class="idref" href="#b:443"><span class="id" title="binder">b</span></a>, <a class="idref" href="ITree.EqmR.EqmRMonad.html#b:443"><span class="id" title="variable">b</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#91e97f679796ae2f33b88d366e97515d"><span class="id" title="notation">∈</span></a> <span class="id" title="method">bind</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#ma:441"><span class="id" title="variable">ma</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#k:442"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="a:444" class="idref" href="#a:444"><span class="id" title="binder">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#a:444"><span class="id" title="variable">a</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#91e97f679796ae2f33b88d366e97515d"><span class="id" title="notation">∈</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#ma:441"><span class="id" title="variable">ma</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#b:443"><span class="id" title="variable">b</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#91e97f679796ae2f33b88d366e97515d"><span class="id" title="notation">∈</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#k:442"><span class="id" title="variable">k</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#a:444"><span class="id" title="variable">a</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Class</span> <a id="FmapInvRet" class="idref" href="#FmapInvRet"><span class="id" title="record">FmapInvRet</span></a> : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="fmap_inv_ret" class="idref" href="#fmap_inv_ret"><span class="id" title="projection">fmap_inv_ret</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<a id="A:447" class="idref" href="#A:447"><span class="id" title="binder">A</span></a> <a id="B:448" class="idref" href="#B:448"><span class="id" title="binder">B</span></a>:<span class="id" title="keyword">Type</span>) (<a id="ma:449" class="idref" href="#ma:449"><span class="id" title="binder">ma</span></a> :<a class="idref" href="ITree.EqmR.EqmRMonad.html#EqmRInversion.m"><span class="id" title="variable">m</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A:447"><span class="id" title="variable">A</span></a>) (<a id="f:450" class="idref" href="#f:450"><span class="id" title="binder">f</span></a> <a id="f':451" class="idref" href="#f':451"><span class="id" title="binder">f'</span></a> :<a class="idref" href="ITree.EqmR.EqmRMonad.html#A:447"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#B:448"><span class="id" title="variable">B</span></a>) (<a id="R:452" class="idref" href="#R:452"><span class="id" title="binder">R</span></a>:<a class="idref" href="ITree.Basics.HeterogeneousRelations.html#relationH"><span class="id" title="definition">relationH</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#B:448"><span class="id" title="variable">B</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#B:448"><span class="id" title="variable">B</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">(</span></a><a class="idref" href="ITree.EqmR.EqmRMonad.html#f:450"><span class="id" title="variable">f</span></a> <span class="id" title="notation">&lt;$&gt;</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#ma:449"><span class="id" title="variable">ma</span></a><a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">)</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">≈{</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#R:452"><span class="id" title="variable">R</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">}</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">(</span></a><a class="idref" href="ITree.EqmR.EqmRMonad.html#f':451"><span class="id" title="variable">f'</span></a> <span class="id" title="notation">&lt;$&gt;</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#ma:449"><span class="id" title="variable">ma</span></a><a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="a:453" class="idref" href="#a:453"><span class="id" title="binder">a</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#A:447"><span class="id" title="variable">A</span></a>, <a class="idref" href="ITree.EqmR.EqmRMonad.html#a:453"><span class="id" title="variable">a</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#91e97f679796ae2f33b88d366e97515d"><span class="id" title="notation">∈</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#ma:449"><span class="id" title="variable">ma</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="method">ret</span> (<a class="idref" href="ITree.EqmR.EqmRMonad.html#f:450"><span class="id" title="variable">f</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#a:453"><span class="id" title="variable">a</span></a>) <a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">≈{</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#R:452"><span class="id" title="variable">R</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">}</span></a> <span class="id" title="method">ret</span> (<a class="idref" href="ITree.EqmR.EqmRMonad.html#f':451"><span class="id" title="variable">f'</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#a:453"><span class="id" title="variable">a</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Class</span> <a id="BindInv" class="idref" href="#BindInv"><span class="id" title="record">BindInv</span></a> : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="bind_inv" class="idref" href="#bind_inv"><span class="id" title="projection">bind_inv</span></a> : <span class="id" title="keyword">forall</span> (<a id="A1:456" class="idref" href="#A1:456"><span class="id" title="binder">A1</span></a> <a id="A2:457" class="idref" href="#A2:457"><span class="id" title="binder">A2</span></a> <a id="B1:458" class="idref" href="#B1:458"><span class="id" title="binder">B1</span></a> <a id="B2:459" class="idref" href="#B2:459"><span class="id" title="binder">B2</span></a>: <span class="id" title="keyword">Type</span>) (<a id="R:460" class="idref" href="#R:460"><span class="id" title="binder">R</span></a> : <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#relationH"><span class="id" title="definition">relationH</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#B1:458"><span class="id" title="variable">B1</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#B2:459"><span class="id" title="variable">B2</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="ma1:461" class="idref" href="#ma1:461"><span class="id" title="binder">ma1</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#EqmRInversion.m"><span class="id" title="variable">m</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A1:456"><span class="id" title="variable">A1</span></a>) (<a id="ma2:462" class="idref" href="#ma2:462"><span class="id" title="binder">ma2</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#EqmRInversion.m"><span class="id" title="variable">m</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A2:457"><span class="id" title="variable">A2</span></a>) (<a id="k1:463" class="idref" href="#k1:463"><span class="id" title="binder">k1</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#A1:456"><span class="id" title="variable">A1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#EqmRInversion.m"><span class="id" title="variable">m</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#B1:458"><span class="id" title="variable">B1</span></a>) (<a id="k2:464" class="idref" href="#k2:464"><span class="id" title="binder">k2</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#A2:457"><span class="id" title="variable">A2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#EqmRInversion.m"><span class="id" title="variable">m</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#B2:459"><span class="id" title="variable">B2</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">(</span></a><a id="x:465" class="idref" href="#x:465"><span class="id" title="binder">x</span></a> <span class="id" title="notation">&lt;-</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#ma1:461"><span class="id" title="variable">ma1</span></a><span class="id" title="notation">;;</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#k1:463"><span class="id" title="variable">k1</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#x:465"><span class="id" title="variable">x</span></a><a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">)</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">≈{</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#R:460"><span class="id" title="variable">R</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">}</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">(</span></a><a id="x:466" class="idref" href="#x:466"><span class="id" title="binder">x</span></a> <span class="id" title="notation">&lt;-</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#ma2:462"><span class="id" title="variable">ma2</span></a><span class="id" title="notation">;;</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#k2:464"><span class="id" title="variable">k2</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#x:466"><span class="id" title="variable">x</span></a><a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.EqmR.EqmRMonad.html#ma1:461"><span class="id" title="variable">ma1</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">≈{</span></a> <span class="id" title="keyword">fun</span> <a id="x:467" class="idref" href="#x:467"><span class="id" title="binder">x</span></a> <a id="y:468" class="idref" href="#y:468"><span class="id" title="binder">y</span></a> =&gt; <a class="idref" href="ITree.EqmR.EqmRMonad.html#k1:463"><span class="id" title="variable">k1</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#x:467"><span class="id" title="variable">x</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">≈{</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#R:460"><span class="id" title="variable">R</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">}</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#k2:464"><span class="id" title="variable">k2</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#y:468"><span class="id" title="variable">y</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">}</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#ma2:462"><span class="id" title="variable">ma2</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Class</span> <a id="FmapInv_mayRet" class="idref" href="#FmapInv_mayRet"><span class="id" title="record">FmapInv_mayRet</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="fmap_inv_mayRet" class="idref" href="#fmap_inv_mayRet"><span class="id" title="projection">fmap_inv_mayRet</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<a id="A1:471" class="idref" href="#A1:471"><span class="id" title="binder">A1</span></a> <a id="A2:472" class="idref" href="#A2:472"><span class="id" title="binder">A2</span></a> <a id="B1:473" class="idref" href="#B1:473"><span class="id" title="binder">B1</span></a> <a id="B2:474" class="idref" href="#B2:474"><span class="id" title="binder">B2</span></a>:<span class="id" title="keyword">Type</span>) (<a id="R:475" class="idref" href="#R:475"><span class="id" title="binder">R</span></a> : <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#relationH"><span class="id" title="definition">relationH</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#B1:473"><span class="id" title="variable">B1</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#B2:474"><span class="id" title="variable">B2</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="f1:476" class="idref" href="#f1:476"><span class="id" title="binder">f1</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#A1:471"><span class="id" title="variable">A1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#B1:473"><span class="id" title="variable">B1</span></a>) (<a id="f2:477" class="idref" href="#f2:477"><span class="id" title="binder">f2</span></a> :<a class="idref" href="ITree.EqmR.EqmRMonad.html#A2:472"><span class="id" title="variable">A2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#B2:474"><span class="id" title="variable">B2</span></a>) (<a id="ma1:478" class="idref" href="#ma1:478"><span class="id" title="binder">ma1</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#EqmRInversion.m"><span class="id" title="variable">m</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A1:471"><span class="id" title="variable">A1</span></a>) (<a id="ma2:479" class="idref" href="#ma2:479"><span class="id" title="binder">ma2</span></a>:<a class="idref" href="ITree.EqmR.EqmRMonad.html#EqmRInversion.m"><span class="id" title="variable">m</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A2:472"><span class="id" title="variable">A2</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">(</span></a><a class="idref" href="ITree.EqmR.EqmRMonad.html#f1:476"><span class="id" title="variable">f1</span></a> <span class="id" title="notation">&lt;$&gt;</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#ma1:478"><span class="id" title="variable">ma1</span></a><a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">)</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">≈{</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#R:475"><span class="id" title="variable">R</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">}</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">(</span></a><a class="idref" href="ITree.EqmR.EqmRMonad.html#f2:477"><span class="id" title="variable">f2</span></a> <span class="id" title="notation">&lt;$&gt;</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#ma2:479"><span class="id" title="variable">ma2</span></a><a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.EqmR.EqmRMonad.html#ma1:478"><span class="id" title="variable">ma1</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">≈{</span></a> <span class="id" title="keyword">fun</span> <a id="a1:480" class="idref" href="#a1:480"><span class="id" title="binder">a1</span></a> <a id="a2:481" class="idref" href="#a2:481"><span class="id" title="binder">a2</span></a> =&gt; <a class="idref" href="ITree.EqmR.EqmRMonad.html#mayRet_rel"><span class="id" title="definition">mayRet_rel</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#ma1:478"><span class="id" title="variable">ma1</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#ma2:479"><span class="id" title="variable">ma2</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#a1:480"><span class="id" title="variable">a1</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#a2:481"><span class="id" title="variable">a2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#R:475"><span class="id" title="variable">R</span></a> (<a class="idref" href="ITree.EqmR.EqmRMonad.html#f1:476"><span class="id" title="variable">f1</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#a1:480"><span class="id" title="variable">a1</span></a>) (<a class="idref" href="ITree.EqmR.EqmRMonad.html#f2:477"><span class="id" title="variable">f2</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#a2:481"><span class="id" title="variable">a2</span></a>)<a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">}</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#ma2:479"><span class="id" title="variable">ma2</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Class</span> <a id="EqmRInv" class="idref" href="#EqmRInv"><span class="id" title="record">EqmRInv</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="eqmR_inv" class="idref" href="#eqmR_inv"><span class="id" title="projection">eqmR_inv</span></a> : <span class="id" title="keyword">forall</span> <a id="A:484" class="idref" href="#A:484"><span class="id" title="binder">A</span></a> (<a id="R:485" class="idref" href="#R:485"><span class="id" title="binder">R</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#A:484"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A:484"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>) (<a id="ma:486" class="idref" href="#ma:486"><span class="id" title="binder">ma</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#EqmRInversion.m"><span class="id" title="variable">m</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A:484"><span class="id" title="variable">A</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.EqmR.EqmRMonad.html#ma:486"><span class="id" title="variable">ma</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">≈{</span></a><a class="idref" href="ITree.EqmR.EqmRMonad.html#R:485"><span class="id" title="variable">R</span></a><a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">}</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#ma:486"><span class="id" title="variable">ma</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">forall</span> <a id="a:487" class="idref" href="#a:487"><span class="id" title="binder">a</span></a>, <a class="idref" href="ITree.EqmR.EqmRMonad.html#a:487"><span class="id" title="variable">a</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#91e97f679796ae2f33b88d366e97515d"><span class="id" title="notation">∈</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#ma:486"><span class="id" title="variable">ma</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#R:485"><span class="id" title="variable">R</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#a:487"><span class="id" title="variable">a</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#a:487"><span class="id" title="variable">a</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Class</span> <a id="FmapInv" class="idref" href="#FmapInv"><span class="id" title="record">FmapInv</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="fmap_inv" class="idref" href="#fmap_inv"><span class="id" title="projection">fmap_inv</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<a id="A1:490" class="idref" href="#A1:490"><span class="id" title="binder">A1</span></a> <a id="A2:491" class="idref" href="#A2:491"><span class="id" title="binder">A2</span></a> <a id="B1:492" class="idref" href="#B1:492"><span class="id" title="binder">B1</span></a> <a id="B2:493" class="idref" href="#B2:493"><span class="id" title="binder">B2</span></a>:<span class="id" title="keyword">Type</span>) (<a id="R:494" class="idref" href="#R:494"><span class="id" title="binder">R</span></a> : <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#relationH"><span class="id" title="definition">relationH</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#B1:492"><span class="id" title="variable">B1</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#B2:493"><span class="id" title="variable">B2</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="f1:495" class="idref" href="#f1:495"><span class="id" title="binder">f1</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#A1:490"><span class="id" title="variable">A1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#B1:492"><span class="id" title="variable">B1</span></a>) (<a id="f2:496" class="idref" href="#f2:496"><span class="id" title="binder">f2</span></a> :<a class="idref" href="ITree.EqmR.EqmRMonad.html#A2:491"><span class="id" title="variable">A2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#B2:493"><span class="id" title="variable">B2</span></a>) (<a id="ma1:497" class="idref" href="#ma1:497"><span class="id" title="binder">ma1</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#EqmRInversion.m"><span class="id" title="variable">m</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A1:490"><span class="id" title="variable">A1</span></a>) (<a id="ma2:498" class="idref" href="#ma2:498"><span class="id" title="binder">ma2</span></a>:<a class="idref" href="ITree.EqmR.EqmRMonad.html#EqmRInversion.m"><span class="id" title="variable">m</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A2:491"><span class="id" title="variable">A2</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">(</span></a><a class="idref" href="ITree.EqmR.EqmRMonad.html#f1:495"><span class="id" title="variable">f1</span></a> <span class="id" title="notation">&lt;$&gt;</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#ma1:497"><span class="id" title="variable">ma1</span></a><a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">)</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">≈{</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#R:494"><span class="id" title="variable">R</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">}</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">(</span></a><a class="idref" href="ITree.EqmR.EqmRMonad.html#f2:496"><span class="id" title="variable">f2</span></a> <span class="id" title="notation">&lt;$&gt;</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#ma2:498"><span class="id" title="variable">ma2</span></a><a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.EqmR.EqmRMonad.html#ma1:497"><span class="id" title="variable">ma1</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">≈{</span></a> <span class="id" title="keyword">fun</span> <a id="a1:499" class="idref" href="#a1:499"><span class="id" title="binder">a1</span></a> <a id="a2:500" class="idref" href="#a2:500"><span class="id" title="binder">a2</span></a> =&gt; <a class="idref" href="ITree.EqmR.EqmRMonad.html#R:494"><span class="id" title="variable">R</span></a> (<a class="idref" href="ITree.EqmR.EqmRMonad.html#f1:495"><span class="id" title="variable">f1</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#a1:499"><span class="id" title="variable">a1</span></a>) (<a class="idref" href="ITree.EqmR.EqmRMonad.html#f2:496"><span class="id" title="variable">f2</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#a2:500"><span class="id" title="variable">a2</span></a>)<a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">}</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#ma2:498"><span class="id" title="variable">ma2</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;This&nbsp;is&nbsp;the&nbsp;key&nbsp;lemma&nbsp;that&nbsp;checks&nbsp;whether&nbsp;or&nbsp;not&nbsp;the&nbsp;monad&nbsp;has&nbsp;computations<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;which&nbsp;are&nbsp;impure&nbsp;and&nbsp;has&nbsp;an&nbsp;observable&nbsp;step.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Notably,&nbsp;the&nbsp;state&nbsp;monad&nbsp;does&nbsp;not&nbsp;respect&nbsp;this&nbsp;property&nbsp;(see&nbsp;<span class="inlinecode"><span class="id" title="var">bind_ret_inv_counterexample</span></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;in&nbsp;<span class="inlinecode"><span class="id" title="var">Monads</span>/<span class="id" title="var">State.v</span></span>)&nbsp;which&nbsp;means&nbsp;that&nbsp;two&nbsp;impure&nbsp;computations&nbsp;can&nbsp;be<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;composed&nbsp;to&nbsp;form&nbsp;a&nbsp;pure&nbsp;computation.&nbsp;This&nbsp;is&nbsp;especially&nbsp;true&nbsp;for&nbsp;states<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;where&nbsp;you&nbsp;can&nbsp;"undo"&nbsp;what's&nbsp;been&nbsp;done.<br/>
&nbsp;&nbsp;&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Class</span> <a id="BindRetInv" class="idref" href="#BindRetInv"><span class="id" title="record">BindRetInv</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="bind_ret_inv" class="idref" href="#bind_ret_inv"><span class="id" title="projection">bind_ret_inv</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> {<a id="A:503" class="idref" href="#A:503"><span class="id" title="binder">A</span></a> <a id="B:504" class="idref" href="#B:504"><span class="id" title="binder">B</span></a> : <span class="id" title="keyword">Type</span>} (<a id="ma:505" class="idref" href="#ma:505"><span class="id" title="binder">ma</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#EqmRInversion.m"><span class="id" title="variable">m</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A:503"><span class="id" title="variable">A</span></a>) (<a id="kb:506" class="idref" href="#kb:506"><span class="id" title="binder">kb</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#A:503"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#EqmRInversion.m"><span class="id" title="variable">m</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#B:504"><span class="id" title="variable">B</span></a>) (<a id="b:507" class="idref" href="#b:507"><span class="id" title="binder">b</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#B:504"><span class="id" title="variable">B</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="method">bind</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#ma:505"><span class="id" title="variable">ma</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#kb:506"><span class="id" title="variable">kb</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">≈{</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a><a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">}</span></a> <span class="id" title="method">ret</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#b:507"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="a:508" class="idref" href="#a:508"><span class="id" title="binder">a</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#A:503"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#ma:505"><span class="id" title="variable">ma</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">≈{</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a><a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">}</span></a> <span class="id" title="method">ret</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#a:508"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#kb:506"><span class="id" title="variable">kb</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#a:508"><span class="id" title="variable">a</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">≈{</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a><a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">}</span></a> <span class="id" title="method">ret</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#b:507"><span class="id" title="variable">b</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Class</span> <a id="EqmRInversionProperties" class="idref" href="#EqmRInversionProperties"><span class="id" title="record">EqmRInversionProperties</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="eqmR_ret_inv" class="idref" href="#eqmR_ret_inv"><span class="id" title="projection">eqmR_ret_inv</span></a> :&gt; <a class="idref" href="ITree.EqmR.EqmRMonad.html#RetInv"><span class="id" title="class">RetInv</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="eqmR_mayRet_bind_inv" class="idref" href="#eqmR_mayRet_bind_inv"><span class="id" title="projection">eqmR_mayRet_bind_inv</span></a> :&gt; <a class="idref" href="ITree.EqmR.EqmRMonad.html#MayRetBindInv"><span class="id" title="class">MayRetBindInv</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="eqmR_fmap_inv" class="idref" href="#eqmR_fmap_inv"><span class="id" title="projection">eqmR_fmap_inv</span></a> :&gt; <a class="idref" href="ITree.EqmR.EqmRMonad.html#FmapInv"><span class="id" title="class">FmapInv</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="eqmR_inv_" class="idref" href="#eqmR_inv_"><span class="id" title="projection">eqmR_inv_</span></a> :&gt; <a class="idref" href="ITree.EqmR.EqmRMonad.html#EqmRInv"><span class="id" title="class">EqmRInv</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;}.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#EqmRInversion"><span class="id" title="section">EqmRInversion</span></a>.<br/>

<br/>
#[<span class="id" title="var">global</span>]<br/>
&nbsp;<span class="id" title="keyword">Instance</span> <a id="FmapInv_" class="idref" href="#FmapInv_"><span class="id" title="instance">FmapInv_</span></a> <a id="m:515" class="idref" href="#m:515"><span class="id" title="binder">m</span></a>  `{<a id="H:518" class="idref" href="#H:518"><span class="id" title="binder">EqmR_OK</span></a> <a id="H:518" class="idref" href="#H:518"><span class="id" title="binder">m</span></a>} {<a id="m_FmapInv_mayRet:519" class="idref" href="#m_FmapInv_mayRet:519"><span class="id" title="binder">m_FmapInv_mayRet</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#FmapInv_mayRet"><span class="id" title="class">FmapInv_mayRet</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#m:515"><span class="id" title="variable">m</span></a>} : <a class="idref" href="ITree.EqmR.EqmRMonad.html#FmapInv"><span class="id" title="class">FmapInv</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#m:515"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#fmap_inv_mayRet"><span class="id" title="definition">fmap_inv_mayRet</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#mayRet_rel"><span class="id" title="definition">mayRet_rel</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#Proper_eqmR_mono"><span class="id" title="method">Proper_eqmR_mono</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span> <span class="id" title="keyword">as</span> (?&amp;?). <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Arguments</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#ret_inv"><span class="id" title="definition">ret_inv</span></a> {<span class="id" title="var">m</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>} [<span class="id" title="var">_</span> <span class="id" title="var">_</span>].<br/>
<span class="id" title="keyword">Arguments</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#mayRet_bind_inv"><span class="id" title="definition">mayRet_bind_inv</span></a> {<span class="id" title="var">m</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>} [<span class="id" title="var">_</span> <span class="id" title="var">_</span>].<br/>
<span class="id" title="keyword">Arguments</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#fmap_inv_ret"><span class="id" title="definition">fmap_inv_ret</span></a> {<span class="id" title="var">m</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>} [<span class="id" title="var">_</span> <span class="id" title="var">_</span>].<br/>
<span class="id" title="keyword">Arguments</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#fmap_inv"><span class="id" title="definition">fmap_inv</span></a> {<span class="id" title="var">m</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>} [<span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>].<br/>

<br/>
<span class="comment">(*&nbsp;Notions&nbsp;of&nbsp;computational&nbsp;purity&nbsp;based&nbsp;on&nbsp;image.&nbsp;*)</span><br/>
<span class="id" title="keyword">Section</span> <a id="Comp" class="idref" href="#Comp"><span class="id" title="section">Comp</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="m:520" class="idref" href="#m:520"><span class="id" title="binder">m</span></a> : <span class="id" title="keyword">Type</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Type</span>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="Mm:521" class="idref" href="#Mm:521"><span class="id" title="binder">Mm</span></a> : <span class="id" title="class">Monad</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#Comp.m"><span class="id" title="variable">m</span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="EqMR:522" class="idref" href="#EqMR:522"><span class="id" title="binder">EqMR</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#EqmR"><span class="id" title="class">EqmR</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#Comp.m"><span class="id" title="variable">m</span></a>} {<a id="EqmRm:523" class="idref" href="#EqmRm:523"><span class="id" title="binder">EqmRm</span></a>: <a class="idref" href="ITree.EqmR.EqmRMonad.html#EqmRMonadLaws"><span class="id" title="class">EqmRMonadLaws</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#Comp.m"><span class="id" title="variable">m</span></a>} {<a id="EqmROKm:524" class="idref" href="#EqmROKm:524"><span class="id" title="binder">EqmROKm</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#EqmR_OK"><span class="id" title="class">EqmR_OK</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#Comp.m"><span class="id" title="variable">m</span></a>} {<a id="EqmRMonadInverses:525" class="idref" href="#EqmRMonadInverses:525"><span class="id" title="binder">EqmRMonadInverses</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#EqmRInversionProperties"><span class="id" title="class">EqmRInversionProperties</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#Comp.m"><span class="id" title="variable">m</span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Import</span> <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#RelNotations"><span class="id" title="module">RelNotations</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Local Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">relationH_scope</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;A&nbsp;sanity&nbsp;check&nbsp;about&nbsp;the&nbsp;images:&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="singletonR" class="idref" href="#singletonR"><span class="id" title="definition">singletonR</span></a> {<a id="A:526" class="idref" href="#A:526"><span class="id" title="binder">A</span></a>:<span class="id" title="keyword">Type</span>} (<a id="x:527" class="idref" href="#x:527"><span class="id" title="binder">x</span></a>:<a class="idref" href="ITree.EqmR.EqmRMonad.html#A:526"><span class="id" title="variable">A</span></a>) : <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#relationH"><span class="id" title="definition">relationH</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A:526"><span class="id" title="variable">A</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A:526"><span class="id" title="variable">A</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <a id="a:528" class="idref" href="#a:528"><span class="id" title="binder">a</span></a> <a id="b:529" class="idref" href="#b:529"><span class="id" title="binder">b</span></a> =&gt; <a class="idref" href="ITree.EqmR.EqmRMonad.html#a:528"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#b:529"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#a:528"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#x:527"><span class="id" title="variable">x</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="singletonR_SymmetricH" class="idref" href="#singletonR_SymmetricH"><span class="id" title="lemma">singletonR_SymmetricH</span></a> {<a id="A:530" class="idref" href="#A:530"><span class="id" title="binder">A</span></a>:<span class="id" title="keyword">Type</span>} (<a id="x:531" class="idref" href="#x:531"><span class="id" title="binder">x</span></a>:<a class="idref" href="ITree.EqmR.EqmRMonad.html#A:530"><span class="id" title="variable">A</span></a>) : <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#SymmetricH"><span class="id" title="class">SymmetricH</span></a> (<a class="idref" href="ITree.EqmR.EqmRMonad.html#singletonR"><span class="id" title="definition">singletonR</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#x:531"><span class="id" title="variable">x</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">red</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">a1</span> <span class="id" title="var">a2</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#singletonR"><span class="id" title="definition">singletonR</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">symmetry</span>. <span class="id" title="tactic">tauto</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H</span>. <span class="id" title="tactic">symmetry</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="singletonR_TransitiveH" class="idref" href="#singletonR_TransitiveH"><span class="id" title="lemma">singletonR_TransitiveH</span></a> {<a id="A:532" class="idref" href="#A:532"><span class="id" title="binder">A</span></a>:<span class="id" title="keyword">Type</span>} (<a id="x:533" class="idref" href="#x:533"><span class="id" title="binder">x</span></a>:<a class="idref" href="ITree.EqmR.EqmRMonad.html#A:532"><span class="id" title="variable">A</span></a>) : <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#TransitiveH"><span class="id" title="class">TransitiveH</span></a> (<a class="idref" href="ITree.EqmR.EqmRMonad.html#singletonR"><span class="id" title="definition">singletonR</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#x:533"><span class="id" title="variable">x</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">red</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#singletonR"><span class="id" title="definition">singletonR</span></a> <span class="id" title="tactic">in</span> *. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>, <span class="id" title="var">H</span>; <span class="id" title="tactic">split</span>; <span class="id" title="var">etransitivity</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="ret_image" class="idref" href="#ret_image"><span class="id" title="lemma">ret_image</span></a> {<a id="A:534" class="idref" href="#A:534"><span class="id" title="binder">A</span></a>:<span class="id" title="keyword">Type</span>} (<a id="x:535" class="idref" href="#x:535"><span class="id" title="binder">x</span></a>:<a class="idref" href="ITree.EqmR.EqmRMonad.html#A:534"><span class="id" title="variable">A</span></a>) : <a class="idref" href="ITree.EqmR.EqmRMonad.html#image"><span class="id" title="definition">image</span></a> (<span class="id" title="method">ret</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#x:535"><span class="id" title="variable">x</span></a>) <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#781d5b55312115c1fe1591d05137e1f7"><span class="id" title="notation">≡</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#singletonR"><span class="id" title="definition">singletonR</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#x:535"><span class="id" title="variable">x</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">red</span>. <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#image"><span class="id" title="definition">image</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H</span> (<a class="idref" href="ITree.EqmR.EqmRMonad.html#singletonR"><span class="id" title="definition">singletonR</span></a> <span class="id" title="var">x</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="ITree.Basics.HeterogeneousRelations.html#PER"><span class="id" title="class">PER</span></a> (<a class="idref" href="ITree.EqmR.EqmRMonad.html#singletonR"><span class="id" title="definition">singletonR</span></a> <span class="id" title="var">x</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">split</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#singletonR_SymmetricH"><span class="id" title="lemma">singletonR_SymmetricH</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#singletonR_TransitiveH"><span class="id" title="lemma">singletonR_TransitiveH</span></a>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H</span> <span class="id" title="var">H0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="ITree.EqmR.EqmRMonad.html#eqmR"><span class="id" title="method">eqmR</span></a> (<a class="idref" href="ITree.EqmR.EqmRMonad.html#singletonR"><span class="id" title="definition">singletonR</span></a> <span class="id" title="var">x</span>) (<span class="id" title="method">ret</span> <span class="id" title="var">x</span>) (<span class="id" title="method">ret</span> <span class="id" title="var">x</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#eqmR_ret"><span class="id" title="method">eqmR_ret</span></a>. <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">auto</span>. <span class="id" title="var">esplit</span>; <span class="id" title="tactic">reflexivity</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">red</span>. <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#singletonR"><span class="id" title="definition">singletonR</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#eqmR_ret_inv"><span class="id" title="method">eqmR_ret_inv</span></a>; <span class="id" title="tactic">eauto</span>...<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="ret_mayRet" class="idref" href="#ret_mayRet"><span class="id" title="lemma">ret_mayRet</span></a> {<a id="A:536" class="idref" href="#A:536"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>} : <span class="id" title="keyword">forall</span> (<a id="a:537" class="idref" href="#a:537"><span class="id" title="binder">a</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#A:536"><span class="id" title="variable">A</span></a>), <a class="idref" href="ITree.EqmR.EqmRMonad.html#a:537"><span class="id" title="variable">a</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#91e97f679796ae2f33b88d366e97515d"><span class="id" title="notation">∈</span></a> <span class="id" title="method">ret</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#a:537"><span class="id" title="variable">a</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#mayRet"><span class="id" title="definition">mayRet</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#ret_image"><span class="id" title="lemma">ret_image</span></a>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Under&nbsp;these&nbsp;well-formedness&nbsp;conditions&nbsp;of&nbsp;EqmR,&nbsp;eqmR&nbsp;eq&nbsp;and<br/>
&nbsp;&nbsp;&nbsp;&nbsp;eqmR&nbsp;(image&nbsp;ma)&nbsp;coincides.*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="image_eq" class="idref" href="#image_eq"><span class="id" title="lemma">image_eq</span></a> {<a id="A:538" class="idref" href="#A:538"><span class="id" title="binder">A</span></a>} (<a id="ma:539" class="idref" href="#ma:539"><span class="id" title="binder">ma</span></a> <a id="ma':540" class="idref" href="#ma':540"><span class="id" title="binder">ma'</span></a>: <a class="idref" href="ITree.EqmR.EqmRMonad.html#Comp.m"><span class="id" title="variable">m</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A:538"><span class="id" title="variable">A</span></a>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.EqmR.EqmRMonad.html#eqmR"><span class="id" title="method">eqmR</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#ma:539"><span class="id" title="variable">ma</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#ma':540"><span class="id" title="variable">ma'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#eqmR"><span class="id" title="method">eqmR</span></a> (<a class="idref" href="ITree.EqmR.EqmRMonad.html#image"><span class="id" title="definition">image</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#ma:539"><span class="id" title="variable">ma</span></a>) <a class="idref" href="ITree.EqmR.EqmRMonad.html#ma:539"><span class="id" title="variable">ma</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#ma':540"><span class="id" title="variable">ma'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#Proper_eqmR_cong"><span class="id" title="instance">Proper_eqmR_cong</span></a>; <span class="id" title="tactic">eauto</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#image_eqmR"><span class="id" title="definition">image_eqmR</span></a>. <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#image_subset"><span class="id" title="lemma">image_subset</span></a>; <span class="id" title="tactic">eauto</span>...<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#Comp"><span class="id" title="section">Comp</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="EqmRConsequences" class="idref" href="#EqmRConsequences"><span class="id" title="section">EqmRConsequences</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="m:541" class="idref" href="#m:541"><span class="id" title="binder">m</span></a> : <span class="id" title="keyword">Type</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Type</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="Mm:542" class="idref" href="#Mm:542"><span class="id" title="binder">Mm</span></a> : <span class="id" title="class">Monad</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#EqmRConsequences.m"><span class="id" title="variable">m</span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="EqMR:543" class="idref" href="#EqMR:543"><span class="id" title="binder">EqMR</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#EqmR"><span class="id" title="class">EqmR</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#EqmRConsequences.m"><span class="id" title="variable">m</span></a>} {<a id="EqmRm:544" class="idref" href="#EqmRm:544"><span class="id" title="binder">EqmRm</span></a>: <a class="idref" href="ITree.EqmR.EqmRMonad.html#EqmRMonadLaws"><span class="id" title="class">EqmRMonadLaws</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#EqmRConsequences.m"><span class="id" title="variable">m</span></a>} {<a id="EqmROKm:545" class="idref" href="#EqmROKm:545"><span class="id" title="binder">EqmROKm</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#EqmR_OK"><span class="id" title="class">EqmR_OK</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#EqmRConsequences.m"><span class="id" title="variable">m</span></a>} {<a id="EqmRMonadInverses:546" class="idref" href="#EqmRMonadInverses:546"><span class="id" title="binder">EqmRMonadInverses</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#EqmRInversionProperties"><span class="id" title="class">EqmRInversionProperties</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#EqmRConsequences.m"><span class="id" title="variable">m</span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="eqmR_bind_ProperH_simple" class="idref" href="#eqmR_bind_ProperH_simple"><span class="id" title="lemma">eqmR_bind_ProperH_simple</span></a> : <span class="id" title="keyword">forall</span> {<a id="A1:547" class="idref" href="#A1:547"><span class="id" title="binder">A1</span></a> <a id="A2:548" class="idref" href="#A2:548"><span class="id" title="binder">A2</span></a> <a id="B1:549" class="idref" href="#B1:549"><span class="id" title="binder">B1</span></a> <a id="B2:550" class="idref" href="#B2:550"><span class="id" title="binder">B2</span></a> : <span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="RA:551" class="idref" href="#RA:551"><span class="id" title="binder">RA</span></a> : <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#relationH"><span class="id" title="definition">relationH</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A1:547"><span class="id" title="variable">A1</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A2:548"><span class="id" title="variable">A2</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="RB:552" class="idref" href="#RB:552"><span class="id" title="binder">RB</span></a> : <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#relationH"><span class="id" title="definition">relationH</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#B1:549"><span class="id" title="variable">B1</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#B2:550"><span class="id" title="variable">B2</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="ma1:553" class="idref" href="#ma1:553"><span class="id" title="binder">ma1</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#EqmRConsequences.m"><span class="id" title="variable">m</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A1:547"><span class="id" title="variable">A1</span></a>) (<a id="ma2:554" class="idref" href="#ma2:554"><span class="id" title="binder">ma2</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#EqmRConsequences.m"><span class="id" title="variable">m</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A2:548"><span class="id" title="variable">A2</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="k1:555" class="idref" href="#k1:555"><span class="id" title="binder">k1</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#A1:547"><span class="id" title="variable">A1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#EqmRConsequences.m"><span class="id" title="variable">m</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#B1:549"><span class="id" title="variable">B1</span></a>) (<a id="k2:556" class="idref" href="#k2:556"><span class="id" title="binder">k2</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#A2:548"><span class="id" title="variable">A2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#EqmRConsequences.m"><span class="id" title="variable">m</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#B2:550"><span class="id" title="variable">B2</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.EqmR.EqmRMonad.html#ma1:553"><span class="id" title="variable">ma1</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">≈{</span></a><a class="idref" href="ITree.EqmR.EqmRMonad.html#RA:551"><span class="id" title="variable">RA</span></a><a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">}</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#ma2:554"><span class="id" title="variable">ma2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">forall</span> <a id="a1:557" class="idref" href="#a1:557"><span class="id" title="binder">a1</span></a> <a id="a2:558" class="idref" href="#a2:558"><span class="id" title="binder">a2</span></a>, <a class="idref" href="ITree.EqmR.EqmRMonad.html#RA:551"><span class="id" title="variable">RA</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#a1:557"><span class="id" title="variable">a1</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#a2:558"><span class="id" title="variable">a2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#k1:555"><span class="id" title="variable">k1</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#a1:557"><span class="id" title="variable">a1</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">≈{</span></a><a class="idref" href="ITree.EqmR.EqmRMonad.html#RB:552"><span class="id" title="variable">RB</span></a><a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">}</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#k2:556"><span class="id" title="variable">k2</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#a2:558"><span class="id" title="variable">a2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="method">bind</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#ma1:553"><span class="id" title="variable">ma1</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#k1:555"><span class="id" title="variable">k1</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">≈{</span></a><a class="idref" href="ITree.EqmR.EqmRMonad.html#RB:552"><span class="id" title="variable">RB</span></a><a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">}</span></a> <span class="id" title="method">bind</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#ma2:554"><span class="id" title="variable">ma2</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#k2:556"><span class="id" title="variable">k2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#Proper_bind"><span class="id" title="definition">Proper_bind</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">RR</span> := <span class="id" title="var">RA</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a id="Proper_eqmR_eq_impl" class="idref" href="#Proper_eqmR_eq_impl"><span class="id" title="instance">Proper_eqmR_eq_impl</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> {<a id="m:559" class="idref" href="#m:559"><span class="id" title="binder">m</span></a> : <span class="id" title="keyword">Type</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Type</span>} {<a id="Mm:560" class="idref" href="#Mm:560"><span class="id" title="binder">Mm</span></a> : <span class="id" title="class">Monad</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#m:559"><span class="id" title="variable">m</span></a>} {<a id="E:561" class="idref" href="#E:561"><span class="id" title="binder">E</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#EqmR"><span class="id" title="class">EqmR</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#m:559"><span class="id" title="variable">m</span></a>},<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.EqmR.EqmRMonad.html#EqmR_OK"><span class="id" title="class">EqmR_OK</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#m:559"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">forall</span> <a id="A:562" class="idref" href="#A:562"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="ITree.EqmR.EqmRMonad.html#eqmR"><span class="id" title="method">eqmR</span></a> (@<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A:562"><span class="id" title="variable">A</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#eqmR"><span class="id" title="method">eqmR</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Program.Basics.html#flip"><span class="id" title="definition">Basics.flip</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Program.Basics.html#impl"><span class="id" title="definition">Basics.impl</span></a>) (<a class="idref" href="ITree.EqmR.EqmRMonad.html#eqmR"><span class="id" title="method">eqmR</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etransitivity</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etransitivity</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">symmetry</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a id="imageH_diag_Zigzag" class="idref" href="#imageH_diag_Zigzag"><span class="id" title="instance">imageH_diag_Zigzag</span></a> {<a id="A:563" class="idref" href="#A:563"><span class="id" title="binder">A</span></a>} (<a id="ma:564" class="idref" href="#ma:564"><span class="id" title="binder">ma</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#EqmRConsequences.m"><span class="id" title="variable">m</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A:563"><span class="id" title="variable">A</span></a>) : <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#Zigzag"><span class="id" title="class">Zigzag</span></a> (<a class="idref" href="ITree.EqmR.EqmRMonad.html#imageH_diag"><span class="id" title="definition">imageH_diag</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#ma:564"><span class="id" title="variable">ma</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> @<a class="idref" href="ITree.EqmR.EqmRMonad.html#imageH_diag_PER"><span class="id" title="lemma">imageH_diag_PER</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#PER_is_ZZC"><span class="id" title="lemma">PER_is_ZZC</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="image_bind_eq" class="idref" href="#image_bind_eq"><span class="id" title="lemma">image_bind_eq</span></a> {<a id="A:565" class="idref" href="#A:565"><span class="id" title="binder">A</span></a> <a id="B:566" class="idref" href="#B:566"><span class="id" title="binder">B</span></a>:<span class="id" title="keyword">Type</span>} (<a id="ma:567" class="idref" href="#ma:567"><span class="id" title="binder">ma</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#EqmRConsequences.m"><span class="id" title="variable">m</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A:565"><span class="id" title="variable">A</span></a>) (<a id="k1:568" class="idref" href="#k1:568"><span class="id" title="binder">k1</span></a> <a id="k2:569" class="idref" href="#k2:569"><span class="id" title="binder">k2</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#A:565"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#EqmRConsequences.m"><span class="id" title="variable">m</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#B:566"><span class="id" title="variable">B</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="HK:572" class="idref" href="#HK:572"><span class="id" title="binder">HK</span></a> : <span class="id" title="keyword">forall</span> (<a id="a1:570" class="idref" href="#a1:570"><span class="id" title="binder">a1</span></a> <a id="a2:571" class="idref" href="#a2:571"><span class="id" title="binder">a2</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#A:565"><span class="id" title="variable">A</span></a>), <a class="idref" href="ITree.EqmR.EqmRMonad.html#image"><span class="id" title="definition">image</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#ma:567"><span class="id" title="variable">ma</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#a1:570"><span class="id" title="variable">a1</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#a2:571"><span class="id" title="variable">a2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#k1:568"><span class="id" title="variable">k1</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#a1:570"><span class="id" title="variable">a1</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">≈{</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a><a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">}</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#k2:569"><span class="id" title="variable">k2</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#a2:571"><span class="id" title="variable">a2</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="method">bind</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#ma:567"><span class="id" title="variable">ma</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#k1:568"><span class="id" title="variable">k1</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">≈{</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a><a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">}</span></a> <span class="id" title="method">bind</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#ma:567"><span class="id" title="variable">ma</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#k2:569"><span class="id" title="variable">k2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#eqmR_bind_ProperH"><span class="id" title="method">eqmR_bind_ProperH</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">RR</span> := <a class="idref" href="ITree.EqmR.EqmRMonad.html#image"><span class="id" title="definition">image</span></a> <span class="id" title="var">ma</span>); <span class="id" title="tactic">auto</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#image_eqmR"><span class="id" title="definition">image_eqmR</span></a>. <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="image_ret_bind" class="idref" href="#image_ret_bind"><span class="id" title="lemma">image_ret_bind</span></a> {<a id="A:573" class="idref" href="#A:573"><span class="id" title="binder">A</span></a>:<span class="id" title="keyword">Type</span>} (<a id="ma:574" class="idref" href="#ma:574"><span class="id" title="binder">ma</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#EqmRConsequences.m"><span class="id" title="variable">m</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A:573"><span class="id" title="variable">A</span></a>) (<a id="k:575" class="idref" href="#k:575"><span class="id" title="binder">k</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#A:573"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#EqmRConsequences.m"><span class="id" title="variable">m</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A:573"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">forall</span> (<a id="a1:576" class="idref" href="#a1:576"><span class="id" title="binder">a1</span></a> <a id="a2:577" class="idref" href="#a2:577"><span class="id" title="binder">a2</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#A:573"><span class="id" title="variable">A</span></a>), <a class="idref" href="ITree.EqmR.EqmRMonad.html#image"><span class="id" title="definition">image</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#ma:574"><span class="id" title="variable">ma</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#a1:576"><span class="id" title="variable">a1</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#a2:577"><span class="id" title="variable">a2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#k:575"><span class="id" title="variable">k</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#a1:576"><span class="id" title="variable">a1</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">≈{</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a><a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">}</span></a> <span class="id" title="method">ret</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#a2:577"><span class="id" title="variable">a2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="method">bind</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#ma:574"><span class="id" title="variable">ma</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#k:575"><span class="id" title="variable">k</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">≈{</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a><a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">}</span></a> <span class="id" title="method">bind</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#ma:574"><span class="id" title="variable">ma</span></a> <span class="id" title="method">ret</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#image_bind_eq"><span class="id" title="lemma">image_bind_eq</span></a>. <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="mayRet_image1" class="idref" href="#mayRet_image1"><span class="id" title="lemma">mayRet_image1</span></a> {<a id="A:578" class="idref" href="#A:578"><span class="id" title="binder">A</span></a>:<span class="id" title="keyword">Type</span>} (<a id="ma:579" class="idref" href="#ma:579"><span class="id" title="binder">ma</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#EqmRConsequences.m"><span class="id" title="variable">m</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A:578"><span class="id" title="variable">A</span></a>) (<a id="a1:580" class="idref" href="#a1:580"><span class="id" title="binder">a1</span></a> <a id="a2:581" class="idref" href="#a2:581"><span class="id" title="binder">a2</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#A:578"><span class="id" title="variable">A</span></a>) (<a id="HI:582" class="idref" href="#HI:582"><span class="id" title="binder">HI</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#image"><span class="id" title="definition">image</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#ma:579"><span class="id" title="variable">ma</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#a1:580"><span class="id" title="variable">a1</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#a2:581"><span class="id" title="variable">a2</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.EqmR.EqmRMonad.html#a1:580"><span class="id" title="variable">a1</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#91e97f679796ae2f33b88d366e97515d"><span class="id" title="notation">∈</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#ma:579"><span class="id" title="variable">ma</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">red</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">HI</span> <span class="id" title="var">R</span> <span class="id" title="var">PH</span> <span class="id" title="var">EQR</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<span class="id" title="var">R</span> <span class="id" title="var">a1</span> <span class="id" title="var">a1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">PER_reflexivityH</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="mayRet_image2" class="idref" href="#mayRet_image2"><span class="id" title="lemma">mayRet_image2</span></a> {<a id="A:583" class="idref" href="#A:583"><span class="id" title="binder">A</span></a>:<span class="id" title="keyword">Type</span>} (<a id="ma:584" class="idref" href="#ma:584"><span class="id" title="binder">ma</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#EqmRConsequences.m"><span class="id" title="variable">m</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A:583"><span class="id" title="variable">A</span></a>) (<a id="a1:585" class="idref" href="#a1:585"><span class="id" title="binder">a1</span></a> <a id="a2:586" class="idref" href="#a2:586"><span class="id" title="binder">a2</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#A:583"><span class="id" title="variable">A</span></a>) (<a id="HI:587" class="idref" href="#HI:587"><span class="id" title="binder">HI</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#image"><span class="id" title="definition">image</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#ma:584"><span class="id" title="variable">ma</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#a1:585"><span class="id" title="variable">a1</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#a2:586"><span class="id" title="variable">a2</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.EqmR.EqmRMonad.html#a2:586"><span class="id" title="variable">a2</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#91e97f679796ae2f33b88d366e97515d"><span class="id" title="notation">∈</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#ma:584"><span class="id" title="variable">ma</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">red</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">HI</span> <span class="id" title="var">R</span> <span class="id" title="var">PH</span> <span class="id" title="var">EQR</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<span class="id" title="var">R</span> <span class="id" title="var">a2</span> <span class="id" title="var">a2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">PER_reflexivityH</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="image_ma_eq" class="idref" href="#image_ma_eq"><span class="id" title="lemma">image_ma_eq</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="A:588" class="idref" href="#A:588"><span class="id" title="binder">A</span></a> (<a id="ma1:589" class="idref" href="#ma1:589"><span class="id" title="binder">ma1</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#EqmRConsequences.m"><span class="id" title="variable">m</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A:588"><span class="id" title="variable">A</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.EqmR.EqmRMonad.html#ma1:589"><span class="id" title="variable">ma1</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">≈{</span></a><span class="id" title="keyword">fun</span> <a id="x:590" class="idref" href="#x:590"><span class="id" title="binder">x</span></a> <a id="y:591" class="idref" href="#y:591"><span class="id" title="binder">y</span></a> =&gt; <a class="idref" href="ITree.EqmR.EqmRMonad.html#x:590"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#y:591"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#x:590"><span class="id" title="variable">x</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#91e97f679796ae2f33b88d366e97515d"><span class="id" title="notation">∈</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#ma1:589"><span class="id" title="variable">ma1</span></a><a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">}</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#ma1:589"><span class="id" title="variable">ma1</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#eqmR_rel_conj"><span class="id" title="method">eqmR_rel_conj</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#Proper_eqmR_mono"><span class="id" title="method">Proper_eqmR_mono</span></a>. 2 : <span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#image_eqmR"><span class="id" title="definition">image_eqmR</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ? ?. <span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#mayRet_image1"><span class="id" title="lemma">mayRet_image1</span></a>. <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;#[<span class="id" title="var">global</span>] <span class="id" title="keyword">Instance</span> <a id="image_post'" class="idref" href="#image_post'"><span class="id" title="instance">image_post'</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#ImagePost"><span class="id" title="class">ImagePost</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#EqmRConsequences.m"><span class="id" title="variable">m</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="ITree.EqmR.EqmRMonad.html#eqmR_rel_comp"><span class="id" title="method">eqmR_rel_comp</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#EqmRConsequences.m"><span class="id" title="variable">m</span></a>). <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H0</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="ITree.EqmR.EqmRMonad.html#image_ma_eq"><span class="id" title="lemma">image_ma_eq</span></a> <span class="id" title="var">_</span> <span class="id" title="var">ma1</span>) <span class="id" title="var">H</span>). <span class="id" title="tactic">unfold</span> <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#rel_compose"><span class="id" title="definition">rel_compose</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="ITree.EqmR.EqmRMonad.html#eqmR_rel_comp"><span class="id" title="method">eqmR_rel_comp</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#EqmRConsequences.m"><span class="id" title="variable">m</span></a>). <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H1</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H0</span> (<a class="idref" href="ITree.EqmR.EqmRMonad.html#image_ma_eq"><span class="id" title="lemma">image_ma_eq</span></a> <span class="id" title="var">_</span> <span class="id" title="var">ma2</span>)). <span class="id" title="tactic">unfold</span> <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#rel_compose"><span class="id" title="definition">rel_compose</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#Proper_eqmR_mono"><span class="id" title="method">Proper_eqmR_mono</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#rel_compose"><span class="id" title="definition">rel_compose</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H2</span> <span class="id" title="keyword">as</span> (?&amp;?&amp;?).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H2</span> <span class="id" title="keyword">as</span> (?&amp;?&amp;?). <span class="id" title="tactic">destruct</span> <span class="id" title="var">H2</span>, <span class="id" title="var">H3</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="clo_bind_gen" class="idref" href="#clo_bind_gen"><span class="id" title="lemma">clo_bind_gen</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> {<a id="A1:592" class="idref" href="#A1:592"><span class="id" title="binder">A1</span></a> <a id="A2:593" class="idref" href="#A2:593"><span class="id" title="binder">A2</span></a> <a id="B1:594" class="idref" href="#B1:594"><span class="id" title="binder">B1</span></a> <a id="B2:595" class="idref" href="#B2:595"><span class="id" title="binder">B2</span></a> : <span class="id" title="keyword">Type</span>} (<a id="RR:596" class="idref" href="#RR:596"><span class="id" title="binder">RR</span></a> : <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#relationH"><span class="id" title="definition">relationH</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A1:592"><span class="id" title="variable">A1</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A2:593"><span class="id" title="variable">A2</span></a>) (<a id="RB:597" class="idref" href="#RB:597"><span class="id" title="binder">RB</span></a> : <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#relationH"><span class="id" title="definition">relationH</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#B1:594"><span class="id" title="variable">B1</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#B2:595"><span class="id" title="variable">B2</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="ma1:598" class="idref" href="#ma1:598"><span class="id" title="binder">ma1</span></a> <a id="ma2:599" class="idref" href="#ma2:599"><span class="id" title="binder">ma2</span></a> <a id="k1:600" class="idref" href="#k1:600"><span class="id" title="binder">k1</span></a> <a id="k2:601" class="idref" href="#k2:601"><span class="id" title="binder">k2</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.EqmR.EqmRMonad.html#ma1:598"><span class="id" title="variable">ma1</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">≈{</span></a><a class="idref" href="ITree.EqmR.EqmRMonad.html#RR:596"><span class="id" title="variable">RR</span></a><a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">}</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#ma2:599"><span class="id" title="variable">ma2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">forall</span> (<a id="a1:602" class="idref" href="#a1:602"><span class="id" title="binder">a1</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#A1:592"><span class="id" title="variable">A1</span></a>) (<a id="a2:603" class="idref" href="#a2:603"><span class="id" title="binder">a2</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#A2:593"><span class="id" title="variable">A2</span></a>), <a class="idref" href="ITree.EqmR.EqmRMonad.html#a1:602"><span class="id" title="variable">a1</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#91e97f679796ae2f33b88d366e97515d"><span class="id" title="notation">∈</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#ma1:598"><span class="id" title="variable">ma1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#a2:603"><span class="id" title="variable">a2</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#91e97f679796ae2f33b88d366e97515d"><span class="id" title="notation">∈</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#ma2:599"><span class="id" title="variable">ma2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#RR:596"><span class="id" title="variable">RR</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#a1:602"><span class="id" title="variable">a1</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#a2:603"><span class="id" title="variable">a2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#k1:600"><span class="id" title="variable">k1</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#a1:602"><span class="id" title="variable">a1</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">≈{</span></a><a class="idref" href="ITree.EqmR.EqmRMonad.html#RB:597"><span class="id" title="variable">RB</span></a><a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">}</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#k2:601"><span class="id" title="variable">k2</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#a2:603"><span class="id" title="variable">a2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="method">bind</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#ma1:598"><span class="id" title="variable">ma1</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#k1:600"><span class="id" title="variable">k1</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">≈{</span></a><a class="idref" href="ITree.EqmR.EqmRMonad.html#RB:597"><span class="id" title="variable">RB</span></a><a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">}</span></a> <span class="id" title="method">bind</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#ma2:599"><span class="id" title="variable">ma2</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#k2:601"><span class="id" title="variable">k2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#Proper_bind"><span class="id" title="definition">Proper_bind</span></a>. <span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#image_post"><span class="id" title="definition">image_post</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">intros</span> ? ? (?&amp;?&amp;?); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#EqmRConsequences"><span class="id" title="section">EqmRConsequences</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="InversionFacts" class="idref" href="#InversionFacts"><span class="id" title="section">InversionFacts</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="m:604" class="idref" href="#m:604"><span class="id" title="binder">m</span></a> : <span class="id" title="keyword">Type</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Type</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="Mm:605" class="idref" href="#Mm:605"><span class="id" title="binder">Mm</span></a> : <span class="id" title="class">Monad</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#InversionFacts.m"><span class="id" title="variable">m</span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="EqMR:606" class="idref" href="#EqMR:606"><span class="id" title="binder">EqMR</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#EqmR"><span class="id" title="class">EqmR</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#InversionFacts.m"><span class="id" title="variable">m</span></a>} {<a id="EqmRm:607" class="idref" href="#EqmRm:607"><span class="id" title="binder">EqmRm</span></a>: <a class="idref" href="ITree.EqmR.EqmRMonad.html#EqmRMonadLaws"><span class="id" title="class">EqmRMonadLaws</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#InversionFacts.m"><span class="id" title="variable">m</span></a>} {<a id="EqmROKm:608" class="idref" href="#EqmROKm:608"><span class="id" title="binder">EqmROKm</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#EqmR_OK"><span class="id" title="class">EqmR_OK</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#InversionFacts.m"><span class="id" title="variable">m</span></a>} {<a id="EqmRMonadInverses:609" class="idref" href="#EqmRMonadInverses:609"><span class="id" title="binder">EqmRMonadInverses</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#EqmRInversionProperties"><span class="id" title="class">EqmRInversionProperties</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#InversionFacts.m"><span class="id" title="variable">m</span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a id="FmapInvRet'" class="idref" href="#FmapInvRet'"><span class="id" title="instance">FmapInvRet'</span></a>: <a class="idref" href="ITree.EqmR.EqmRMonad.html#FmapInvRet"><span class="id" title="class">FmapInvRet</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#InversionFacts.m"><span class="id" title="variable">m</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#fmap_inv"><span class="id" title="definition">fmap_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#eqmR_inv"><span class="id" title="definition">eqmR_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>. 2 : <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#eqmR_ret"><span class="id" title="method">eqmR_ret</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a id="FmapInvMayRet'" class="idref" href="#FmapInvMayRet'"><span class="id" title="instance">FmapInvMayRet'</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#FmapInv_mayRet"><span class="id" title="class">FmapInv_mayRet</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#InversionFacts.m"><span class="id" title="variable">m</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#fmap_inv"><span class="id" title="definition">fmap_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#mayRet_rel"><span class="id" title="definition">mayRet_rel</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#image_post"><span class="id" title="definition">image_post</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#Proper_eqmR_mono"><span class="id" title="method">Proper_eqmR_mono</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span> <span class="id" title="keyword">as</span> (?&amp;?&amp;?); <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="mayRet_fmap_inv" class="idref" href="#mayRet_fmap_inv"><span class="id" title="lemma">mayRet_fmap_inv</span></a> {<a id="A:610" class="idref" href="#A:610"><span class="id" title="binder">A</span></a> <a id="B:611" class="idref" href="#B:611"><span class="id" title="binder">B</span></a>: <span class="id" title="keyword">Type</span>} (<a id="ma:612" class="idref" href="#ma:612"><span class="id" title="binder">ma</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#InversionFacts.m"><span class="id" title="variable">m</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A:610"><span class="id" title="variable">A</span></a>) (<a id="k:613" class="idref" href="#k:613"><span class="id" title="binder">k</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#A:610"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#B:611"><span class="id" title="variable">B</span></a>) (<a id="a:614" class="idref" href="#a:614"><span class="id" title="binder">a</span></a>:<a class="idref" href="ITree.EqmR.EqmRMonad.html#A:610"><span class="id" title="variable">A</span></a>) (<a id="b:615" class="idref" href="#b:615"><span class="id" title="binder">b</span></a>:<a class="idref" href="ITree.EqmR.EqmRMonad.html#B:611"><span class="id" title="variable">B</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.EqmR.EqmRMonad.html#a:614"><span class="id" title="variable">a</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#91e97f679796ae2f33b88d366e97515d"><span class="id" title="notation">∈</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#ma:612"><span class="id" title="variable">ma</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.EqmR.EqmRMonad.html#b:615"><span class="id" title="variable">b</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#91e97f679796ae2f33b88d366e97515d"><span class="id" title="notation">∈</span></a> <span class="id" title="method">ret</span> (<a class="idref" href="ITree.EqmR.EqmRMonad.html#k:613"><span class="id" title="variable">k</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#a:614"><span class="id" title="variable">a</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.EqmR.EqmRMonad.html#b:615"><span class="id" title="variable">b</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#91e97f679796ae2f33b88d366e97515d"><span class="id" title="notation">∈</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#91e97f679796ae2f33b88d366e97515d"><span class="id" title="notation">(</span></a><a class="idref" href="ITree.EqmR.EqmRMonad.html#k:613"><span class="id" title="variable">k</span></a> <span class="id" title="notation">&lt;$&gt;</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#ma:612"><span class="id" title="variable">ma</span></a><a class="idref" href="ITree.EqmR.EqmRMonad.html#91e97f679796ae2f33b88d366e97515d"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">HM</span> <span class="id" title="var">HK</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">red</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#fmap_inv_ret"><span class="id" title="definition">fmap_inv_ret</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">EQR</span> ; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#ret_inv"><span class="id" title="definition">ret_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">EQR</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">HK</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#final"><span class="id" title="definition">final</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="fmap_image" class="idref" href="#fmap_image"><span class="id" title="lemma">fmap_image</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="A:616" class="idref" href="#A:616"><span class="id" title="binder">A</span></a> <a id="B:617" class="idref" href="#B:617"><span class="id" title="binder">B</span></a> (<a id="x:618" class="idref" href="#x:618"><span class="id" title="binder">x</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#B:617"><span class="id" title="variable">B</span></a>) (<a id="f:619" class="idref" href="#f:619"><span class="id" title="binder">f</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#A:616"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#B:617"><span class="id" title="variable">B</span></a>) (<a id="ma:620" class="idref" href="#ma:620"><span class="id" title="binder">ma</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#InversionFacts.m"><span class="id" title="variable">m</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A:616"><span class="id" title="variable">A</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.EqmR.EqmRMonad.html#x:618"><span class="id" title="variable">x</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#91e97f679796ae2f33b88d366e97515d"><span class="id" title="notation">∈</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#91e97f679796ae2f33b88d366e97515d"><span class="id" title="notation">(</span></a><a class="idref" href="ITree.EqmR.EqmRMonad.html#f:619"><span class="id" title="variable">f</span></a> <span class="id" title="notation">&lt;$&gt;</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#ma:620"><span class="id" title="variable">ma</span></a><a class="idref" href="ITree.EqmR.EqmRMonad.html#91e97f679796ae2f33b88d366e97515d"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="y:621" class="idref" href="#y:621"><span class="id" title="binder">y</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#y:621"><span class="id" title="variable">y</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#91e97f679796ae2f33b88d366e97515d"><span class="id" title="notation">∈</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#ma:620"><span class="id" title="variable">ma</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="ITree.EqmR.EqmRMonad.html#f:619"><span class="id" title="variable">f</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#y:621"><span class="id" title="variable">y</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#x:618"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#mayRet_bind_inv"><span class="id" title="definition">mayRet_bind_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> (? &amp; ? &amp; ?).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#mayRet"><span class="id" title="definition">mayRet</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#ret_image"><span class="id" title="lemma">ret_image</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> (? &amp; ? &amp; ?).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#fmap_inv"><span class="id" title="definition">fmap_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">EQR</span>; <span class="id" title="tactic">eauto</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#eqmR_mayRet_l"><span class="id" title="method">eqmR_mayRet_l</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">EQR</span>; <span class="id" title="tactic">eauto</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">EQR</span> <span class="id" title="var">_</span> <span class="id" title="var">H</span>). <span class="id" title="tactic">destruct</span> <span class="id" title="var">EQR</span> <span class="id" title="keyword">as</span> (? &amp; ? &amp; ?). <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">PER_reflexivityH</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="eqmR_fmap_R" class="idref" href="#eqmR_fmap_R"><span class="id" title="lemma">eqmR_fmap_R</span></a> {<a id="A:622" class="idref" href="#A:622"><span class="id" title="binder">A</span></a>} (<a id="ma:623" class="idref" href="#ma:623"><span class="id" title="binder">ma</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#InversionFacts.m"><span class="id" title="variable">m</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A:622"><span class="id" title="variable">A</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">forall</span> <a id="B:624" class="idref" href="#B:624"><span class="id" title="binder">B</span></a> (<a id="mb:625" class="idref" href="#mb:625"><span class="id" title="binder">mb</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#InversionFacts.m"><span class="id" title="variable">m</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#B:624"><span class="id" title="variable">B</span></a>) (<a id="f:626" class="idref" href="#f:626"><span class="id" title="binder">f</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#B:624"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A:622"><span class="id" title="variable">A</span></a>) (<a id="R:627" class="idref" href="#R:627"><span class="id" title="binder">R</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#A:622"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#A:622"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.EqmR.EqmRMonad.html#ma:623"><span class="id" title="variable">ma</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">≈{(</span></a><span class="id" title="keyword">fun</span> <a id="x:628" class="idref" href="#x:628"><span class="id" title="binder">x</span></a> <a id="y:629" class="idref" href="#y:629"><span class="id" title="binder">y</span></a> =&gt; <a class="idref" href="ITree.EqmR.EqmRMonad.html#R:627"><span class="id" title="variable">R</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#x:628"><span class="id" title="variable">x</span></a> (<a class="idref" href="ITree.EqmR.EqmRMonad.html#f:626"><span class="id" title="variable">f</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#y:629"><span class="id" title="variable">y</span></a>)<a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">)}</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#mb:625"><span class="id" title="variable">mb</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#ma:623"><span class="id" title="variable">ma</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">≈{</span></a><a class="idref" href="ITree.EqmR.EqmRMonad.html#R:627"><span class="id" title="variable">R</span></a><a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">}</span></a> <span class="id" title="method">fmap</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#f:626"><span class="id" title="variable">f</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#mb:625"><span class="id" title="variable">mb</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">(</span></a><a id="x:632" class="idref" href="#x:632"><span class="id" title="binder">x</span></a> <span class="id" title="notation">&lt;-</span> <span class="id" title="var">ma</span><span class="id" title="notation">;;</span> <span class="id" title="method">ret</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#x:630"><span class="id" title="variable">x</span></a><a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">)</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">≈{</span></a><span class="id" title="var">R</span><a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">}</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">(</span></a><a id="x:633" class="idref" href="#x:633"><span class="id" title="binder">x</span></a> <span class="id" title="notation">&lt;-</span> <span class="id" title="var">mb</span><span class="id" title="notation">;;</span> <span class="id" title="method">ret</span> (<span class="id" title="var">f</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#x:631"><span class="id" title="variable">x</span></a>)<a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">)</span></a>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#eqmR_bind_ProperH"><span class="id" title="method">eqmR_bind_ProperH</span></a>; <span class="id" title="tactic">eauto</span>; <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;1: <span class="id" title="tactic">apply</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#eqmR_ret"><span class="id" title="method">eqmR_ret</span></a>; <span class="id" title="tactic">eauto</span>...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#Proper_eqmR_cong"><span class="id" title="instance">Proper_eqmR_cong</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#bind_ret_r"><span class="id" title="definition">bind_ret_r</span></a>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="method">fmap</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#InversionFacts"><span class="id" title="section">InversionFacts</span></a>.<br/>

<br/>
<span class="id" title="keyword">Class</span> <a id="EQM" class="idref" href="#EQM"><span class="id" title="record">EQM</span></a> (<a id="M:634" class="idref" href="#M:634"><span class="id" title="binder">M</span></a> : <span class="id" title="keyword">Type</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Type</span>) {<a id="Monad_M:635" class="idref" href="#Monad_M:635"><span class="id" title="binder">Monad_M</span></a> : <span class="id" title="class">Monad</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#M:634"><span class="id" title="variable">M</span></a>} (<a id="EQM_EqmR:636" class="idref" href="#EQM_EqmR:636"><span class="id" title="binder">EQM_EqmR</span></a> : <a class="idref" href="ITree.EqmR.EqmRMonad.html#EqmR"><span class="id" title="class">EqmR</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#M:634"><span class="id" title="variable">M</span></a>):= {<br/>
&nbsp;&nbsp;<a id="EQM_EqmR_OK" class="idref" href="#EQM_EqmR_OK"><span class="id" title="projection">EQM_EqmR_OK</span></a> :&gt; <a class="idref" href="ITree.EqmR.EqmRMonad.html#EqmR_OK"><span class="id" title="class">EqmR_OK</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#M:634"><span class="id" title="variable">M</span></a>;<br/>
&nbsp;&nbsp;<a id="EQM_EqmRMonad" class="idref" href="#EQM_EqmRMonad"><span class="id" title="projection">EQM_EqmRMonad</span></a> :&gt; <a class="idref" href="ITree.EqmR.EqmRMonad.html#EqmRMonadLaws"><span class="id" title="class">EqmRMonadLaws</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#M:634"><span class="id" title="variable">M</span></a>;<br/>
&nbsp;&nbsp;<a id="EQM_EqmRMonadInverses" class="idref" href="#EQM_EqmRMonadInverses"><span class="id" title="projection">EQM_EqmRMonadInverses</span></a> :&gt; <a class="idref" href="ITree.EqmR.EqmRMonad.html#EqmRInversionProperties"><span class="id" title="class">EqmRInversionProperties</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#M:634"><span class="id" title="variable">M</span></a><br/>
}.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
