<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="../">Project Page</a>
      <a href="./indexpage.html"> Index </a>
      <a href="./toc.html"> Table of Contents </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">ITree.EqmR.Monads.ITree_strong</h1>

<div class="code">
</div>

<div class="doc">
*EqmR-related laws for the itree monad with strong bisimulation. 
</div>
<div class="code">
<span class="comment">(*&nbsp;This&nbsp;file&nbsp;provides&nbsp;the&nbsp;instances&nbsp;for&nbsp;eqmR-related&nbsp;laws&nbsp;for&nbsp;the&nbsp;itree&nbsp;monad<br/>
&nbsp;with&nbsp;strong&nbsp;bisimulation,&nbsp;<span class="inlinecode"><span class="id" title="var">eq_itree</span></span>.&nbsp;*)</span><br/>

<br/>

<br/>
#[<span class="id" title="var">global</span>]<br/>
<span class="id" title="keyword">Instance</span> <a id="EqmR_ITree_strong" class="idref" href="#EqmR_ITree_strong"><span class="id" title="instance">EqmR_ITree_strong</span></a> {<a id="E:1" class="idref" href="#E:1"><span class="id" title="binder">E</span></a>} : <a class="idref" href="ITree.EqmR.EqmRMonad.html#EqmR"><span class="id" title="class">EqmR</span></a> (<a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#E:1"><span class="id" title="variable">E</span></a>) := {| <a class="idref" href="ITree.EqmR.EqmRMonad.html#eqmR"><span class="id" title="method">eqmR</span></a> := <span class="id" title="keyword">fun</span> <a id="a:2" class="idref" href="#a:2"><span class="id" title="binder">a</span></a> <a id="b:3" class="idref" href="#b:3"><span class="id" title="binder">b</span></a> =&gt; <a class="idref" href="ITree.Eq.Eq.html#eq_itree"><span class="id" title="definition">eq_itree</span></a> |}.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="compose_rcompose_equiv" class="idref" href="#compose_rcompose_equiv"><span class="id" title="lemma">compose_rcompose_equiv</span></a> : <span class="id" title="keyword">forall</span> {<a id="A:4" class="idref" href="#A:4"><span class="id" title="binder">A</span></a> <a id="B:5" class="idref" href="#B:5"><span class="id" title="binder">B</span></a> <a id="C:6" class="idref" href="#C:6"><span class="id" title="binder">C</span></a>} (<a id="R1:7" class="idref" href="#R1:7"><span class="id" title="binder">R1</span></a> : <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#relationH"><span class="id" title="definition">relationH</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#A:4"><span class="id" title="variable">A</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#B:5"><span class="id" title="variable">B</span></a>) (<a id="R2:8" class="idref" href="#R2:8"><span class="id" title="binder">R2</span></a> : <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#relationH"><span class="id" title="definition">relationH</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#B:5"><span class="id" title="variable">B</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#C:6"><span class="id" title="variable">C</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="ITree.Basics.HeterogeneousRelations.html#eq_rel"><span class="id" title="definition">eq_rel</span></a> (<a class="idref" href="ITree.Eq.Eq.html#rcompose"><span class="id" title="inductive">rcompose</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#R1:7"><span class="id" title="variable">R1</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#R2:8"><span class="id" title="variable">R2</span></a>) (<a class="idref" href="ITree.Basics.HeterogeneousRelations.html#rel_compose"><span class="id" title="definition">rel_compose</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#R2:8"><span class="id" title="variable">R2</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#R1:7"><span class="id" title="variable">R1</span></a>) .<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Program.Basics.html#compose"><span class="id" title="definition">compose</span></a>, <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#subrelationH"><span class="id" title="definition">subrelationH</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">r2</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="var">edestruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> (? &amp; ? &amp; ?).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="var">eassumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">global</span>]<br/>
<span class="id" title="keyword">Instance</span> <a id="eqmR_conj_ITree" class="idref" href="#eqmR_conj_ITree"><span class="id" title="instance">eqmR_conj_ITree</span></a> {<a id="E:9" class="idref" href="#E:9"><span class="id" title="binder">E</span></a>}: <a class="idref" href="ITree.EqmR.EqmRMonad.html#RelConj"><span class="id" title="class">RelConj</span></a> (<a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#E:9"><span class="id" title="variable">E</span></a>).<br/>
<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.Eq.UpToTaus.html#eq_itree_conj"><span class="id" title="lemma">eq_itree_conj</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">global</span>]<br/>
<span class="id" title="keyword">Instance</span> <a id="itree_transport_PER_" class="idref" href="#itree_transport_PER_"><span class="id" title="instance">itree_transport_PER_</span></a> {<a id="E:10" class="idref" href="#E:10"><span class="id" title="binder">E</span></a>}: <a class="idref" href="ITree.EqmR.EqmRMonad.html#TransportPER"><span class="id" title="class">TransportPER</span></a> (<a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#E:10"><span class="id" title="variable">E</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">split</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#SymmetricH"><span class="id" title="class">SymmetricH</span></a>, <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#relationH"><span class="id" title="definition">relationH</span></a> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">red</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ITree.Eq.Eq.html#Symmetric_eqit"><span class="id" title="instance">Symmetric_eqit</span></a>. <span class="id" title="tactic">red</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#TransitiveH"><span class="id" title="class">TransitiveH</span></a>, <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#relationH"><span class="id" title="definition">relationH</span></a> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">red</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.Eq.Eq.html#Transitive_eqit"><span class="id" title="instance">Transitive_eqit</span></a>. <span class="id" title="tactic">red</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H1</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">global</span>]<br/>
<span class="id" title="keyword">Instance</span> <a id="itree_rel_comp" class="idref" href="#itree_rel_comp"><span class="id" title="instance">itree_rel_comp</span></a> {<a id="E:11" class="idref" href="#E:11"><span class="id" title="binder">E</span></a>} : <a class="idref" href="ITree.EqmR.EqmRMonad.html#RelComp"><span class="id" title="class">RelComp</span></a> (<a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#E:11"><span class="id" title="variable">E</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">red</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="tactic">until</span> <span class="id" title="var">C</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="ITree.Eq.Eq.html#eutt"><span class="id" title="definition">eutt</span></a> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">R1</span> <span class="id" title="var">R2</span> <span class="id" title="var">ma</span> <span class="id" title="var">mb</span> <span class="id" title="var">mc</span> <span class="id" title="var">HR1</span> <span class="id" title="var">HR2</span>. <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> &lt;- <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#compose_rcompose_equiv"><span class="id" title="lemma">compose_rcompose_equiv</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.Eq.Eq.html#eqit_trans"><span class="id" title="lemma">eqit_trans</span></a>; <span class="id" title="var">eassumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">global</span>]<br/>
<span class="id" title="keyword">Instance</span> <a id="transport_refl" class="idref" href="#transport_refl"><span class="id" title="instance">transport_refl</span></a> {<a id="E:12" class="idref" href="#E:12"><span class="id" title="binder">E</span></a>} :<a class="idref" href="ITree.EqmR.EqmRMonad.html#TransportReflexive"><span class="id" title="class">TransportReflexive</span></a> (<a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#E:12"><span class="id" title="variable">E</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
#[<span class="id" title="var">global</span>]<br/>
<span class="id" title="keyword">Instance</span> <a id="transport_symm" class="idref" href="#transport_symm"><span class="id" title="instance">transport_symm</span></a> {<a id="E:13" class="idref" href="#E:13"><span class="id" title="binder">E</span></a>} : <a class="idref" href="ITree.EqmR.EqmRMonad.html#TransportSymmetric"><span class="id" title="class">TransportSymmetric</span></a> (<a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#E:13"><span class="id" title="variable">E</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>. <span class="id" title="tactic">symmetry</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
#[<span class="id" title="var">global</span>]<br/>
<span class="id" title="keyword">Instance</span> <a id="transport_trans" class="idref" href="#transport_trans"><span class="id" title="instance">transport_trans</span></a> {<a id="E:14" class="idref" href="#E:14"><span class="id" title="binder">E</span></a>} : <a class="idref" href="ITree.EqmR.EqmRMonad.html#TransportTransitive"><span class="id" title="class">TransportTransitive</span></a> (<a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#E:14"><span class="id" title="variable">E</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>. <span class="id" title="var">etransitivity</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">global</span>]<br/>
<span class="id" title="keyword">Instance</span> <a id="itree_lift_transpose" class="idref" href="#itree_lift_transpose"><span class="id" title="instance">itree_lift_transpose</span></a> {<a id="E:15" class="idref" href="#E:15"><span class="id" title="binder">E</span></a>} : <a class="idref" href="ITree.EqmR.EqmRMonad.html#LiftTranspose"><span class="id" title="class">LiftTranspose</span></a> (<a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#E:15"><span class="id" title="variable">E</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#eq_rel"><span class="id" title="definition">eq_rel</span></a>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="var">pcofix</span> <span class="id" title="var">CIH</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">H'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">pstep</span>. <span class="id" title="tactic">red</span>. <span class="id" title="var">punfold</span> <span class="id" title="var">H'</span>. <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="ITree.Core.ITreeDefinition.html#observe"><span class="id" title="definition">observe</span></a> <span class="id" title="var">a</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">x'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="ITree.Core.ITreeDefinition.html#observe"><span class="id" title="definition">observe</span></a> <span class="id" title="var">b</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">y'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">H'</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">REL</span>. <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">CIH</span>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">REL</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">REL</span> <span class="id" title="var">v</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">REL</span>. <span class="id" title="tactic">right</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">CIH</span>. <span class="id" title="tactic">intuition</span>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">assumption</span>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">assumption</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHH'</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="var">pcofix</span> <span class="id" title="var">CIH</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">H'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">pstep</span>. <span class="id" title="tactic">red</span>. <span class="id" title="var">punfold</span> <span class="id" title="var">H'</span>. <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="ITree.Core.ITreeDefinition.html#observe"><span class="id" title="definition">observe</span></a> <span class="id" title="var">a</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">x'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="ITree.Core.ITreeDefinition.html#observe"><span class="id" title="definition">observe</span></a> <span class="id" title="var">b</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">y'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">H'</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">REL</span>. <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">CIH</span>. <span class="id" title="tactic">intuition</span>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">REL</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">REL</span> <span class="id" title="var">v</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">REL</span>. <span class="id" title="tactic">right</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">CIH</span>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">assumption</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHH'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>. <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">assumption</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHH'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">global</span>]<br/>
<span class="id" title="keyword">Instance</span> <a id="itree_eq_itree_Proper" class="idref" href="#itree_eq_itree_Proper"><span class="id" title="instance">itree_eq_itree_Proper</span></a> {<a id="E:16" class="idref" href="#E:16"><span class="id" title="binder">E</span></a>}:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="A:17" class="idref" href="#A:17"><span class="id" title="binder">A</span></a> <a id="B:18" class="idref" href="#B:18"><span class="id" title="binder">B</span></a> : <span class="id" title="keyword">Type</span>, <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="ITree.Basics.HeterogeneousRelations.html#eq_rel"><span class="id" title="definition">eq_rel</span></a> (<span class="id" title="var">A</span> := <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#A:17"><span class="id" title="variable">A</span></a>) (<span class="id" title="var">B</span> := <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#B:18"><span class="id" title="variable">B</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#eq_rel"><span class="id" title="definition">eq_rel</span></a>) (<a class="idref" href="ITree.Eq.Eq.html#eq_itree"><span class="id" title="definition">eq_itree</span></a> (<span class="id" title="var">E</span> :=<a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#E:16"><span class="id" title="variable">E</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#eq_rel"><span class="id" title="definition">eq_rel</span></a>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="var">pcofix</span> <span class="id" title="var">CIH</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">H'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">pstep</span>. <span class="id" title="tactic">red</span>. <span class="id" title="var">punfold</span> <span class="id" title="var">H'</span>. <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="ITree.Core.ITreeDefinition.html#observe"><span class="id" title="definition">observe</span></a> <span class="id" title="var">a</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">x'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="ITree.Core.ITreeDefinition.html#observe"><span class="id" title="definition">observe</span></a> <span class="id" title="var">b</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">y'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">H'</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">REL</span>. <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">CIH</span>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">REL</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">REL</span> <span class="id" title="var">v</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">REL</span>. <span class="id" title="tactic">right</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">CIH</span>. <span class="id" title="tactic">intuition</span>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">assumption</span>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="var">inv</span> <span class="id" title="var">CHECK</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="var">pcofix</span> <span class="id" title="var">CIH</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">H'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">pstep</span>. <span class="id" title="tactic">red</span>. <span class="id" title="var">punfold</span> <span class="id" title="var">H'</span>. <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="ITree.Core.ITreeDefinition.html#observe"><span class="id" title="definition">observe</span></a> <span class="id" title="var">a</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">x'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="ITree.Core.ITreeDefinition.html#observe"><span class="id" title="definition">observe</span></a> <span class="id" title="var">b</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">y'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">H'</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">REL</span>. <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">CIH</span>. <span class="id" title="tactic">intuition</span>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">REL</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">REL</span> <span class="id" title="var">v</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">REL</span>. <span class="id" title="tactic">right</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">CIH</span>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">assumption</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHH'</span>. <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">assumption</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHH'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">eassumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">global</span>]<br/>
<span class="id" title="keyword">Instance</span> <a id="itree_eq_itree_Proper_mono" class="idref" href="#itree_eq_itree_Proper_mono"><span class="id" title="instance">itree_eq_itree_Proper_mono</span></a> {<a id="E:19" class="idref" href="#E:19"><span class="id" title="binder">E</span></a>}:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="A:20" class="idref" href="#A:20"><span class="id" title="binder">A</span></a> <a id="B:21" class="idref" href="#B:21"><span class="id" title="binder">B</span></a> : <span class="id" title="keyword">Type</span>, <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="ITree.Basics.HeterogeneousRelations.html#subrelationH"><span class="id" title="definition">subrelationH</span></a> (<span class="id" title="var">A</span>:=<a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#A:20"><span class="id" title="variable">A</span></a>) (<span class="id" title="var">B</span>:=<a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#B:21"><span class="id" title="variable">B</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#subrelationH"><span class="id" title="definition">subrelationH</span></a> (<span class="id" title="var">B</span>:=<a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#E:19"><span class="id" title="variable">E</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#B:21"><span class="id" title="variable">B</span></a>)) <a class="idref" href="ITree.Eq.Eq.html#eq_itree"><span class="id" title="definition">eq_itree</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>. <span class="id" title="tactic">do</span> 3 <span class="id" title="tactic">red</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>. <span class="id" title="var">pcofix</span> <span class="id" title="var">CIH</span>. <span class="id" title="var">pstep</span>. <span class="id" title="tactic">red</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">sub</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="var">punfold</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="ITree.Core.ITreeDefinition.html#observe"><span class="id" title="definition">observe</span></a> <span class="id" title="var">a</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">a'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="ITree.Core.ITreeDefinition.html#observe"><span class="id" title="definition">observe</span></a> <span class="id" title="var">b</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">b'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">REL</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">REL</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">CIH</span>. <span class="id" title="tactic">assumption</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">REL</span>. <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">REL</span> <span class="id" title="var">v</span>). <span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#id"><span class="id" title="definition">id</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">REL</span>. <span class="id" title="tactic">right</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">CIH</span>. <span class="id" title="tactic">assumption</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Inductive</span> <a id="Returns" class="idref" href="#Returns"><span class="id" title="inductive">Returns</span></a> {<a id="E:22" class="idref" href="#E:22"><span class="id" title="binder">E</span></a>} {<a id="A:23" class="idref" href="#A:23"><span class="id" title="binder">A</span></a>: <span class="id" title="keyword">Type</span>} (<a id="a:24" class="idref" href="#a:24"><span class="id" title="binder">a</span></a>: <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#A:23"><span class="id" title="variable">A</span></a>) : <a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <span class="id" title="var">E</span> <span class="id" title="var">A</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
| <a id="ReturnsRet" class="idref" href="#ReturnsRet"><span class="id" title="constructor">ReturnsRet</span></a>: <span class="id" title="keyword">forall</span> <a id="t:27" class="idref" href="#t:27"><span class="id" title="binder">t</span></a>, <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#t:27"><span class="id" title="variable">t</span></a> <a class="idref" href="ITree.Eq.Eq.html#7123c605943b5e01235e17fe532efcae"><span class="id" title="notation">≅</span></a> <a class="idref" href="ITree.Core.ITreeDefinition.html#Ret"><span class="id" title="abbreviation">Ret</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#a:24"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#Returns:25"><span class="id" title="inductive">Returns</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#a:24"><span class="id" title="variable">a</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#t:27"><span class="id" title="variable">t</span></a><br/>
| <a id="ReturnsTau" class="idref" href="#ReturnsTau"><span class="id" title="constructor">ReturnsTau</span></a>: <span class="id" title="keyword">forall</span> <a id="t:28" class="idref" href="#t:28"><span class="id" title="binder">t</span></a> <a id="u:29" class="idref" href="#u:29"><span class="id" title="binder">u</span></a>, <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#t:28"><span class="id" title="variable">t</span></a> <a class="idref" href="ITree.Eq.Eq.html#7123c605943b5e01235e17fe532efcae"><span class="id" title="notation">≅</span></a> <a class="idref" href="ITree.Core.ITreeDefinition.html#Tau"><span class="id" title="abbreviation">Tau</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#u:29"><span class="id" title="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#Returns:25"><span class="id" title="inductive">Returns</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#a:24"><span class="id" title="variable">a</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#u:29"><span class="id" title="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#Returns:25"><span class="id" title="inductive">Returns</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#a:24"><span class="id" title="variable">a</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#t:28"><span class="id" title="variable">t</span></a><br/>
| <a id="ReturnsVis" class="idref" href="#ReturnsVis"><span class="id" title="constructor">ReturnsVis</span></a>: <span class="id" title="keyword">forall</span> {<a id="X:30" class="idref" href="#X:30"><span class="id" title="binder">X</span></a>} (<a id="e:31" class="idref" href="#e:31"><span class="id" title="binder">e</span></a>: <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#E:22"><span class="id" title="variable">E</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#X:30"><span class="id" title="variable">X</span></a>) (<a id="x:32" class="idref" href="#x:32"><span class="id" title="binder">x</span></a>: <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#X:30"><span class="id" title="variable">X</span></a>) <a id="t:33" class="idref" href="#t:33"><span class="id" title="binder">t</span></a> <a id="k:34" class="idref" href="#k:34"><span class="id" title="binder">k</span></a>, <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#t:33"><span class="id" title="variable">t</span></a> <a class="idref" href="ITree.Eq.Eq.html#7123c605943b5e01235e17fe532efcae"><span class="id" title="notation">≅</span></a> <a class="idref" href="ITree.Core.ITreeDefinition.html#Vis"><span class="id" title="abbreviation">Vis</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#e:31"><span class="id" title="variable">e</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#k:34"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#Returns:25"><span class="id" title="inductive">Returns</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#a:24"><span class="id" title="variable">a</span></a> (<a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#k:34"><span class="id" title="variable">k</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#x:32"><span class="id" title="variable">x</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#Returns:25"><span class="id" title="inductive">Returns</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#a:24"><span class="id" title="variable">a</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#t:33"><span class="id" title="variable">t</span></a><br/>
.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <a id="Returns_eq_itree" class="idref" href="#Returns_eq_itree"><span class="id" title="instance">Returns_eq_itree</span></a> {<a id="E:35" class="idref" href="#E:35"><span class="id" title="binder">E</span></a> <a id="A:36" class="idref" href="#A:36"><span class="id" title="binder">A</span></a>} <a id="a:37" class="idref" href="#a:37"><span class="id" title="binder">a</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="ITree.Eq.Eq.html#eq_itree"><span class="id" title="definition">eq_itree</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#iff"><span class="id" title="definition">iff</span></a>) (@<a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#Returns"><span class="id" title="inductive">Returns</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#E:35"><span class="id" title="variable">E</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#A:36"><span class="id" title="variable">A</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#a:37"><span class="id" title="variable">a</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">HRet</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">revert</span> <span class="id" title="var">y</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">HRet</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H</span>, <span class="id" title="var">H0</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#ReturnsTau"><span class="id" title="constructor">ReturnsTau</span></a>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H0</span>. <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#ReturnsVis"><span class="id" title="constructor">ReturnsVis</span></a>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H0</span>. <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">revert</span> <span class="id" title="var">x</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">induction</span> <span class="id" title="var">HRet</span>; <span class="id" title="tactic">intros</span> ? <span class="id" title="var">EQ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">EQ</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#ReturnsTau"><span class="id" title="constructor">ReturnsTau</span></a>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">EQ</span>. <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#ReturnsVis"><span class="id" title="constructor">ReturnsVis</span></a>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">EQ</span>. <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Returns_Vis_sub" class="idref" href="#Returns_Vis_sub"><span class="id" title="lemma">Returns_Vis_sub</span></a> :  <span class="id" title="keyword">forall</span> {<a id="E:38" class="idref" href="#E:38"><span class="id" title="binder">E</span></a>} {<a id="R:39" class="idref" href="#R:39"><span class="id" title="binder">R</span></a>} <a id="X:40" class="idref" href="#X:40"><span class="id" title="binder">X</span></a> (<a id="e:41" class="idref" href="#e:41"><span class="id" title="binder">e</span></a> : <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#E:38"><span class="id" title="variable">E</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#X:40"><span class="id" title="variable">X</span></a>) (<a id="k:42" class="idref" href="#k:42"><span class="id" title="binder">k</span></a> : <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#X:40"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#E:38"><span class="id" title="variable">E</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#R:39"><span class="id" title="variable">R</span></a>) <a id="u:43" class="idref" href="#u:43"><span class="id" title="binder">u</span></a> <a id="x:44" class="idref" href="#x:44"><span class="id" title="binder">x</span></a>, <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#Returns"><span class="id" title="inductive">Returns</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#u:43"><span class="id" title="variable">u</span></a> (<a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#k:42"><span class="id" title="variable">k</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#x:44"><span class="id" title="variable">x</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#Returns"><span class="id" title="inductive">Returns</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#u:43"><span class="id" title="variable">u</span></a> (<a class="idref" href="ITree.Core.ITreeDefinition.html#Vis"><span class="id" title="abbreviation">Vis</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#e:41"><span class="id" title="variable">e</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#k:42"><span class="id" title="variable">k</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#ReturnsVis"><span class="id" title="constructor">ReturnsVis</span></a>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Returns_ret_inv_" class="idref" href="#Returns_ret_inv_"><span class="id" title="lemma">Returns_ret_inv_</span></a> : <span class="id" title="keyword">forall</span> {<a id="E:45" class="idref" href="#E:45"><span class="id" title="binder">E</span></a>} <a id="A:46" class="idref" href="#A:46"><span class="id" title="binder">A</span></a> (<a id="a:47" class="idref" href="#a:47"><span class="id" title="binder">a</span></a> <a id="b:48" class="idref" href="#b:48"><span class="id" title="binder">b</span></a> : <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#A:46"><span class="id" title="variable">A</span></a>) (<a id="t:49" class="idref" href="#t:49"><span class="id" title="binder">t</span></a> : <a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#E:45"><span class="id" title="variable">E</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#A:46"><span class="id" title="variable">A</span></a>), <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#t:49"><span class="id" title="variable">t</span></a> <a class="idref" href="ITree.Eq.Eq.html#7123c605943b5e01235e17fe532efcae"><span class="id" title="notation">≅</span></a> <a class="idref" href="ITree.Eq.Eq.html#7123c605943b5e01235e17fe532efcae"><span class="id" title="notation">(</span></a><a class="idref" href="ITree.Core.ITreeDefinition.html#Ret"><span class="id" title="abbreviation">Ret</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#b:48"><span class="id" title="variable">b</span></a><a class="idref" href="ITree.Eq.Eq.html#7123c605943b5e01235e17fe532efcae"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#Returns"><span class="id" title="inductive">Returns</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#a:47"><span class="id" title="variable">a</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#t:49"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#a:47"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#b:48"><span class="id" title="variable">b</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">E</span> <span class="id" title="var">A</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">t</span> <span class="id" title="var">eq</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">b</span> <span class="id" title="var">eq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span> <span class="id" title="tactic">in</span> <span class="id" title="var">eq</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ITree.Eq.Eq.html#eqit_Ret"><span class="id" title="lemma">Eq.eqit_Ret</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">eq</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span>  <span class="id" title="var">H</span> <span class="id" title="tactic">in</span> <span class="id" title="var">eq</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ITree.Eq.Eq.html#eqit_inv"><span class="id" title="lemma">eqit_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">eq</span>. <span class="id" title="var">inv</span> <span class="id" title="var">eq</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span> <span class="id" title="tactic">in</span> <span class="id" title="var">eq</span>. <span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">eq</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ITree.Eq.Eq.html#eqit_inv"><span class="id" title="lemma">eqit_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">eq</span>. <span class="id" title="var">inv</span> <span class="id" title="var">eq</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Returns_ret_inv" class="idref" href="#Returns_ret_inv"><span class="id" title="lemma">Returns_ret_inv</span></a> :  <span class="id" title="keyword">forall</span> {<a id="E:50" class="idref" href="#E:50"><span class="id" title="binder">E</span></a>} <a id="A:51" class="idref" href="#A:51"><span class="id" title="binder">A</span></a> (<a id="a:52" class="idref" href="#a:52"><span class="id" title="binder">a</span></a> <a id="b:53" class="idref" href="#b:53"><span class="id" title="binder">b</span></a> : <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#A:51"><span class="id" title="variable">A</span></a>), <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#Returns"><span class="id" title="inductive">Returns</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#a:52"><span class="id" title="variable">a</span></a> ((<span class="id" title="method">ret</span> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#b:53"><span class="id" title="variable">b</span></a>) : <a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#E:50"><span class="id" title="variable">E</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#A:51"><span class="id" title="variable">A</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#a:52"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#b:53"><span class="id" title="variable">b</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#Returns_ret_inv_"><span class="id" title="lemma">Returns_ret_inv_</span></a>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="eq_itree_Returns_" class="idref" href="#eq_itree_Returns_"><span class="id" title="lemma">eq_itree_Returns_</span></a> : <span class="id" title="keyword">forall</span> {<a id="E:54" class="idref" href="#E:54"><span class="id" title="binder">E</span></a>} {<a id="R:55" class="idref" href="#R:55"><span class="id" title="binder">R</span></a>} (<a id="RR:56" class="idref" href="#RR:56"><span class="id" title="binder">RR</span></a> : <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#R:55"><span class="id" title="variable">R</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>) (<a id="ta:57" class="idref" href="#ta:57"><span class="id" title="binder">ta</span></a> : <a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#E:54"><span class="id" title="variable">E</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#R:55"><span class="id" title="variable">R</span></a>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="IN:59" class="idref" href="#IN:59"><span class="id" title="binder">IN</span></a>: <span class="id" title="keyword">forall</span> (<a id="a:58" class="idref" href="#a:58"><span class="id" title="binder">a</span></a> : <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#R:55"><span class="id" title="variable">R</span></a>), <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#Returns"><span class="id" title="inductive">Returns</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#a:58"><span class="id" title="variable">a</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#ta:57"><span class="id" title="variable">ta</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#RR:56"><span class="id" title="variable">RR</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#a:58"><span class="id" title="variable">a</span></a>), <a class="idref" href="ITree.Eq.Eq.html#eq_itree"><span class="id" title="definition">eq_itree</span></a> (<span class="id" title="keyword">fun</span> <a id="u1:60" class="idref" href="#u1:60"><span class="id" title="binder">u1</span></a> <a id="u2:61" class="idref" href="#u2:61"><span class="id" title="binder">u2</span></a> =&gt; <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#u1:60"><span class="id" title="variable">u1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#u2:61"><span class="id" title="variable">u2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#RR:56"><span class="id" title="variable">RR</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#u1:60"><span class="id" title="variable">u1</span></a>) <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#ta:57"><span class="id" title="variable">ta</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#ta:57"><span class="id" title="variable">ta</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">E</span> <span class="id" title="var">R</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">ginit</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">gcofix</span> <span class="id" title="var">CIH</span>; <span class="id" title="tactic">intros</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> (<a class="idref" href="ITree.Eq.Eq.html#itree_eta"><span class="id" title="lemma">itree_eta</span></a> <span class="id" title="var">ta</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">IN</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="var">gstep</span>. <span class="id" title="tactic">red</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="ITree.Core.ITreeDefinition.html#observe"><span class="id" title="definition">observe</span></a> <span class="id" title="var">ta</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">econstructor</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IN</span>. <span class="id" title="tactic">econstructor</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">econstructor</span>. <span class="id" title="var">gfinal</span>. <span class="id" title="tactic">left</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">CIH</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">IN</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#ReturnsTau"><span class="id" title="constructor">ReturnsTau</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">econstructor</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">red</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">gfinal</span>. <span class="id" title="tactic">left</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">CIH</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">IN</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#Returns_Vis_sub"><span class="id" title="lemma">Returns_Vis_sub</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="eq_itree_Returns2_" class="idref" href="#eq_itree_Returns2_"><span class="id" title="lemma">eq_itree_Returns2_</span></a> : <span class="id" title="keyword">forall</span> {<a id="E:62" class="idref" href="#E:62"><span class="id" title="binder">E</span></a>} {<a id="R':63" class="idref" href="#R':63"><span class="id" title="binder">R'</span></a> <a id="R:64" class="idref" href="#R:64"><span class="id" title="binder">R</span></a>} (<a id="RR:65" class="idref" href="#RR:65"><span class="id" title="binder">RR</span></a> : <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#R:64"><span class="id" title="variable">R</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>) (<a id="RR':66" class="idref" href="#RR':66"><span class="id" title="binder">RR'</span></a> : <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#R':63"><span class="id" title="variable">R'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>) (<a id="ta:67" class="idref" href="#ta:67"><span class="id" title="binder">ta</span></a> : <a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#E:62"><span class="id" title="variable">E</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#R:64"><span class="id" title="variable">R</span></a>) (<a id="ta':68" class="idref" href="#ta':68"><span class="id" title="binder">ta'</span></a> : <a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#E:62"><span class="id" title="variable">E</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#R':63"><span class="id" title="variable">R'</span></a>) <a id="RU:69" class="idref" href="#RU:69"><span class="id" title="binder">RU</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="IN1:71" class="idref" href="#IN1:71"><span class="id" title="binder">IN1</span></a>: <span class="id" title="keyword">forall</span> (<a id="a:70" class="idref" href="#a:70"><span class="id" title="binder">a</span></a> : <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#R':63"><span class="id" title="variable">R'</span></a>), <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#Returns"><span class="id" title="inductive">Returns</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#a:70"><span class="id" title="variable">a</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#ta':68"><span class="id" title="variable">ta'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#RR':66"><span class="id" title="variable">RR'</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#a:70"><span class="id" title="variable">a</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="IN2:73" class="idref" href="#IN2:73"><span class="id" title="binder">IN2</span></a>: <span class="id" title="keyword">forall</span> (<a id="a:72" class="idref" href="#a:72"><span class="id" title="binder">a</span></a> : <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#R:64"><span class="id" title="variable">R</span></a>), <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#Returns"><span class="id" title="inductive">Returns</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#a:72"><span class="id" title="variable">a</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#ta:67"><span class="id" title="variable">ta</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#RR:65"><span class="id" title="variable">RR</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#a:72"><span class="id" title="variable">a</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.Eq.Eq.html#eq_itree"><span class="id" title="definition">eq_itree</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#RU:69"><span class="id" title="variable">RU</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#ta:67"><span class="id" title="variable">ta</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#ta':68"><span class="id" title="variable">ta'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.Eq.Eq.html#eq_itree"><span class="id" title="definition">eq_itree</span></a> (<span class="id" title="keyword">fun</span> <a id="u1:74" class="idref" href="#u1:74"><span class="id" title="binder">u1</span></a> <a id="u2:75" class="idref" href="#u2:75"><span class="id" title="binder">u2</span></a> =&gt; <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#RU:69"><span class="id" title="variable">RU</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#u1:74"><span class="id" title="variable">u1</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#u2:75"><span class="id" title="variable">u2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#RR:65"><span class="id" title="variable">RR</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#u1:74"><span class="id" title="variable">u1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#RR':66"><span class="id" title="variable">RR'</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#u2:75"><span class="id" title="variable">u2</span></a>) <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#ta:67"><span class="id" title="variable">ta</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#ta':68"><span class="id" title="variable">ta'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">E</span> <span class="id" title="var">R</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">ginit</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">gcofix</span> <span class="id" title="var">CIH</span>; <span class="id" title="tactic">intros</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> (<a class="idref" href="ITree.Eq.Eq.html#itree_eta"><span class="id" title="lemma">itree_eta</span></a> <span class="id" title="var">ta</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">IN2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> (<a class="idref" href="ITree.Eq.Eq.html#itree_eta"><span class="id" title="lemma">itree_eta</span></a> <span class="id" title="var">ta'</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">IN1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> (<a class="idref" href="ITree.Eq.Eq.html#itree_eta"><span class="id" title="lemma">itree_eta</span></a> <span class="id" title="var">ta</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> (<a class="idref" href="ITree.Eq.Eq.html#itree_eta"><span class="id" title="lemma">itree_eta</span></a> <span class="id" title="var">ta'</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="var">gstep</span>. <span class="id" title="tactic">red</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="ITree.Core.ITreeDefinition.html#observe"><span class="id" title="definition">observe</span></a> <span class="id" title="var">ta</span>); <span class="id" title="var">remember</span> (<a class="idref" href="ITree.Core.ITreeDefinition.html#observe"><span class="id" title="definition">observe</span></a> <span class="id" title="var">ta'</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="var">punfold</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">ta</span> <span class="id" title="var">ta'</span> <span class="id" title="var">Heqi0</span> <span class="id" title="var">Heqi</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">econstructor</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">constructor</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">apply</span> <span class="id" title="var">IN2</span> | <span class="id" title="tactic">apply</span> <span class="id" title="var">IN1</span>]; <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">econstructor</span>. <span class="id" title="var">gfinal</span>. <span class="id" title="tactic">left</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">CIH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">IN1</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#ReturnsTau"><span class="id" title="constructor">ReturnsTau</span></a>; <span class="id" title="tactic">eauto</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">IN2</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#ReturnsTau"><span class="id" title="constructor">ReturnsTau</span></a>; <span class="id" title="tactic">eauto</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">pclearbot</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">econstructor</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">red</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">gfinal</span>. <span class="id" title="tactic">left</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">CIH</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">IN1</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#Returns_Vis_sub"><span class="id" title="lemma">Returns_Vis_sub</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">IN2</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#Returns_Vis_sub"><span class="id" title="lemma">Returns_Vis_sub</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">pclearbot</span>. <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="var">inv</span> <span class="id" title="var">CHECK</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">inv</span> <span class="id" title="var">CHECK</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Returns_impl_image" class="idref" href="#Returns_impl_image"><span class="id" title="lemma">Returns_impl_image</span></a> {<a id="E:76" class="idref" href="#E:76"><span class="id" title="binder">E</span></a> <a id="A:77" class="idref" href="#A:77"><span class="id" title="binder">A</span></a>}:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<a id="ma:78" class="idref" href="#ma:78"><span class="id" title="binder">ma</span></a> : <a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#E:76"><span class="id" title="variable">E</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#A:77"><span class="id" title="variable">A</span></a>) (<a id="x:79" class="idref" href="#x:79"><span class="id" title="binder">x</span></a> <a id="y:80" class="idref" href="#y:80"><span class="id" title="binder">y</span></a> : <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#A:77"><span class="id" title="variable">A</span></a>), <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#x:79"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#y:80"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#Returns"><span class="id" title="inductive">Returns</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#x:79"><span class="id" title="variable">x</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#ma:78"><span class="id" title="variable">ma</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#image"><span class="id" title="definition">image</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#ma:78"><span class="id" title="variable">ma</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#x:79"><span class="id" title="variable">x</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#y:80"><span class="id" title="variable">y</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">red</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span> <span class="id" title="tactic">in</span> <span class="id" title="var">EQR</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ITree.Eq.Eq.html#eqit_inv_Ret"><span class="id" title="lemma">eqit_inv_Ret</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">EQR</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHReturns</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span> <span class="id" title="tactic">in</span> <span class="id" title="var">EQR</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ITree.Eq.Eq.html#eqit_inv"><span class="id" title="lemma">eqit_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">EQR</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHReturns</span>. <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span> <span class="id" title="tactic">in</span> <span class="id" title="var">EQR</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">EQR</span>. <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">EQR</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.Eq.Eq.html#eqit_inv_Vis"><span class="id" title="lemma">eqit_inv_Vis</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">EQR</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">EQR</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Returns_eq_rel_image" class="idref" href="#Returns_eq_rel_image"><span class="id" title="lemma">Returns_eq_rel_image</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="E:81" class="idref" href="#E:81"><span class="id" title="binder">E</span></a> <a id="A:82" class="idref" href="#A:82"><span class="id" title="binder">A</span></a> (<a id="ma:83" class="idref" href="#ma:83"><span class="id" title="binder">ma</span></a> : <a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#E:81"><span class="id" title="variable">E</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#A:82"><span class="id" title="variable">A</span></a>), <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#eq_rel"><span class="id" title="definition">eq_rel</span></a> (<span class="id" title="keyword">fun</span> (<a id="x:86" class="idref" href="#x:86"><span class="id" title="binder">x</span></a> <a id="y:87" class="idref" href="#y:87"><span class="id" title="binder">y</span></a> : <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#A:82"><span class="id" title="variable">A</span></a>) =&gt;  <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#x:86"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#y:87"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#Returns"><span class="id" title="inductive">Returns</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#x:86"><span class="id" title="variable">x</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#ma:83"><span class="id" title="variable">ma</span></a>) (<span class="id" title="keyword">fun</span> <a id="x:84" class="idref" href="#x:84"><span class="id" title="binder">x</span></a> <a id="y:85" class="idref" href="#y:85"><span class="id" title="binder">y</span></a> =&gt; <a class="idref" href="ITree.EqmR.EqmRMonad.html#image"><span class="id" title="definition">image</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#ma:83"><span class="id" title="variable">ma</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#x:84"><span class="id" title="variable">x</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#y:85"><span class="id" title="variable">y</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intro</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#Returns_impl_image"><span class="id" title="lemma">Returns_impl_image</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">split</span>. <span class="id" title="tactic">red</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">intuition</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>, <span class="id" title="var">H1</span>. <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#eq_itree_Returns_"><span class="id" title="lemma">eq_itree_Returns_</span></a>. <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Returns_mayRet" class="idref" href="#Returns_mayRet"><span class="id" title="lemma">Returns_mayRet</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="E:88" class="idref" href="#E:88"><span class="id" title="binder">E</span></a> <a id="A:89" class="idref" href="#A:89"><span class="id" title="binder">A</span></a> (<a id="ma:90" class="idref" href="#ma:90"><span class="id" title="binder">ma</span></a> : <a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#E:88"><span class="id" title="variable">E</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#A:89"><span class="id" title="variable">A</span></a>) (<a id="a:91" class="idref" href="#a:91"><span class="id" title="binder">a</span></a> : <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#A:89"><span class="id" title="variable">A</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#a:91"><span class="id" title="variable">a</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#91e97f679796ae2f33b88d366e97515d"><span class="id" title="notation">∈</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#ma:90"><span class="id" title="variable">ma</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#Returns"><span class="id" title="inductive">Returns</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#a:91"><span class="id" title="variable">a</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#ma:90"><span class="id" title="variable">ma</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#proj2"><span class="id" title="lemma">proj2</span></a>. <span class="id" title="var">Unshelve</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2 : <span class="id" title="tactic">exact</span> (<span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">a</span>). <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#Returns_eq_rel_image"><span class="id" title="lemma">Returns_eq_rel_image</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#eq_rel"><span class="id" title="definition">eq_rel</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">H0</span> <span class="id" title="var">E</span> <span class="id" title="var">A</span> <span class="id" title="var">ma</span>). <span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#Returns_eq_rel_image"><span class="id" title="lemma">Returns_eq_rel_image</span></a>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="observe_eutt" class="idref" href="#observe_eutt"><span class="id" title="lemma">observe_eutt</span></a> {<a id="E:92" class="idref" href="#E:92"><span class="id" title="binder">E</span></a> <a id="A:93" class="idref" href="#A:93"><span class="id" title="binder">A</span></a>}:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<a id="ma:94" class="idref" href="#ma:94"><span class="id" title="binder">ma</span></a> : <a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#E:92"><span class="id" title="variable">E</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#A:93"><span class="id" title="variable">A</span></a>) <a id="t:95" class="idref" href="#t:95"><span class="id" title="binder">t</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.Core.ITreeDefinition.html#observe"><span class="id" title="definition">observe</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#ma:94"><span class="id" title="variable">ma</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#t:95"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#ma:94"><span class="id" title="variable">ma</span></a> <a class="idref" href="ITree.Eq.Eq.html#f51f52fd3bd17df0d58f37498312e9a2"><span class="id" title="notation">≈</span></a> <a class="idref" href="ITree.Core.ITreeDefinition.html#go"><span class="id" title="constructor">go</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#t:95"><span class="id" title="variable">t</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.Eq.Eq.html#itree_eta"><span class="id" title="lemma">itree_eta</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="ITree.Core.ITreeDefinition.html#observe"><span class="id" title="definition">observe</span></a> <span class="id" title="var">ma</span>) <span class="id" title="var">eqn</span> : <span class="id" title="var">Hma</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span> : <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="observe_eqitree" class="idref" href="#observe_eqitree"><span class="id" title="lemma">observe_eqitree</span></a> {<a id="E:96" class="idref" href="#E:96"><span class="id" title="binder">E</span></a> <a id="A:97" class="idref" href="#A:97"><span class="id" title="binder">A</span></a>}:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<a id="ma:98" class="idref" href="#ma:98"><span class="id" title="binder">ma</span></a> : <a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#E:96"><span class="id" title="variable">E</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#A:97"><span class="id" title="variable">A</span></a>) <a id="t:99" class="idref" href="#t:99"><span class="id" title="binder">t</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.Core.ITreeDefinition.html#observe"><span class="id" title="definition">observe</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#ma:98"><span class="id" title="variable">ma</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#t:99"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#ma:98"><span class="id" title="variable">ma</span></a> <a class="idref" href="ITree.Eq.Eq.html#7123c605943b5e01235e17fe532efcae"><span class="id" title="notation">≅</span></a> <a class="idref" href="ITree.Core.ITreeDefinition.html#go"><span class="id" title="constructor">go</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#t:99"><span class="id" title="variable">t</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.Eq.Eq.html#itree_eta"><span class="id" title="lemma">itree_eta</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="ITree.Core.ITreeDefinition.html#observe"><span class="id" title="definition">observe</span></a> <span class="id" title="var">ma</span>) <span class="id" title="var">eqn</span> : <span class="id" title="var">Hma</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">all</span> : <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="eq_itree_bind_inv_homog" class="idref" href="#eq_itree_bind_inv_homog"><span class="id" title="lemma">eq_itree_bind_inv_homog</span></a> {<a id="E:100" class="idref" href="#E:100"><span class="id" title="binder">E</span></a>} :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="A:101" class="idref" href="#A:101"><span class="id" title="binder">A</span></a> <a id="B:102" class="idref" href="#B:102"><span class="id" title="binder">B</span></a> (<a id="ma:103" class="idref" href="#ma:103"><span class="id" title="binder">ma</span></a> : <a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#E:100"><span class="id" title="variable">E</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#A:101"><span class="id" title="variable">A</span></a>) (<a id="k:104" class="idref" href="#k:104"><span class="id" title="binder">k</span></a> <a id="k':105" class="idref" href="#k':105"><span class="id" title="binder">k'</span></a>: <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#A:101"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#E:100"><span class="id" title="variable">E</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#B:102"><span class="id" title="variable">B</span></a>) <a id="R:106" class="idref" href="#R:106"><span class="id" title="binder">R</span></a>,<br/>
&nbsp;&nbsp;<span class="id" title="method">bind</span> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#ma:103"><span class="id" title="variable">ma</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#k:104"><span class="id" title="variable">k</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">≈{</span></a><a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#R:106"><span class="id" title="variable">R</span></a><a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">}</span></a> <span class="id" title="method">bind</span> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#ma:103"><span class="id" title="variable">ma</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#k':105"><span class="id" title="variable">k'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="a:107" class="idref" href="#a:107"><span class="id" title="binder">a</span></a>, <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#a:107"><span class="id" title="variable">a</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#91e97f679796ae2f33b88d366e97515d"><span class="id" title="notation">∈</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#ma:103"><span class="id" title="variable">ma</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#k:104"><span class="id" title="variable">k</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#a:107"><span class="id" title="variable">a</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">≈{</span></a><a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#R:106"><span class="id" title="variable">R</span></a><a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">}</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#k':105"><span class="id" title="variable">k'</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#a:107"><span class="id" title="variable">a</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> @<a class="idref" href="ITree.Eq.Eq.html#eqit_Vis"><span class="id" title="lemma">eqit_Vis</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#Returns_mayRet"><span class="id" title="lemma">Returns_mayRet</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="ITree.Eq.Eq.html#bind_ret_l"><span class="id" title="lemma">Eq.bind_ret_l</span></a>. <span class="id" title="var">cbn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H0</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">rewrite</span> !<a class="idref" href="ITree.Eq.Eq.html#bind_ret_l"><span class="id" title="lemma">Eq.bind_ret_l</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.Eq.Eq.html#bind_ret_l"><span class="id" title="lemma">Eq.bind_ret_l</span></a>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.Eq.Eq.html#bind_tau"><span class="id" title="lemma">bind_tau</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ITree.Eq.Eq.html#eqit_inv"><span class="id" title="lemma">eqit_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHReturns</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.Eq.Eq.html#bind_vis"><span class="id" title="lemma">bind_vis</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.Eq.Eq.html#eqit_inv_Vis"><span class="id" title="lemma">eqit_inv_Vis</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHReturns</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="mayRet_eq_Refl_ITree" class="idref" href="#mayRet_eq_Refl_ITree"><span class="id" title="lemma">mayRet_eq_Refl_ITree</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="E:108" class="idref" href="#E:108"><span class="id" title="binder">E</span></a> <a id="A:109" class="idref" href="#A:109"><span class="id" title="binder">A</span></a> (<a id="ma:110" class="idref" href="#ma:110"><span class="id" title="binder">ma</span></a> : <a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#E:108"><span class="id" title="variable">E</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#A:109"><span class="id" title="variable">A</span></a>), <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#ma:110"><span class="id" title="variable">ma</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">≈{</span></a> <span class="id" title="keyword">fun</span> <a id="a1:111" class="idref" href="#a1:111"><span class="id" title="binder">a1</span></a> <a id="a2:112" class="idref" href="#a2:112"><span class="id" title="binder">a2</span></a> =&gt; <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#a1:111"><span class="id" title="variable">a1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#a2:112"><span class="id" title="variable">a2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#a1:111"><span class="id" title="variable">a1</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#91e97f679796ae2f33b88d366e97515d"><span class="id" title="notation">∈</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#ma:110"><span class="id" title="variable">ma</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">}</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#ma:110"><span class="id" title="variable">ma</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#itree_eq_itree_Proper"><span class="id" title="instance">itree_eq_itree_Proper</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">Unshelve</span>.<br/>
&nbsp;&nbsp;3 : <span class="id" title="tactic">exact</span> (<span class="id" title="keyword">fun</span> <a id="a1:115" class="idref" href="#a1:115"><span class="id" title="binder">a1</span></a> <a id="a2:116" class="idref" href="#a2:116"><span class="id" title="binder">a2</span></a> =&gt; <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#a1:113"><span class="id" title="variable">a1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#a2:114"><span class="id" title="variable">a2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#Returns"><span class="id" title="inductive">Returns</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#a1:113"><span class="id" title="variable">a1</span></a> <span class="id" title="var">ma</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">red</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">crunch</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#Returns_mayRet"><span class="id" title="lemma">Returns_mayRet</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">crunch</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#Returns_mayRet"><span class="id" title="lemma">Returns_mayRet</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#eq_itree_Returns_"><span class="id" title="lemma">eq_itree_Returns_</span></a>. <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="mayRet_eq_Refl_ITree2" class="idref" href="#mayRet_eq_Refl_ITree2"><span class="id" title="lemma">mayRet_eq_Refl_ITree2</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="E:117" class="idref" href="#E:117"><span class="id" title="binder">E</span></a> <a id="A:118" class="idref" href="#A:118"><span class="id" title="binder">A</span></a> (<a id="ma:119" class="idref" href="#ma:119"><span class="id" title="binder">ma</span></a> : <a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#E:117"><span class="id" title="variable">E</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#A:118"><span class="id" title="variable">A</span></a>), <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#ma:119"><span class="id" title="variable">ma</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">≈{</span></a> <span class="id" title="keyword">fun</span> <a id="a1:120" class="idref" href="#a1:120"><span class="id" title="binder">a1</span></a> <a id="a2:121" class="idref" href="#a2:121"><span class="id" title="binder">a2</span></a> =&gt; <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#a1:120"><span class="id" title="variable">a1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#a2:121"><span class="id" title="variable">a2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#a1:120"><span class="id" title="variable">a1</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#91e97f679796ae2f33b88d366e97515d"><span class="id" title="notation">∈</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#ma:119"><span class="id" title="variable">ma</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#a2:121"><span class="id" title="variable">a2</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#91e97f679796ae2f33b88d366e97515d"><span class="id" title="notation">∈</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#ma:119"><span class="id" title="variable">ma</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">}</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#ma:119"><span class="id" title="variable">ma</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#itree_eq_itree_Proper"><span class="id" title="instance">itree_eq_itree_Proper</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">Unshelve</span>.<br/>
&nbsp;&nbsp;3 : <span class="id" title="tactic">exact</span> (<span class="id" title="keyword">fun</span> <a id="a1:124" class="idref" href="#a1:124"><span class="id" title="binder">a1</span></a> <a id="a2:125" class="idref" href="#a2:125"><span class="id" title="binder">a2</span></a> =&gt; <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#a1:122"><span class="id" title="variable">a1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#a2:123"><span class="id" title="variable">a2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#Returns"><span class="id" title="inductive">Returns</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#a1:122"><span class="id" title="variable">a1</span></a> <span class="id" title="var">ma</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#Returns"><span class="id" title="inductive">Returns</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#a2:123"><span class="id" title="variable">a2</span></a> <span class="id" title="var">ma</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">red</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">crunch</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#Returns_mayRet"><span class="id" title="lemma">Returns_mayRet</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">crunch</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#Returns_mayRet"><span class="id" title="lemma">Returns_mayRet</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">crunch</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#Returns_mayRet"><span class="id" title="lemma">Returns_mayRet</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#Returns_mayRet"><span class="id" title="lemma">Returns_mayRet</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#eq_itree_Returns2_"><span class="id" title="lemma">eq_itree_Returns2_</span></a>. <span class="id" title="var">all</span> : <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="image_ma_Refl_ITree" class="idref" href="#image_ma_Refl_ITree"><span class="id" title="lemma">image_ma_Refl_ITree</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="E:126" class="idref" href="#E:126"><span class="id" title="binder">E</span></a> <a id="A:127" class="idref" href="#A:127"><span class="id" title="binder">A</span></a> (<a id="ma:128" class="idref" href="#ma:128"><span class="id" title="binder">ma</span></a> : <a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#E:126"><span class="id" title="variable">E</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#A:127"><span class="id" title="variable">A</span></a>), <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#ma:128"><span class="id" title="variable">ma</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">≈{</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#image"><span class="id" title="definition">image</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#ma:128"><span class="id" title="variable">ma</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">}</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#ma:128"><span class="id" title="variable">ma</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#itree_eq_itree_Proper_mono"><span class="id" title="instance">itree_eq_itree_Proper_mono</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">Unshelve</span>.<br/>
&nbsp;&nbsp;3 : <span class="id" title="tactic">exact</span> (<span class="id" title="keyword">fun</span> <a id="a1:131" class="idref" href="#a1:131"><span class="id" title="binder">a1</span></a> <a id="a2:132" class="idref" href="#a2:132"><span class="id" title="binder">a2</span></a> =&gt; <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#a1:129"><span class="id" title="variable">a1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#a2:130"><span class="id" title="variable">a2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#Returns"><span class="id" title="inductive">Returns</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#a1:129"><span class="id" title="variable">a1</span></a> <span class="id" title="var">ma</span>).<br/>
&nbsp;&nbsp;2 : <span class="id" title="tactic">apply</span> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#eq_itree_Returns_"><span class="id" title="lemma">eq_itree_Returns_</span></a>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">red</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#Returns_impl_image"><span class="id" title="lemma">Returns_impl_image</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="ret_eq_itree_L" class="idref" href="#ret_eq_itree_L"><span class="id" title="lemma">ret_eq_itree_L</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="E:133" class="idref" href="#E:133"><span class="id" title="binder">E</span></a> <a id="A:134" class="idref" href="#A:134"><span class="id" title="binder">A</span></a> <a id="B:135" class="idref" href="#B:135"><span class="id" title="binder">B</span></a> (<a id="a:136" class="idref" href="#a:136"><span class="id" title="binder">a</span></a> : <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#A:134"><span class="id" title="variable">A</span></a>) (<a id="mb:137" class="idref" href="#mb:137"><span class="id" title="binder">mb</span></a> : <a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#E:133"><span class="id" title="variable">E</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#B:135"><span class="id" title="variable">B</span></a>) (<a id="R:138" class="idref" href="#R:138"><span class="id" title="binder">R</span></a>: <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#relationH"><span class="id" title="definition">relationH</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#A:134"><span class="id" title="variable">A</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#B:135"><span class="id" title="variable">B</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.Core.ITreeDefinition.html#Ret"><span class="id" title="abbreviation">Ret</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#a:136"><span class="id" title="variable">a</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">≈{</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#R:138"><span class="id" title="variable">R</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">}</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#mb:137"><span class="id" title="variable">mb</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">(</span></a><a id="b:139" class="idref" href="#b:139"><span class="id" title="binder">b</span></a> : <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#B:135"><span class="id" title="variable">B</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">),</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#mb:137"><span class="id" title="variable">mb</span></a> <a class="idref" href="ITree.Eq.Eq.html#7123c605943b5e01235e17fe532efcae"><span class="id" title="notation">≅</span></a> <a class="idref" href="ITree.Core.ITreeDefinition.html#Ret"><span class="id" title="abbreviation">Ret</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#b:139"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#R:138"><span class="id" title="variable">R</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#a:136"><span class="id" title="variable">a</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#b:139"><span class="id" title="variable">b</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">punfold</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="ITree.Core.ITreeDefinition.html#Ret"><span class="id" title="abbreviation">Ret</span></a> <span class="id" title="var">a</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">tl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">genobs</span> <span class="id" title="var">tl</span> <span class="id" title="var">otl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">genobs</span> <span class="id" title="var">mb</span> <span class="id" title="var">otr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">Heqotr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heqtl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Heqotl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">Heqtl</span>. <span class="id" title="var">revert</span> <span class="id" title="var">Heqotl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">tl</span>. <span class="id" title="var">revert</span> <span class="id" title="var">mb</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">r2</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">red</span>. <span class="id" title="tactic">split</span>. <span class="id" title="var">pstep</span>. <span class="id" title="tactic">red</span>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Heqotr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Heqotl</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">Heqotl</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">Heqotl</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Heqotl</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ITree.Eq.Eq.html#simpobs"><span class="id" title="lemma">simpobs</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heqotr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <span class="id" title="var">Heqotr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="b:142" class="idref" href="#b:142"><span class="id" title="binder">b</span></a> : <span class="id" title="var">B</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <span class="id" title="var">t2</span> <a class="idref" href="ITree.Eq.Eq.html#f51f52fd3bd17df0d58f37498312e9a2"><span class="id" title="notation">≈</span></a> <a class="idref" href="ITree.Core.ITreeDefinition.html#Ret"><span class="id" title="abbreviation">Ret</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#b:140"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <span class="id" title="var">R</span> <span class="id" title="var">a</span> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#b:140"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a id="b:143" class="idref" href="#b:143"><span class="id" title="binder">b</span></a>: <span class="id" title="var">B</span><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="ITree.Core.ITreeDefinition.html#Tau"><span class="id" title="abbreviation">Tau</span></a> <span class="id" title="var">t2</span> <a class="idref" href="ITree.Eq.Eq.html#f51f52fd3bd17df0d58f37498312e9a2"><span class="id" title="notation">≈</span></a> <a class="idref" href="ITree.Core.ITreeDefinition.html#Ret"><span class="id" title="abbreviation">Ret</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#b:141"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <span class="id" title="var">R</span> <span class="id" title="var">a</span> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#b:141"><span class="id" title="variable">b</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">split</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">red</span>. <span class="id" title="var">pstep</span>; <span class="id" title="tactic">red</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">reflexivity</span>. <span class="id" title="tactic">auto</span>. <span class="id" title="var">inv</span> <span class="id" title="var">CHECK</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="ret_eq_itree_R" class="idref" href="#ret_eq_itree_R"><span class="id" title="lemma">ret_eq_itree_R</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="E:144" class="idref" href="#E:144"><span class="id" title="binder">E</span></a> <a id="A:145" class="idref" href="#A:145"><span class="id" title="binder">A</span></a> <a id="B:146" class="idref" href="#B:146"><span class="id" title="binder">B</span></a> (<a id="b:147" class="idref" href="#b:147"><span class="id" title="binder">b</span></a> : <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#B:146"><span class="id" title="variable">B</span></a>) (<a id="ma:148" class="idref" href="#ma:148"><span class="id" title="binder">ma</span></a> : <a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#E:144"><span class="id" title="variable">E</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#A:145"><span class="id" title="variable">A</span></a>) (<a id="R:149" class="idref" href="#R:149"><span class="id" title="binder">R</span></a>: <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#relationH"><span class="id" title="definition">relationH</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#A:145"><span class="id" title="variable">A</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#B:146"><span class="id" title="variable">B</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#ma:148"><span class="id" title="variable">ma</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">≈{</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#R:149"><span class="id" title="variable">R</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">}</span></a> <a class="idref" href="ITree.Core.ITreeDefinition.html#Ret"><span class="id" title="abbreviation">Ret</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#b:147"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">(</span></a><a id="a:150" class="idref" href="#a:150"><span class="id" title="binder">a</span></a> : <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#A:145"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">),</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#ma:148"><span class="id" title="variable">ma</span></a> <a class="idref" href="ITree.Eq.Eq.html#7123c605943b5e01235e17fe532efcae"><span class="id" title="notation">≅</span></a> <a class="idref" href="ITree.Core.ITreeDefinition.html#Ret"><span class="id" title="abbreviation">Ret</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#a:150"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#R:149"><span class="id" title="variable">R</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#a:150"><span class="id" title="variable">a</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#b:147"><span class="id" title="variable">b</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">punfold</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="ITree.Core.ITreeDefinition.html#Ret"><span class="id" title="abbreviation">Ret</span></a> <span class="id" title="var">b</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">tl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">genobs</span> <span class="id" title="var">tl</span> <span class="id" title="var">otl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">genobs</span> <span class="id" title="var">ma</span> <span class="id" title="var">otr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">Heqotr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heqtl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Heqotl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">Heqtl</span>. <span class="id" title="var">revert</span> <span class="id" title="var">Heqotl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">tl</span>. <span class="id" title="var">revert</span> <span class="id" title="var">ma</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">r1</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">red</span>. <span class="id" title="tactic">split</span>. <span class="id" title="var">pstep</span>. <span class="id" title="tactic">red</span>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Heqotr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Heqotl</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">Heqotl</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">Heqotl</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">inv</span> <span class="id" title="var">CHECK</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">inv</span> <span class="id" title="var">CHECK</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="vis_eq_itree_L" class="idref" href="#vis_eq_itree_L"><span class="id" title="lemma">vis_eq_itree_L</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="E:151" class="idref" href="#E:151"><span class="id" title="binder">E</span></a> <a id="A:152" class="idref" href="#A:152"><span class="id" title="binder">A</span></a> <a id="B:153" class="idref" href="#B:153"><span class="id" title="binder">B</span></a> <a id="X:154" class="idref" href="#X:154"><span class="id" title="binder">X</span></a> (<a id="e:155" class="idref" href="#e:155"><span class="id" title="binder">e</span></a> : <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#E:151"><span class="id" title="variable">E</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#X:154"><span class="id" title="variable">X</span></a>) (<a id="k:156" class="idref" href="#k:156"><span class="id" title="binder">k</span></a> : <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#X:154"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#E:151"><span class="id" title="variable">E</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#A:152"><span class="id" title="variable">A</span></a>) (<a id="mb:157" class="idref" href="#mb:157"><span class="id" title="binder">mb</span></a> : <a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#E:151"><span class="id" title="variable">E</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#B:153"><span class="id" title="variable">B</span></a>) (<a id="R:158" class="idref" href="#R:158"><span class="id" title="binder">R</span></a>: <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#relationH"><span class="id" title="definition">relationH</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#A:152"><span class="id" title="variable">A</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#B:153"><span class="id" title="variable">B</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.Core.ITreeDefinition.html#Vis"><span class="id" title="abbreviation">Vis</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#e:155"><span class="id" title="variable">e</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#k:156"><span class="id" title="variable">k</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">≈{</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#R:158"><span class="id" title="variable">R</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">}</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#mb:157"><span class="id" title="variable">mb</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">(</span></a><a id="k':159" class="idref" href="#k':159"><span class="id" title="binder">k'</span></a> : <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#X:154"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#E:151"><span class="id" title="variable">E</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#B:153"><span class="id" title="variable">B</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">),</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#mb:157"><span class="id" title="variable">mb</span></a> <a class="idref" href="ITree.Eq.Eq.html#7123c605943b5e01235e17fe532efcae"><span class="id" title="notation">≅</span></a> <a class="idref" href="ITree.Core.ITreeDefinition.html#Vis"><span class="id" title="abbreviation">Vis</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#e:155"><span class="id" title="variable">e</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#k':159"><span class="id" title="variable">k'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">punfold</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="ITree.Core.ITreeDefinition.html#Vis"><span class="id" title="abbreviation">Vis</span></a> <span class="id" title="var">e</span> <span class="id" title="var">k</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">tl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">genobs</span> <span class="id" title="var">tl</span> <span class="id" title="var">otl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">genobs</span> <span class="id" title="var">mb</span> <span class="id" title="var">otr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">Heqotr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heqtl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Heqotl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">Heqtl</span>. <span class="id" title="var">revert</span> <span class="id" title="var">Heqotl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">tl</span>. <span class="id" title="var">revert</span> <span class="id" title="var">mb</span>. <span class="id" title="var">revert</span> <span class="id" title="var">e</span> <span class="id" title="var">k</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Heqotl</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Heqotl</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">REL</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Heqotl</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">Heqotl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>. <span class="id" title="tactic">dependent</span> <span class="id" title="tactic">destruction</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">dependent</span> <span class="id" title="tactic">destruction</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">k2</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heqotr</span>. <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="ITree.Eq.Eq.html#itree_eta"><span class="id" title="lemma">itree_eta</span></a>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Heqotl</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">inv</span> <span class="id" title="var">CHECK</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="vis_eq_itree_R" class="idref" href="#vis_eq_itree_R"><span class="id" title="lemma">vis_eq_itree_R</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <a id="E:160" class="idref" href="#E:160"><span class="id" title="binder">E</span></a> <a id="A:161" class="idref" href="#A:161"><span class="id" title="binder">A</span></a> <a id="B:162" class="idref" href="#B:162"><span class="id" title="binder">B</span></a> <a id="X:163" class="idref" href="#X:163"><span class="id" title="binder">X</span></a> (<a id="e:164" class="idref" href="#e:164"><span class="id" title="binder">e</span></a> : <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#E:160"><span class="id" title="variable">E</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#X:163"><span class="id" title="variable">X</span></a>) (<a id="k:165" class="idref" href="#k:165"><span class="id" title="binder">k</span></a> : <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#X:163"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#E:160"><span class="id" title="variable">E</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#B:162"><span class="id" title="variable">B</span></a>) (<a id="ma:166" class="idref" href="#ma:166"><span class="id" title="binder">ma</span></a> : <a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#E:160"><span class="id" title="variable">E</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#A:161"><span class="id" title="variable">A</span></a>) (<a id="R:167" class="idref" href="#R:167"><span class="id" title="binder">R</span></a>: <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#relationH"><span class="id" title="definition">relationH</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#A:161"><span class="id" title="variable">A</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#B:162"><span class="id" title="variable">B</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#ma:166"><span class="id" title="variable">ma</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">≈{</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#R:167"><span class="id" title="variable">R</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">}</span></a> <a class="idref" href="ITree.Core.ITreeDefinition.html#Vis"><span class="id" title="abbreviation">Vis</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#e:164"><span class="id" title="variable">e</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#k:165"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">(</span></a><a id="k':168" class="idref" href="#k':168"><span class="id" title="binder">k'</span></a> : <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#X:163"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#E:160"><span class="id" title="variable">E</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#A:161"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">),</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#ma:166"><span class="id" title="variable">ma</span></a> <a class="idref" href="ITree.Eq.Eq.html#7123c605943b5e01235e17fe532efcae"><span class="id" title="notation">≅</span></a> <a class="idref" href="ITree.Core.ITreeDefinition.html#Vis"><span class="id" title="abbreviation">Vis</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#e:164"><span class="id" title="variable">e</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#k':168"><span class="id" title="variable">k'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">punfold</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="ITree.Core.ITreeDefinition.html#Vis"><span class="id" title="abbreviation">Vis</span></a> <span class="id" title="var">e</span> <span class="id" title="var">k</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">tl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">genobs</span> <span class="id" title="var">tl</span> <span class="id" title="var">otl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">genobs</span> <span class="id" title="var">ma</span> <span class="id" title="var">otr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">Heqotr</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heqtl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Heqotl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">Heqtl</span>. <span class="id" title="var">revert</span> <span class="id" title="var">Heqotl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">tl</span>. <span class="id" title="var">revert</span> <span class="id" title="var">ma</span>. <span class="id" title="var">revert</span> <span class="id" title="var">e</span> <span class="id" title="var">k</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Heqotl</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Heqotl</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">REL</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Heqotl</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">Heqotl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>. <span class="id" title="tactic">dependent</span> <span class="id" title="tactic">destruction</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">dependent</span> <span class="id" title="tactic">destruction</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">k1</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heqotr</span>. <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="ITree.Eq.Eq.html#itree_eta"><span class="id" title="lemma">itree_eta</span></a>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">inv</span> <span class="id" title="var">CHECK</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">inv</span> <span class="id" title="var">CHECK</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="ret_mayRet" class="idref" href="#ret_mayRet"><span class="id" title="lemma">ret_mayRet</span></a> : <span class="id" title="keyword">forall</span> <a id="E:169" class="idref" href="#E:169"><span class="id" title="binder">E</span></a> <a id="A:170" class="idref" href="#A:170"><span class="id" title="binder">A</span></a> (<a id="x:171" class="idref" href="#x:171"><span class="id" title="binder">x</span></a> : <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#A:170"><span class="id" title="variable">A</span></a>), <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#x:171"><span class="id" title="variable">x</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#91e97f679796ae2f33b88d366e97515d"><span class="id" title="notation">∈</span></a> <span class="id" title="method">ret</span> (<span class="id" title="var">m</span> := <a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#E:169"><span class="id" title="variable">E</span></a>) <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#x:171"><span class="id" title="variable">x</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.Eq.Eq.html#eqit_inv_Ret"><span class="id" title="lemma">eqit_inv_Ret</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">EQR</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">global</span>]<br/>
<span class="id" title="keyword">Instance</span> <a id="eqmR_mayRet_l_ITree" class="idref" href="#eqmR_mayRet_l_ITree"><span class="id" title="instance">eqmR_mayRet_l_ITree</span></a> {<a id="E:172" class="idref" href="#E:172"><span class="id" title="binder">E</span></a>}: <a class="idref" href="ITree.EqmR.EqmRMonad.html#MayRetL"><span class="id" title="class">MayRetL</span></a> (<a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#E:172"><span class="id" title="variable">E</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">red</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>* <span class="id" title="var">EQ</span> <span class="id" title="var">a1</span> <span class="id" title="var">IN</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#Returns_mayRet"><span class="id" title="lemma">Returns_mayRet</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">IN</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">EQ</span>. <span class="id" title="var">revert</span> <span class="id" title="var">RA</span> <span class="id" title="var">ma2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">IN</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="ITree.Core.ITreeDefinition.html#Ret"><span class="id" title="abbreviation">Ret</span></a> <span class="id" title="var">a1</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">≈{</span></a> <span class="id" title="var">RA</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">}</span></a> <span class="id" title="var">ma2</span>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#ret_eq_itree_L"><span class="id" title="lemma">ret_eq_itree_L</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span> <span class="id" title="tactic">in</span> <span class="id" title="var">EQR</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ITree.Eq.Eq.html#eqit_inv_Ret"><span class="id" title="lemma">eqit_inv_Ret</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">EQR</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span> <span class="id" title="tactic">in</span> <span class="id" title="var">EQ</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ITree.Eq.Eq.html#eqit_inv"><span class="id" title="lemma">eqit_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">EQ</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">EQ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="ITree.Core.ITreeDefinition.html#_observe"><span class="id" title="projection">_observe</span></a> <span class="id" title="var">ma2</span>) <span class="id" title="var">eqn</span>: <span class="id" title="var">Hma2</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<span class="id" title="var">inv</span> <span class="id" title="var">EQ</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHIN</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">EQ</span>). <span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hma2</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ITree.Eq.Eq.html#simpobs"><span class="id" title="lemma">simpobs</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hma2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">crunch</span>. <span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#Returns_mayRet"><span class="id" title="lemma">Returns_mayRet</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#ReturnsTau"><span class="id" title="constructor">ReturnsTau</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#Returns_mayRet"><span class="id" title="lemma">Returns_mayRet</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="ITree.Core.ITreeDefinition.html#Vis"><span class="id" title="abbreviation">Vis</span></a> <span class="id" title="var">e</span> <span class="id" title="var">k</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">≈{</span></a> <span class="id" title="var">RA</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">}</span></a> <span class="id" title="var">ma2</span>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;} <span class="id" title="tactic">clear</span> <span class="id" title="var">EQ</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">assert</span> (<span class="id" title="var">EQ</span> := <span class="id" title="var">H0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#vis_eq_itree_L"><span class="id" title="lemma">vis_eq_itree_L</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="ITree.Core.ITreeDefinition.html#Vis"><span class="id" title="abbreviation">Vis</span></a> <span class="id" title="var">e</span> <span class="id" title="var">k</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">≈{</span></a><span class="id" title="var">RA</span><a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">}</span></a> <a class="idref" href="ITree.Core.ITreeDefinition.html#Vis"><span class="id" title="abbreviation">Vis</span></a> <span class="id" title="var">e</span> <span class="id" title="var">x0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.Eq.Eq.html#eqit_inv_Vis"><span class="id" title="lemma">eqit_inv_Vis</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">u</span> := <span class="id" title="var">x</span>)<span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHIN</span> <span class="id" title="var">RA</span> (<span class="id" title="var">x0</span> <span class="id" title="var">x</span>) <span class="id" title="var">H0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">IHIN</span> <span class="id" title="keyword">as</span> (? &amp; ? &amp; ?).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">x1</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#Returns_mayRet"><span class="id" title="lemma">Returns_mayRet</span></a>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#ReturnsVis"><span class="id" title="constructor">ReturnsVis</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>. <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#Returns_mayRet"><span class="id" title="lemma">Returns_mayRet</span></a>. <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">global</span>]<br/>
<span class="id" title="keyword">Instance</span> <a id="eqmR_mayRet_r_ITree" class="idref" href="#eqmR_mayRet_r_ITree"><span class="id" title="instance">eqmR_mayRet_r_ITree</span></a> {<a id="E:173" class="idref" href="#E:173"><span class="id" title="binder">E</span></a>}: <a class="idref" href="ITree.EqmR.EqmRMonad.html#MayRetR"><span class="id" title="class">MayRetR</span></a> (<a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#E:173"><span class="id" title="variable">E</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">red</span>. <span class="id" title="tactic">intros</span>* <span class="id" title="var">EQ</span> <span class="id" title="var">a2</span> <span class="id" title="var">IN</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#Returns_mayRet"><span class="id" title="lemma">Returns_mayRet</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">IN</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">EQ</span>. <span class="id" title="var">revert</span> <span class="id" title="var">RA</span> <span class="id" title="var">ma1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">IN</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">ma1</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">≈{</span></a> <span class="id" title="var">RA</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">}</span></a> <a class="idref" href="ITree.Core.ITreeDefinition.html#Ret"><span class="id" title="abbreviation">Ret</span></a> <span class="id" title="var">a2</span>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#ret_eq_itree_R"><span class="id" title="lemma">ret_eq_itree_R</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span> <span class="id" title="tactic">in</span> <span class="id" title="var">EQR</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ITree.Eq.Eq.html#eqit_inv_Ret"><span class="id" title="lemma">eqit_inv_Ret</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">EQR</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span> <span class="id" title="tactic">in</span> <span class="id" title="var">EQ</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ITree.Eq.Eq.html#eqit_inv"><span class="id" title="lemma">eqit_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">EQ</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">EQ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="ITree.Core.ITreeDefinition.html#_observe"><span class="id" title="projection">_observe</span></a> <span class="id" title="var">ma1</span>) <span class="id" title="var">eqn</span>: <span class="id" title="var">Hma1</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<span class="id" title="var">inv</span> <span class="id" title="var">EQ</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHIN</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">EQ</span>). <span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hma1</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ITree.Eq.Eq.html#simpobs"><span class="id" title="lemma">simpobs</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hma1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">crunch</span>. <span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#Returns_mayRet"><span class="id" title="lemma">Returns_mayRet</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#ReturnsTau"><span class="id" title="constructor">ReturnsTau</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#Returns_mayRet"><span class="id" title="lemma">Returns_mayRet</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">ma1</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">≈{</span></a> <span class="id" title="var">RA</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">}</span></a> <a class="idref" href="ITree.Core.ITreeDefinition.html#Vis"><span class="id" title="abbreviation">Vis</span></a> <span class="id" title="var">e</span> <span class="id" title="var">k</span>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;} <span class="id" title="tactic">clear</span> <span class="id" title="var">EQ</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">assert</span> (<span class="id" title="var">EQ</span> := <span class="id" title="var">H0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#vis_eq_itree_R"><span class="id" title="lemma">vis_eq_itree_R</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="ITree.Core.ITreeDefinition.html#Vis"><span class="id" title="abbreviation">Vis</span></a> <span class="id" title="var">e</span> <span class="id" title="var">x0</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">≈{</span></a><span class="id" title="var">RA</span><a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">}</span></a> <a class="idref" href="ITree.Core.ITreeDefinition.html#Vis"><span class="id" title="abbreviation">Vis</span></a> <span class="id" title="var">e</span> <span class="id" title="var">k</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.Eq.Eq.html#eqit_inv_Vis"><span class="id" title="lemma">eqit_inv_Vis</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">u</span> := <span class="id" title="var">x</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHIN</span> <span class="id" title="var">RA</span> (<span class="id" title="var">x0</span> <span class="id" title="var">x</span>) <span class="id" title="var">H0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">IHIN</span> <span class="id" title="keyword">as</span> (? &amp; ? &amp; ?).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">x1</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#Returns_mayRet"><span class="id" title="lemma">Returns_mayRet</span></a>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#ReturnsVis"><span class="id" title="constructor">ReturnsVis</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>. <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#Returns_mayRet"><span class="id" title="lemma">Returns_mayRet</span></a>. <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="eq_itree_prod_rel" class="idref" href="#eq_itree_prod_rel"><span class="id" title="lemma">eq_itree_prod_rel</span></a> {<a id="E:174" class="idref" href="#E:174"><span class="id" title="binder">E</span></a>}:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<a id="A:175" class="idref" href="#A:175"><span class="id" title="binder">A</span></a> <a id="B:176" class="idref" href="#B:176"><span class="id" title="binder">B</span></a> : <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="RA:177" class="idref" href="#RA:177"><span class="id" title="binder">RA</span></a> : <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#relationH"><span class="id" title="definition">relationH</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#A:175"><span class="id" title="variable">A</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#A:175"><span class="id" title="variable">A</span></a>) (<a id="RB:178" class="idref" href="#RB:178"><span class="id" title="binder">RB</span></a> : <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#relationH"><span class="id" title="definition">relationH</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#B:176"><span class="id" title="variable">B</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#B:176"><span class="id" title="variable">B</span></a>) (<a id="ma:179" class="idref" href="#ma:179"><span class="id" title="binder">ma</span></a> : <a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#E:174"><span class="id" title="variable">E</span></a> (<a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#A:175"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#B:176"><span class="id" title="variable">B</span></a>)),<br/>
&nbsp;&nbsp;<a class="idref" href="ITree.Eq.Eq.html#eq_itree"><span class="id" title="definition">eq_itree</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#RA:177"><span class="id" title="variable">RA</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <span class="id" title="notation">&lt;$&gt;</span> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#ma:179"><span class="id" title="variable">ma</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <span class="id" title="notation">&lt;$&gt;</span> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#ma:179"><span class="id" title="variable">ma</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ITree.Eq.Eq.html#eq_itree"><span class="id" title="definition">eq_itree</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#RB:178"><span class="id" title="variable">RB</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <span class="id" title="notation">&lt;$&gt;</span> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#ma:179"><span class="id" title="variable">ma</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <span class="id" title="notation">&lt;$&gt;</span> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#ma:179"><span class="id" title="variable">ma</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ITree.Eq.Eq.html#eq_itree"><span class="id" title="definition">eq_itree</span></a> (<a class="idref" href="ITree.Basics.HeterogeneousRelations.html#prod_rel"><span class="id" title="inductive">prod_rel</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#RA:177"><span class="id" title="variable">RA</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#RB:178"><span class="id" title="variable">RB</span></a>) <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#ma:179"><span class="id" title="variable">ma</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#ma:179"><span class="id" title="variable">ma</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="tactic">until</span> <span class="id" title="var">RB</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">ginit</span>. <span class="id" title="var">gcofix</span> <span class="id" title="var">CIH</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> * <span class="id" title="var">H_fst</span> <span class="id" title="var">H_snd</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.Eq.Eq.html#itree_eta"><span class="id" title="lemma">itree_eta</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">genobs</span> <span class="id" title="var">ma</span> <span class="id" title="var">oma</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="ITree.Core.ITreeDefinition.html#observe"><span class="id" title="definition">observe</span></a> <span class="id" title="var">ma</span>) <span class="id" title="var">eqn</span>: <span class="id" title="var">EQma</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="var">pclearbot</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">assert</span> (<span class="id" title="var">ma</span> <a class="idref" href="ITree.Eq.Eq.html#7123c605943b5e01235e17fe532efcae"><span class="id" title="notation">≅</span></a> <a class="idref" href="ITree.Core.ITreeDefinition.html#Ret"><span class="id" title="abbreviation">Ret</span></a> <span class="id" title="var">r0</span>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">red</span>. <span class="id" title="var">pstep</span>. <span class="id" title="tactic">red</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">EQma</span>. <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H_fst</span>, <span class="id" title="var">H_snd</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">unfold</span> <a class="idref" href="ITree.Core.ITreeDefinition.html#ITree.map"><span class="id" title="definition">ITree.map</span></a> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.Eq.Eq.html#bind_ret_l"><span class="id" title="lemma">Eq.bind_ret_l</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H_fst</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.Eq.Eq.html#bind_ret_l"><span class="id" title="lemma">Eq.bind_ret_l</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H_snd</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ITree.Eq.Eq.html#eqit_inv_Ret"><span class="id" title="lemma">eqit_inv_Ret</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H_fst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ITree.Eq.Eq.html#eqit_inv_Ret"><span class="id" title="lemma">eqit_inv_Ret</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H_snd</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">r0</span>. <span class="id" title="var">gstep</span>. <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">assert</span> (<span class="id" title="var">ma</span> <a class="idref" href="ITree.Eq.Eq.html#7123c605943b5e01235e17fe532efcae"><span class="id" title="notation">≅</span></a> <a class="idref" href="ITree.Core.ITreeDefinition.html#Tau"><span class="id" title="abbreviation">Tau</span></a> <span class="id" title="var">t</span>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">red</span>. <span class="id" title="var">pstep</span>. <span class="id" title="tactic">red</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">EQma</span>. <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">t</span> <a class="idref" href="ITree.Eq.Eq.html#7123c605943b5e01235e17fe532efcae"><span class="id" title="notation">≅</span></a> <span class="id" title="var">t</span>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">left</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">gstep</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>. <span class="id" title="var">gfinal</span>. <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H_fst</span>, <span class="id" title="var">H_snd</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="method">fmap</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H_snd</span>, <span class="id" title="var">H_fst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="ITree.Eq.Eq.html#bind_tau"><span class="id" title="lemma">bind_tau</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H_snd</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="ITree.Eq.Eq.html#bind_tau"><span class="id" title="lemma">bind_tau</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H_fst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ITree.Eq.Eq.html#eqit_inv"><span class="id" title="lemma">eqit_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H_snd</span>, <span class="id" title="var">H_fst</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H_snd</span>, <span class="id" title="var">H_fst</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">assert</span> (<span class="id" title="var">ma</span> <a class="idref" href="ITree.Eq.Eq.html#7123c605943b5e01235e17fe532efcae"><span class="id" title="notation">≅</span></a> <a class="idref" href="ITree.Core.ITreeDefinition.html#Vis"><span class="id" title="abbreviation">Vis</span></a> <span class="id" title="var">e</span> <span class="id" title="var">k</span>). {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">red</span>. <span class="id" title="var">pstep</span>. <span class="id" title="tactic">red</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">EQma</span>. <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">red</span>. <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">k</span> <span class="id" title="var">v</span> <a class="idref" href="ITree.Eq.Eq.html#7123c605943b5e01235e17fe532efcae"><span class="id" title="notation">≅</span></a> <span class="id" title="var">k</span> <span class="id" title="var">v</span>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">EQma</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">gstep</span>. <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="var">gfinal</span>. <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">CIH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H_fst</span>, <span class="id" title="var">H_snd</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">unfold</span> <a class="idref" href="ITree.Core.ITreeDefinition.html#ITree.map"><span class="id" title="definition">ITree.map</span></a> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.Eq.Eq.html#bind_vis"><span class="id" title="lemma">bind_vis</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H_fst</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.Eq.Eq.html#bind_vis"><span class="id" title="lemma">bind_vis</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H_snd</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H_fst</span>. <span class="id" title="var">punfold</span> <span class="id" title="var">H_fst</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H_fst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">destruction</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">destruction</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">destruction</span> <span class="id" title="var">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">destruction</span> <span class="id" title="var">H5</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">REL</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">REL</span> <span class="id" title="var">v</span>). <span class="id" title="tactic">destruct</span> <span class="id" title="var">REL</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">punfold</span> <span class="id" title="var">H0</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H0</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H_fst</span>, <span class="id" title="var">H_snd</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">unfold</span> <a class="idref" href="ITree.Core.ITreeDefinition.html#ITree.map"><span class="id" title="definition">ITree.map</span></a> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.Eq.Eq.html#bind_vis"><span class="id" title="lemma">bind_vis</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H_snd</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H_snd</span>. <span class="id" title="var">punfold</span> <span class="id" title="var">H_snd</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H_snd</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">destruction</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">destruction</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">destruction</span> <span class="id" title="var">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">destruction</span> <span class="id" title="var">H5</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">REL</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">REL</span> <span class="id" title="var">v</span>). <span class="id" title="tactic">destruct</span> <span class="id" title="var">REL</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">punfold</span> <span class="id" title="var">H0</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H0</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="eq_itree_prod_rel_homo'" class="idref" href="#eq_itree_prod_rel_homo'"><span class="id" title="lemma">eq_itree_prod_rel_homo'</span></a> {<a id="E:180" class="idref" href="#E:180"><span class="id" title="binder">E</span></a>}:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<a id="A:181" class="idref" href="#A:181"><span class="id" title="binder">A</span></a> <a id="B:182" class="idref" href="#B:182"><span class="id" title="binder">B</span></a> : <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="RA:183" class="idref" href="#RA:183"><span class="id" title="binder">RA</span></a> : <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#relationH"><span class="id" title="definition">relationH</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#A:181"><span class="id" title="variable">A</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#A:181"><span class="id" title="variable">A</span></a>) (<a id="RB:184" class="idref" href="#RB:184"><span class="id" title="binder">RB</span></a> : <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#relationH"><span class="id" title="definition">relationH</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#B:182"><span class="id" title="variable">B</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#B:182"><span class="id" title="variable">B</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="ma:185" class="idref" href="#ma:185"><span class="id" title="binder">ma</span></a> <a id="ma':186" class="idref" href="#ma':186"><span class="id" title="binder">ma'</span></a> : <a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#E:180"><span class="id" title="variable">E</span></a> (<a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#A:181"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#B:182"><span class="id" title="variable">B</span></a>)),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#ma:185"><span class="id" title="variable">ma</span></a> <a class="idref" href="ITree.Eq.Eq.html#7123c605943b5e01235e17fe532efcae"><span class="id" title="notation">≅</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#ma':186"><span class="id" title="variable">ma'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.Eq.Eq.html#eq_itree"><span class="id" title="definition">eq_itree</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#RA:183"><span class="id" title="variable">RA</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <span class="id" title="notation">&lt;$&gt;</span> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#ma:185"><span class="id" title="variable">ma</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <span class="id" title="notation">&lt;$&gt;</span> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#ma':186"><span class="id" title="variable">ma'</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.Eq.Eq.html#eq_itree"><span class="id" title="definition">eq_itree</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#RB:184"><span class="id" title="variable">RB</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <span class="id" title="notation">&lt;$&gt;</span> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#ma:185"><span class="id" title="variable">ma</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <span class="id" title="notation">&lt;$&gt;</span> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#ma':186"><span class="id" title="variable">ma'</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.Eq.Eq.html#eq_itree"><span class="id" title="definition">eq_itree</span></a> (<a class="idref" href="ITree.Basics.HeterogeneousRelations.html#prod_rel"><span class="id" title="inductive">prod_rel</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#RA:183"><span class="id" title="variable">RA</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#RB:184"><span class="id" title="variable">RB</span></a>) <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#ma:185"><span class="id" title="variable">ma</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#ma':186"><span class="id" title="variable">ma'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">apply</span> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#eq_itree_prod_rel"><span class="id" title="lemma">eq_itree_prod_rel</span></a>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">global</span>]<br/>
<span class="id" title="keyword">Instance</span> <a id="eqmR_prod_rel_ITree" class="idref" href="#eqmR_prod_rel_ITree"><span class="id" title="instance">eqmR_prod_rel_ITree</span></a> {<a id="E:187" class="idref" href="#E:187"><span class="id" title="binder">E</span></a>} : <a class="idref" href="ITree.EqmR.EqmRMonad.html#RelProd"><span class="id" title="class">RelProd</span></a> (<a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#E:187"><span class="id" title="variable">E</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="tactic">until</span> <span class="id" title="var">RB</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">ginit</span>. <span class="id" title="var">gcofix</span> <span class="id" title="var">CIH</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> * <span class="id" title="var">EQ</span> <span class="id" title="var">EQ'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.Eq.Eq.html#itree_eta"><span class="id" title="lemma">itree_eta</span></a>, (<a class="idref" href="ITree.Eq.Eq.html#itree_eta"><span class="id" title="lemma">itree_eta</span></a> <span class="id" title="var">m2</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">punfold</span> <span class="id" title="var">EQ</span>; <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">EQ</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <span class="id" title="notation">&lt;$&gt;</span> <span class="id" title="var">m1</span>) <span class="id" title="var">eqn</span>: <span class="id" title="var">P</span>; <span class="id" title="var">remember</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <span class="id" title="notation">&lt;$&gt;</span> <span class="id" title="var">m2</span>) <span class="id" title="var">eqn</span>: <span class="id" title="var">P'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Q</span>: <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <span class="id" title="notation">&lt;$&gt;</span> <span class="id" title="var">m1</span> <a class="idref" href="ITree.Eq.Eq.html#7123c605943b5e01235e17fe532efcae"><span class="id" title="notation">≅</span></a> <span class="id" title="var">i</span>) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">subst</span>; <span class="id" title="tactic">reflexivity</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Q'</span>: <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <span class="id" title="notation">&lt;$&gt;</span> <span class="id" title="var">m2</span> <a class="idref" href="ITree.Eq.Eq.html#7123c605943b5e01235e17fe532efcae"><span class="id" title="notation">≅</span></a> <span class="id" title="var">i0</span>) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">subst</span>; <span class="id" title="tactic">reflexivity</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">P</span> <span class="id" title="var">P'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">genobs</span> <span class="id" title="var">i</span> <span class="id" title="var">ot</span>; <span class="id" title="var">genobs</span> <span class="id" title="var">i0</span> <span class="id" title="var">os</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">hinduction</span> <span class="id" title="var">EQ</span> <span class="id" title="keyword">before</span> <span class="id" title="var">CIH</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="var">pclearbot</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="ITree.Eq.Eq.html#simpobs"><span class="id" title="lemma">simpobs</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heqot</span>, <span class="id" title="var">Heqos</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="method">fmap</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Q</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Heqot</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Q'</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Heqos</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ITree.Eq.Eq.html#eqit_inv_bind_ret"><span class="id" title="lemma">eqit_inv_bind_ret</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heqot</span>, <span class="id" title="var">Heqos</span>. <span class="id" title="var">crunch</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span>, <span class="id" title="var">H</span> <span class="id" title="tactic">in</span> <span class="id" title="var">EQ'</span>. <span class="id" title="var">gfinal</span>. <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ITree.Eq.Eq.html#eqit_inv"><span class="id" title="lemma">eqit_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>, <span class="id" title="var">H2</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">rewrite</span>! <a class="idref" href="ITree.Eq.Eq.html#bind_ret_l"><span class="id" title="lemma">Eq.bind_ret_l</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">EQ'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ITree.Eq.Eq.html#eqit_inv"><span class="id" title="lemma">eqit_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">EQ'</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span>, <span class="id" title="var">x0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.Eq.Eq.html#eqit_inv"><span class="id" title="lemma">eqit_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>, <span class="id" title="var">H0</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">unfold</span> <a class="idref" href="ITree.Core.ITreeDefinition.html#observe"><span class="id" title="definition">observe</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="ITree.Core.ITreeDefinition.html#_observe"><span class="id" title="projection">_observe</span></a> <span class="id" title="var">m1</span>), (<a class="idref" href="ITree.Core.ITreeDefinition.html#_observe"><span class="id" title="projection">_observe</span></a> <span class="id" title="var">m2</span>); <span class="id" title="tactic">try</span> <span class="id" title="var">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">pstep</span>. <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Heqot</span>, <span class="id" title="var">Heqos</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#observe_eqitree"><span class="id" title="lemma">observe_eqitree</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heqot</span>, <span class="id" title="var">Heqos</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="method">fmap</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Heqot</span>, <span class="id" title="var">Heqos</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Q</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Heqot</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Q'</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Heqos</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ITree.Eq.Eq.html#eqitree_inv_bind_tau"><span class="id" title="lemma">eqitree_inv_bind_tau</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heqot</span>. <span class="id" title="var">crunch</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2 : { <span class="id" title="var">punfold</span> <span class="id" title="var">H0</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H0</span>. <span class="id" title="var">inv</span> <span class="id" title="var">CHECK</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ITree.Eq.Eq.html#eqitree_inv_bind_tau"><span class="id" title="lemma">eqitree_inv_bind_tau</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heqos</span>. <span class="id" title="var">crunch</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2 : { <span class="id" title="var">punfold</span> <span class="id" title="var">H2</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H2</span>. <span class="id" title="var">inv</span> <span class="id" title="var">CHECK</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>, <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">gstep</span>. <span class="id" title="tactic">constructor</span>. <span class="id" title="var">gbase</span>; <span class="id" title="tactic">eapply</span> <span class="id" title="var">CIH</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span>, <span class="id" title="var">H2</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>, <span class="id" title="var">H1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">EQ'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="method">fmap</span> <span class="id" title="tactic">in</span> <span class="id" title="var">EQ'</span>. <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="ITree.Eq.Eq.html#bind_tau"><span class="id" title="lemma">bind_tau</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">EQ'</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ITree.Eq.Eq.html#eqit_inv"><span class="id" title="lemma">eqit_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">EQ'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Heqot</span>, <span class="id" title="var">Heqos</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#observe_eqitree"><span class="id" title="lemma">observe_eqitree</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heqot</span>, <span class="id" title="var">Heqos</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rename</span> <span class="id" title="var">Heqot</span> <span class="id" title="var">into</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">rename</span> <span class="id" title="var">Heqos</span> <span class="id" title="var">into</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Q</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Q'</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ITree.Eq.Eq.html#eqitree_inv_bind_vis"><span class="id" title="lemma">eqitree_inv_bind_vis</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="var">crunch</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2 : { <span class="id" title="var">punfold</span> <span class="id" title="var">H1</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H1</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ITree.Eq.Eq.html#eqitree_inv_bind_vis"><span class="id" title="lemma">eqitree_inv_bind_vis</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="var">crunch</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2 : { <span class="id" title="var">punfold</span> <span class="id" title="var">H2</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H2</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>, <span class="id" title="var">H0</span>. <span class="id" title="var">gstep</span>. <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="var">gbase</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">CIH</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="method">fmap</span>. <span class="id" title="tactic">setoid_rewrite</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">setoid_rewrite</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">REL</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>, <span class="id" title="var">H0</span> <span class="id" title="tactic">in</span> <span class="id" title="var">EQ'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="method">fmap</span> <span class="id" title="tactic">in</span> <span class="id" title="var">EQ'</span>. <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="ITree.Eq.Eq.html#bind_vis"><span class="id" title="lemma">bind_vis</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">EQ'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.Eq.Eq.html#eqit_inv_Vis"><span class="id" title="lemma">eqit_inv_Vis</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">EQ'</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *. <span class="id" title="var">crunch</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">inv</span> <span class="id" title="var">CHECK</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">inv</span> <span class="id" title="var">CHECK</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">global</span>]<br/>
<span class="id" title="keyword">Instance</span> <a id="eqmR_prod_fst_inv_ITree" class="idref" href="#eqmR_prod_fst_inv_ITree"><span class="id" title="instance">eqmR_prod_fst_inv_ITree</span></a> {<a id="E:188" class="idref" href="#E:188"><span class="id" title="binder">E</span></a>}: <a class="idref" href="ITree.EqmR.EqmRMonad.html#FmapFst"><span class="id" title="class">FmapFst</span></a> (<a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#E:188"><span class="id" title="variable">E</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="method">fmap</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.Eq.Eq.html#eq_itree_clo_bind"><span class="id" title="lemma">eq_itree_clo_bind</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ITree.Eq.Eq.html#eqit_Ret"><span class="id" title="lemma">eqit_Ret</span></a>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">u1</span>, <span class="id" title="var">u2</span>; <span class="id" title="var">inv</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">global</span>]<br/>
<span class="id" title="keyword">Instance</span> <a id="eqmR_prod_snd_inv_ITree" class="idref" href="#eqmR_prod_snd_inv_ITree"><span class="id" title="instance">eqmR_prod_snd_inv_ITree</span></a> {<a id="E:189" class="idref" href="#E:189"><span class="id" title="binder">E</span></a>}: <a class="idref" href="ITree.EqmR.EqmRMonad.html#FmapSnd"><span class="id" title="class">FmapSnd</span></a> (<a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#E:189"><span class="id" title="variable">E</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="method">fmap</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.Eq.Eq.html#eq_itree_clo_bind"><span class="id" title="lemma">eq_itree_clo_bind</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ITree.Eq.Eq.html#eqit_Ret"><span class="id" title="lemma">eqit_Ret</span></a>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">u1</span>, <span class="id" title="var">u2</span>; <span class="id" title="var">inv</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">global</span>]<br/>
<span class="id" title="keyword">Instance</span> <a id="eqmR_sum_inl_ITree" class="idref" href="#eqmR_sum_inl_ITree"><span class="id" title="instance">eqmR_sum_inl_ITree</span></a> {<a id="E:190" class="idref" href="#E:190"><span class="id" title="binder">E</span></a>}: <a class="idref" href="ITree.EqmR.EqmRMonad.html#FmapInl"><span class="id" title="class">FmapInl</span></a> (<a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#E:190"><span class="id" title="variable">E</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="method">fmap</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.Eq.Eq.html#eq_itree_clo_bind"><span class="id" title="lemma">eq_itree_clo_bind</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ITree.Eq.Eq.html#eqit_Ret"><span class="id" title="lemma">eqit_Ret</span></a>. <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">global</span>]<br/>
<span class="id" title="keyword">Instance</span> <a id="eqmR_sum_inr_ITree" class="idref" href="#eqmR_sum_inr_ITree"><span class="id" title="instance">eqmR_sum_inr_ITree</span></a> {<a id="E:191" class="idref" href="#E:191"><span class="id" title="binder">E</span></a>}: <a class="idref" href="ITree.EqmR.EqmRMonad.html#FmapInr"><span class="id" title="class">FmapInr</span></a> (<a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#E:191"><span class="id" title="variable">E</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="method">fmap</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.Eq.Eq.html#eq_itree_clo_bind"><span class="id" title="lemma">eq_itree_clo_bind</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ITree.Eq.Eq.html#eqit_Ret"><span class="id" title="lemma">eqit_Ret</span></a>. <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">global</span>]<br/>
<span class="id" title="keyword">Instance</span> <a id="fmap_inv_ITree'" class="idref" href="#fmap_inv_ITree'"><span class="id" title="instance">fmap_inv_ITree'</span></a> {<a id="E:192" class="idref" href="#E:192"><span class="id" title="binder">E</span></a>}: <a class="idref" href="ITree.EqmR.EqmRMonad.html#FmapInv_mayRet"><span class="id" title="class">FmapInv_mayRet</span></a> (<a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#E:192"><span class="id" title="variable">E</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="tactic">until</span> <span class="id" title="var">ma2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">remember</span> (<span class="id" title="keyword">fun</span> <a id="a:195" class="idref" href="#a:195"><span class="id" title="binder">a</span></a> <a id="a':196" class="idref" href="#a':196"><span class="id" title="binder">a'</span></a> =&gt; <a class="idref" href="ITree.EqmR.EqmRMonad.html#mayRet_rel"><span class="id" title="definition">mayRet_rel</span></a> (<a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <span class="id" title="var">E</span>) <span class="id" title="var">ma1</span> <span class="id" title="var">ma2</span> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#a:193"><span class="id" title="variable">a</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#a':194"><span class="id" title="variable">a'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <span class="id" title="var">R</span> (<span class="id" title="var">f1</span> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#a:193"><span class="id" title="variable">a</span></a>) (<span class="id" title="var">f2</span> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#a':194"><span class="id" title="variable">a'</span></a>)) <span class="id" title="keyword">as</span> <span class="id" title="var">QQ</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="ITree.Basics.HeterogeneousRelations.html#c6c2f6d79c8e0e40e751a34bde6a2835"><span class="id" title="notation">(</span></a><span class="id" title="keyword">fun</span> <a id="a:199" class="idref" href="#a:199"><span class="id" title="binder">a</span></a> <a id="a':200" class="idref" href="#a':200"><span class="id" title="binder">a'</span></a> =&gt; <a class="idref" href="ITree.EqmR.EqmRMonad.html#mayRet_rel"><span class="id" title="definition">mayRet_rel</span></a> (<a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <span class="id" title="var">E</span>) <span class="id" title="var">ma1</span> <span class="id" title="var">ma2</span> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#a:197"><span class="id" title="variable">a</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#a':198"><span class="id" title="variable">a'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <span class="id" title="var">R</span> (<span class="id" title="var">f1</span> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#a:197"><span class="id" title="variable">a</span></a>) (<span class="id" title="var">f2</span> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#a':198"><span class="id" title="variable">a'</span></a>)<a class="idref" href="ITree.Basics.HeterogeneousRelations.html#c6c2f6d79c8e0e40e751a34bde6a2835"><span class="id" title="notation">)</span></a> <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#c6c2f6d79c8e0e40e751a34bde6a2835"><span class="id" title="notation">⊑</span></a> <span class="id" title="var">QQ</span>).<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">HeqQQ</span>. <span class="id" title="tactic">rename</span> <span class="id" title="var">H</span> <span class="id" title="var">into</span> <span class="id" title="var">HeqQQ</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">ma1</span> <span class="id" title="var">ma2</span> <span class="id" title="var">HeqQQ</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">ginit</span>. <span class="id" title="var">gcofix</span> <span class="id" title="var">CIH</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> * ? <span class="id" title="var">EQ</span>. <span class="id" title="tactic">intros</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.Eq.Eq.html#itree_eta"><span class="id" title="lemma">itree_eta</span></a>, (<a class="idref" href="ITree.Eq.Eq.html#itree_eta"><span class="id" title="lemma">itree_eta</span></a> <span class="id" title="var">ma2</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">punfold</span> <span class="id" title="var">EQ</span>; <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">EQ</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">remember</span> (<span class="id" title="var">f1</span> <span class="id" title="notation">&lt;$&gt;</span> <span class="id" title="var">ma1</span>) <span class="id" title="var">eqn</span>: <span class="id" title="var">P</span>; <span class="id" title="var">remember</span> (<span class="id" title="var">f2</span> <span class="id" title="notation">&lt;$&gt;</span> <span class="id" title="var">ma2</span>) <span class="id" title="var">eqn</span>: <span class="id" title="var">P'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Q</span>: <span class="id" title="var">f1</span> <span class="id" title="notation">&lt;$&gt;</span> <span class="id" title="var">ma1</span> <a class="idref" href="ITree.Eq.Eq.html#7123c605943b5e01235e17fe532efcae"><span class="id" title="notation">≅</span></a> <span class="id" title="var">i</span>) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">subst</span>; <span class="id" title="tactic">reflexivity</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Q'</span>: <span class="id" title="var">f2</span> <span class="id" title="notation">&lt;$&gt;</span> <span class="id" title="var">ma2</span> <a class="idref" href="ITree.Eq.Eq.html#7123c605943b5e01235e17fe532efcae"><span class="id" title="notation">≅</span></a> <span class="id" title="var">i0</span>) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">subst</span>; <span class="id" title="tactic">reflexivity</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">P</span> <span class="id" title="var">P'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">genobs</span> <span class="id" title="var">i</span> <span class="id" title="var">ot</span>; <span class="id" title="var">genobs</span> <span class="id" title="var">i0</span> <span class="id" title="var">os</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">hinduction</span> <span class="id" title="var">EQ</span> <span class="id" title="keyword">before</span> <span class="id" title="var">CIH</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="var">pclearbot</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Heqot</span>; <span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Heqos</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#observe_eqitree"><span class="id" title="lemma">observe_eqitree</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heqot</span>, <span class="id" title="var">Heqos</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="method">fmap</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Q</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Heqot</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Q'</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Heqos</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ITree.Eq.Eq.html#eqitree_inv_bind_ret"><span class="id" title="lemma">eqitree_inv_bind_ret</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heqot</span>, <span class="id" title="var">Heqos</span>. <span class="id" title="var">crunch</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Q</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Q'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span>, <span class="id" title="var">H</span>. <span class="id" title="var">gstep</span>. <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">HeqQQ</span>. <span class="id" title="tactic">split</span>. <span class="id" title="tactic">red</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span>!<a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#Returns_mayRet"><span class="id" title="lemma">Returns_mayRet</span></a>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span>, <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ITree.Eq.Eq.html#eqit_inv"><span class="id" title="lemma">eqit_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>, <span class="id" title="var">H2</span> ; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Heqot</span>, <span class="id" title="var">Heqos</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#observe_eqitree"><span class="id" title="lemma">observe_eqitree</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heqot</span>, <span class="id" title="var">Heqos</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="method">fmap</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Heqot</span>, <span class="id" title="var">Heqos</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Q</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Heqot</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Q'</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Heqos</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ITree.Eq.Eq.html#eqitree_inv_bind_tau"><span class="id" title="lemma">eqitree_inv_bind_tau</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heqot</span>. <span class="id" title="var">crunch</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2 : { <span class="id" title="var">punfold</span> <span class="id" title="var">H0</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H0</span>. <span class="id" title="var">inv</span> <span class="id" title="var">CHECK</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ITree.Eq.Eq.html#eqitree_inv_bind_tau"><span class="id" title="lemma">eqitree_inv_bind_tau</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heqos</span>. <span class="id" title="var">crunch</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2 : { <span class="id" title="var">punfold</span> <span class="id" title="var">H2</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H2</span>. <span class="id" title="var">inv</span> <span class="id" title="var">CHECK</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>, <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">gstep</span>; <span class="id" title="tactic">constructor</span>. <span class="id" title="var">gbase</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">CIH</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">cycle</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span>, <span class="id" title="var">H2</span>. <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#mayRet_rel"><span class="id" title="definition">mayRet_rel</span></a>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">HeqQQ</span>. <span class="id" title="var">crunch</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">red</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span>!<a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#Returns_mayRet"><span class="id" title="lemma">Returns_mayRet</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>, <span class="id" title="var">H1</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#ReturnsTau"><span class="id" title="constructor">ReturnsTau</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#Returns_mayRet"><span class="id" title="lemma">Returns_mayRet</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span>, <span class="id" title="var">H5</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Heqot</span>, <span class="id" title="var">Heqos</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#observe_eqitree"><span class="id" title="lemma">observe_eqitree</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heqot</span>, <span class="id" title="var">Heqos</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rename</span> <span class="id" title="var">Heqot</span> <span class="id" title="var">into</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">rename</span> <span class="id" title="var">Heqos</span> <span class="id" title="var">into</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Q</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Q'</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ITree.Eq.Eq.html#eqitree_inv_bind_vis"><span class="id" title="lemma">eqitree_inv_bind_vis</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="var">crunch</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2 : { <span class="id" title="var">punfold</span> <span class="id" title="var">H1</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H1</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ITree.Eq.Eq.html#eqitree_inv_bind_vis"><span class="id" title="lemma">eqitree_inv_bind_vis</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="var">crunch</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2 : { <span class="id" title="var">punfold</span> <span class="id" title="var">H2</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H2</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>, <span class="id" title="var">H0</span>. <span class="id" title="var">gstep</span>. <span class="id" title="tactic">constructor</span>. <span class="id" title="var">gbase</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">CIH</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="var">cycle</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="method">fmap</span>. <span class="id" title="tactic">setoid_rewrite</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">setoid_rewrite</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">REL</span> <span class="id" title="var">v</span>). <span class="id" title="tactic">red</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">REL</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#mayRet_rel"><span class="id" title="definition">mayRet_rel</span></a> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">HeqQQ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">crunch</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#Returns_mayRet"><span class="id" title="lemma">Returns_mayRet</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span>, <span class="id" title="var">H5</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">crunch</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#Returns_mayRet"><span class="id" title="lemma">Returns_mayRet</span></a>; <span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#ReturnsVis"><span class="id" title="constructor">ReturnsVis</span></a>; <span class="id" title="tactic">eauto</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#Returns_mayRet"><span class="id" title="lemma">Returns_mayRet</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span>, <span class="id" title="var">H5</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">crunch</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#Returns_mayRet"><span class="id" title="lemma">Returns_mayRet</span></a>; <span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#ReturnsVis"><span class="id" title="constructor">ReturnsVis</span></a>; <span class="id" title="tactic">eauto</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">inv</span> <span class="id" title="var">CHECK</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">inv</span> <span class="id" title="var">CHECK</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">global</span>]<br/>
<span class="id" title="keyword">Instance</span> <a id="eqmR_sum_rel_ITree" class="idref" href="#eqmR_sum_rel_ITree"><span class="id" title="instance">eqmR_sum_rel_ITree</span></a> {<a id="E:201" class="idref" href="#E:201"><span class="id" title="binder">E</span></a>}: <a class="idref" href="ITree.EqmR.EqmRMonad.html#RelSum"><span class="id" title="class">RelSum</span></a> (<a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#E:201"><span class="id" title="variable">E</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span>; [<span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">unfold</span> <span class="id" title="method">fmap</span>|].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.Eq.Eq.html#eq_itree_clo_bind"><span class="id" title="lemma">eq_itree_clo_bind</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ITree.Eq.Eq.html#eqit_Ret"><span class="id" title="lemma">eqit_Ret</span></a>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">u1</span>, <span class="id" title="var">u2</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">inv</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">specialize</span> (<span class="id" title="var">H</span> (<span class="id" title="var">A1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">+</span></a> <span class="id" title="var">B1</span>)%<span class="id" title="keyword">type</span> (<span class="id" title="var">A2</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">+</span></a> <span class="id" title="var">B2</span>)%<span class="id" title="keyword">type</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> (<span class="id" title="var">RA</span> <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#35f5d2b36f88861ca82eeac028d070d1"><span class="id" title="notation">⊕</span></a> <span class="id" title="var">RB</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">inl_P</span>: <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#ProperH"><span class="id" title="definition">ProperH</span></a> (<a class="idref" href="ITree.Basics.HeterogeneousRelations.html#respectfulH"><span class="id" title="definition">respectfulH</span></a> <span class="id" title="var">A1</span> <span class="id" title="var">A2</span> (<span class="id" title="var">A1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">+</span></a> <span class="id" title="var">B1</span>) (<span class="id" title="var">A2</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">+</span></a> <span class="id" title="var">B2</span>) <span class="id" title="var">RA</span> (<span class="id" title="var">RA</span> <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#35f5d2b36f88861ca82eeac028d070d1"><span class="id" title="notation">⊕</span></a> <span class="id" title="var">RB</span>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a>) <span class="id" title="tactic">by</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">inr_P</span>: <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#ProperH"><span class="id" title="definition">ProperH</span></a> (<a class="idref" href="ITree.Basics.HeterogeneousRelations.html#respectfulH"><span class="id" title="definition">respectfulH</span></a> <span class="id" title="var">B1</span> <span class="id" title="var">B2</span> (<span class="id" title="var">A1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">+</span></a> <span class="id" title="var">B1</span>) (<span class="id" title="var">A2</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">+</span></a> <span class="id" title="var">B2</span>) <span class="id" title="var">RB</span> (<span class="id" title="var">RA</span> <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#35f5d2b36f88861ca82eeac028d070d1"><span class="id" title="notation">⊕</span></a> <span class="id" title="var">RB</span>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a>) <span class="id" title="tactic">by</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H</span> <span class="id" title="var">inl_P</span> <span class="id" title="var">inr_P</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#fmap_inv_ITree'"><span class="id" title="instance">fmap_inv_ITree'</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#itree_eq_itree_Proper_mono"><span class="id" title="instance">itree_eq_itree_Proper_mono</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>; <span class="id" title="var">crunch</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span>, <span class="id" title="var">y</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">global</span>]<br/>
<span class="id" title="keyword">Lemma</span> <a id="eqmR_prod_sum_rel_ITree" class="idref" href="#eqmR_prod_sum_rel_ITree"><span class="id" title="lemma">eqmR_prod_sum_rel_ITree</span></a> {<a id="E:202" class="idref" href="#E:202"><span class="id" title="binder">E</span></a>}:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<a id="A:203" class="idref" href="#A:203"><span class="id" title="binder">A</span></a> <a id="B:204" class="idref" href="#B:204"><span class="id" title="binder">B</span></a> <a id="C:205" class="idref" href="#C:205"><span class="id" title="binder">C</span></a> : <span class="id" title="keyword">Type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="RA:206" class="idref" href="#RA:206"><span class="id" title="binder">RA</span></a> : <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#relationH"><span class="id" title="definition">relationH</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#A:203"><span class="id" title="variable">A</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#A:203"><span class="id" title="variable">A</span></a>) (<a id="RB:207" class="idref" href="#RB:207"><span class="id" title="binder">RB</span></a> : <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#relationH"><span class="id" title="definition">relationH</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#B:204"><span class="id" title="variable">B</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#B:204"><span class="id" title="variable">B</span></a>) (<a id="RC:208" class="idref" href="#RC:208"><span class="id" title="binder">RC</span></a> : <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#relationH"><span class="id" title="definition">relationH</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#C:205"><span class="id" title="variable">C</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#C:205"><span class="id" title="variable">C</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="ma:209" class="idref" href="#ma:209"><span class="id" title="binder">ma</span></a> <a id="ma':210" class="idref" href="#ma':210"><span class="id" title="binder">ma'</span></a> : <a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#E:202"><span class="id" title="variable">E</span></a> (<a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#C:205"><span class="id" title="variable">C</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#e03f39daf98516fa530d3f6f5a1b4d92"><span class="id" title="notation">+</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#A:203"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#B:204"><span class="id" title="variable">B</span></a>)%<span class="id" title="keyword">type</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">(</span></a><a class="idref" href="ITree.Basics.Basics.html#fst_sum"><span class="id" title="definition">fst_sum</span></a> <span class="id" title="notation">&lt;$&gt;</span> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#ma:209"><span class="id" title="variable">ma</span></a><a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">)</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">≈{</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#RC:208"><span class="id" title="variable">RC</span></a> <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#35f5d2b36f88861ca82eeac028d070d1"><span class="id" title="notation">⊕</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#RA:206"><span class="id" title="variable">RA</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">}</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">(</span></a><a class="idref" href="ITree.Basics.Basics.html#fst_sum"><span class="id" title="definition">fst_sum</span></a> <span class="id" title="notation">&lt;$&gt;</span> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#ma':210"><span class="id" title="variable">ma'</span></a><a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">(</span></a><a class="idref" href="ITree.Basics.Basics.html#snd_sum"><span class="id" title="definition">snd_sum</span></a> <span class="id" title="notation">&lt;$&gt;</span> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#ma:209"><span class="id" title="variable">ma</span></a><a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">)</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">≈{</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#RC:208"><span class="id" title="variable">RC</span></a> <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#35f5d2b36f88861ca82eeac028d070d1"><span class="id" title="notation">⊕</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#RB:207"><span class="id" title="variable">RB</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">}</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">(</span></a><a class="idref" href="ITree.Basics.Basics.html#snd_sum"><span class="id" title="definition">snd_sum</span></a> <span class="id" title="notation">&lt;$&gt;</span> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#ma':210"><span class="id" title="variable">ma'</span></a><a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#ma:209"><span class="id" title="variable">ma</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">≈{</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#RC:208"><span class="id" title="variable">RC</span></a> <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#35f5d2b36f88861ca82eeac028d070d1"><span class="id" title="notation">⊕</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#RA:206"><span class="id" title="variable">RA</span></a> <a class="idref" href="ITree.Basics.HeterogeneousRelations.html#eab4b218501f1659d1ac8330d8450aec"><span class="id" title="notation">⊗</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#RB:207"><span class="id" title="variable">RB</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#d413dbf027cae6a55393170818dfc6e2"><span class="id" title="notation">}</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#ma':210"><span class="id" title="variable">ma'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="tactic">until</span> <span class="id" title="var">RC</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">ginit</span>. <span class="id" title="var">gcofix</span> <span class="id" title="var">CIH</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> * <span class="id" title="var">EQ</span> <span class="id" title="var">EQ'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.Eq.Eq.html#itree_eta"><span class="id" title="lemma">itree_eta</span></a>, (<a class="idref" href="ITree.Eq.Eq.html#itree_eta"><span class="id" title="lemma">itree_eta</span></a> <span class="id" title="var">ma'</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">punfold</span> <span class="id" title="var">EQ</span>; <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">EQ</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="ITree.Basics.Basics.html#fst_sum"><span class="id" title="definition">fst_sum</span></a> <span class="id" title="notation">&lt;$&gt;</span> <span class="id" title="var">ma</span>) <span class="id" title="var">eqn</span>: <span class="id" title="var">P</span>; <span class="id" title="var">remember</span> (<a class="idref" href="ITree.Basics.Basics.html#fst_sum"><span class="id" title="definition">fst_sum</span></a> <span class="id" title="notation">&lt;$&gt;</span> <span class="id" title="var">ma'</span>) <span class="id" title="var">eqn</span>: <span class="id" title="var">P'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Q</span>: <a class="idref" href="ITree.Basics.Basics.html#fst_sum"><span class="id" title="definition">fst_sum</span></a> <span class="id" title="notation">&lt;$&gt;</span> <span class="id" title="var">ma</span> <a class="idref" href="ITree.Eq.Eq.html#7123c605943b5e01235e17fe532efcae"><span class="id" title="notation">≅</span></a> <span class="id" title="var">i</span>) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">subst</span>; <span class="id" title="tactic">reflexivity</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Q'</span>: <a class="idref" href="ITree.Basics.Basics.html#fst_sum"><span class="id" title="definition">fst_sum</span></a> <span class="id" title="notation">&lt;$&gt;</span> <span class="id" title="var">ma'</span> <a class="idref" href="ITree.Eq.Eq.html#7123c605943b5e01235e17fe532efcae"><span class="id" title="notation">≅</span></a> <span class="id" title="var">i0</span>) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">subst</span>; <span class="id" title="tactic">reflexivity</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">P</span> <span class="id" title="var">P'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">genobs</span> <span class="id" title="var">i</span> <span class="id" title="var">ot</span>; <span class="id" title="var">genobs</span> <span class="id" title="var">i0</span> <span class="id" title="var">os</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">hinduction</span> <span class="id" title="var">EQ</span> <span class="id" title="keyword">before</span> <span class="id" title="var">CIH</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="var">pclearbot</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="ITree.Eq.Eq.html#simpobs"><span class="id" title="lemma">simpobs</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heqot</span>, <span class="id" title="var">Heqos</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="method">fmap</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Q</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Heqot</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Q'</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Heqos</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ITree.Eq.Eq.html#eqit_inv_bind_ret"><span class="id" title="lemma">eqit_inv_bind_ret</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heqot</span>, <span class="id" title="var">Heqos</span>. <span class="id" title="var">crunch</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span>, <span class="id" title="var">H</span> <span class="id" title="tactic">in</span> <span class="id" title="var">EQ'</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ITree.Eq.Eq.html#eqit_inv"><span class="id" title="lemma">eqit_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>, <span class="id" title="var">H2</span>, <span class="id" title="var">H</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">try</span> <span class="id" title="var">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="ITree.Core.ITreeDefinition.html#observe"><span class="id" title="definition">observe</span></a>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="ITree.Core.ITreeDefinition.html#_observe"><span class="id" title="projection">_observe</span></a> <span class="id" title="var">ma</span>), (<a class="idref" href="ITree.Core.ITreeDefinition.html#_observe"><span class="id" title="projection">_observe</span></a> <span class="id" title="var">ma'</span>); <span class="id" title="tactic">try</span> <span class="id" title="var">contradiction</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">gstep</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="ITree.Core.ITreeDefinition.html#ITree.map"><span class="id" title="definition">ITree.map</span></a> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.Eq.Eq.html#bind_ret_l"><span class="id" title="lemma">Eq.bind_ret_l</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">EQ'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ITree.Eq.Eq.html#eqit_inv"><span class="id" title="lemma">eqit_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>, <span class="id" title="var">EQ'</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">Q</span> <span class="id" title="var">Q'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>. <span class="id" title="var">inv</span> <span class="id" title="var">REL</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span> : <span class="id" title="tactic">unfold</span> <a class="idref" href="ITree.Basics.Basics.html#fst_sum"><span class="id" title="definition">fst_sum</span></a>, <a class="idref" href="ITree.Basics.Basics.html#snd_sum"><span class="id" title="definition">snd_sum</span></a> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">destruct</span> <span class="id" title="var">x0</span> <span class="id" title="var">eqn</span>: <span class="id" title="var">Hx0</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span> <span class="id" title="var">eqn</span>: <span class="id" title="var">Hx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span> : <span class="id" title="tactic">repeat</span> <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [<span class="id" title="var">H</span> : <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <span class="id" title="var">_</span>  |- <span class="id" title="var">_</span>] =&gt; <span class="id" title="var">inv</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [<span class="id" title="var">H</span> : <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span>] =&gt; <span class="id" title="var">inv</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">all</span> : <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>, <span class="id" title="var">p0</span>. <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">inv</span> <span class="id" title="var">EQ'</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="ITree.Eq.Eq.html#simpobs"><span class="id" title="lemma">simpobs</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heqot</span>, <span class="id" title="var">Heqos</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="method">fmap</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Heqot</span>, <span class="id" title="var">Heqos</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Q</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Heqot</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Q'</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Heqos</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ITree.Eq.Eq.html#eqitree_inv_bind_tau"><span class="id" title="lemma">eqitree_inv_bind_tau</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heqot</span>. <span class="id" title="var">crunch</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2 : { <span class="id" title="var">punfold</span> <span class="id" title="var">H0</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H0</span>. <span class="id" title="var">inv</span> <span class="id" title="var">CHECK</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ITree.Eq.Eq.html#eqitree_inv_bind_tau"><span class="id" title="lemma">eqitree_inv_bind_tau</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heqos</span>. <span class="id" title="var">crunch</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2 : { <span class="id" title="var">punfold</span> <span class="id" title="var">H2</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H2</span>. <span class="id" title="var">inv</span> <span class="id" title="var">CHECK</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>, <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">gstep</span>; <span class="id" title="tactic">constructor</span>. <span class="id" title="var">gbase</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">CIH</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span>, <span class="id" title="var">H2</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>, <span class="id" title="var">H1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">EQ'</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="method">fmap</span> <span class="id" title="tactic">in</span> <span class="id" title="var">EQ'</span>. <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="ITree.Eq.Eq.html#bind_tau"><span class="id" title="lemma">bind_tau</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">EQ'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ITree.Eq.Eq.html#eqit_inv"><span class="id" title="lemma">eqit_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">EQ'</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Heqot</span>, <span class="id" title="var">Heqos</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#observe_eqitree"><span class="id" title="lemma">observe_eqitree</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heqot</span>, <span class="id" title="var">Heqos</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rename</span> <span class="id" title="var">Heqot</span> <span class="id" title="var">into</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">rename</span> <span class="id" title="var">Heqos</span> <span class="id" title="var">into</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Q</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Q'</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ITree.Eq.Eq.html#eqitree_inv_bind_vis"><span class="id" title="lemma">eqitree_inv_bind_vis</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="var">crunch</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2 : { <span class="id" title="var">punfold</span> <span class="id" title="var">H1</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H1</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ITree.Eq.Eq.html#eqitree_inv_bind_vis"><span class="id" title="lemma">eqitree_inv_bind_vis</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="var">crunch</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2 : { <span class="id" title="var">punfold</span> <span class="id" title="var">H2</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H2</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>, <span class="id" title="var">H0</span>. <span class="id" title="var">gstep</span>. <span class="id" title="tactic">constructor</span>. <span class="id" title="var">gbase</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">CIH</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">unfold</span> <span class="id" title="method">fmap</span>. <span class="id" title="tactic">setoid_rewrite</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">setoid_rewrite</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>, <span class="id" title="var">H0</span> <span class="id" title="tactic">in</span> <span class="id" title="var">EQ'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="method">fmap</span> <span class="id" title="tactic">in</span> <span class="id" title="var">EQ'</span>. <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="ITree.Eq.Eq.html#bind_vis"><span class="id" title="lemma">bind_vis</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">EQ'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.Eq.Eq.html#eqit_inv_Vis"><span class="id" title="lemma">eqit_inv_Vis</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">EQ'</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">REL</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>, <span class="id" title="var">H0</span> <span class="id" title="tactic">in</span> <span class="id" title="var">EQ'</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="method">fmap</span> <span class="id" title="tactic">in</span> <span class="id" title="var">EQ'</span>. <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="ITree.Eq.Eq.html#bind_vis"><span class="id" title="lemma">bind_vis</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">EQ'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.Eq.Eq.html#eqit_inv_Vis"><span class="id" title="lemma">eqit_inv_Vis</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">EQ'</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">inv</span> <span class="id" title="var">CHECK</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">inv</span> <span class="id" title="var">CHECK</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Unshelve</span>. <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <a id="eqmR_transport_Equiv_itree" class="idref" href="#eqmR_transport_Equiv_itree"><span class="id" title="instance">eqmR_transport_Equiv_itree</span></a> {<a id="E:211" class="idref" href="#E:211"><span class="id" title="binder">E</span></a>} : <a class="idref" href="ITree.EqmR.EqmRMonad.html#TransportEquiv"><span class="id" title="class">TransportEquiv</span></a> (<a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#E:211"><span class="id" title="variable">E</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>. <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <a id="EqmR_OK_ITree" class="idref" href="#EqmR_OK_ITree"><span class="id" title="instance">EqmR_OK_ITree</span></a> {<a id="E:212" class="idref" href="#E:212"><span class="id" title="binder">E</span></a>} : <a class="idref" href="ITree.EqmR.EqmRMonad.html#EqmR_OK"><span class="id" title="class">EqmR_OK</span></a> (<a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#E:212"><span class="id" title="variable">E</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#eqmR"><span class="id" title="method">eqmR</span></a>, <span class="id" title="var">EqmR_ITree</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">global</span>]<br/>
<span class="id" title="keyword">Instance</span> <a id="eqmR_bind_ProperH_ITree" class="idref" href="#eqmR_bind_ProperH_ITree"><span class="id" title="instance">eqmR_bind_ProperH_ITree</span></a> {<a id="E:213" class="idref" href="#E:213"><span class="id" title="binder">E</span></a>}: <a class="idref" href="ITree.EqmR.EqmRMonad.html#ProperBind"><span class="id" title="class">ProperBind</span></a> (<a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#E:213"><span class="id" title="variable">E</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">red</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.EqmR.EqmRMonad.html#eqmR_rel_comp"><span class="id" title="method">eqmR_rel_comp</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. 2 : <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">Unshelve</span>. 3 : <span class="id" title="tactic">exact</span> (<span class="id" title="keyword">fun</span> <a id="a1:216" class="idref" href="#a1:216"><span class="id" title="binder">a1</span></a> <a id="a2:217" class="idref" href="#a2:217"><span class="id" title="binder">a2</span></a> =&gt; <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#a1:214"><span class="id" title="variable">a1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#a2:215"><span class="id" title="variable">a2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.15.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#a1:214"><span class="id" title="variable">a1</span></a> <a class="idref" href="ITree.EqmR.EqmRMonad.html#91e97f679796ae2f33b88d366e97515d"><span class="id" title="notation">∈</span></a> <span class="id" title="var">ma2</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.Eq.Eq.html#eq_itree_clo_bind"><span class="id" title="lemma">eq_itree_clo_bind</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#mayRet_eq_Refl_ITree"><span class="id" title="lemma">mayRet_eq_Refl_ITree</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H2</span> <span class="id" title="keyword">as</span> (? &amp; ? &amp; ?). <span class="id" title="tactic">destruct</span> <span class="id" title="var">H3</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">global</span>]<br/>
<span class="id" title="keyword">Instance</span> <a id="bind_ret_l_ITree" class="idref" href="#bind_ret_l_ITree"><span class="id" title="instance">bind_ret_l_ITree</span></a> {<a id="E:218" class="idref" href="#E:218"><span class="id" title="binder">E</span></a>}: <a class="idref" href="ITree.EqmR.EqmRMonad.html#BindRetL"><span class="id" title="class">BindRetL</span></a> (<a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#E:218"><span class="id" title="variable">E</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">red</span>. <span class="id" title="tactic">intros</span> *. <span class="id" title="tactic">red</span>. <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="ITree.Eq.Eq.html#bind_ret_l"><span class="id" title="lemma">Eq.bind_ret_l</span></a>. <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">global</span>]<br/>
<span class="id" title="keyword">Instance</span> <a id="bind_ret_r_ITree" class="idref" href="#bind_ret_r_ITree"><span class="id" title="instance">bind_ret_r_ITree</span></a> {<a id="E:219" class="idref" href="#E:219"><span class="id" title="binder">E</span></a>}: <a class="idref" href="ITree.EqmR.EqmRMonad.html#BindRetR"><span class="id" title="class">BindRetR</span></a> (<a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#E:219"><span class="id" title="variable">E</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">red</span>. <span class="id" title="tactic">intros</span> *. <span class="id" title="tactic">red</span>. <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="ITree.Eq.Eq.html#bind_ret_r"><span class="id" title="lemma">Eq.bind_ret_r</span></a>. <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">global</span>]<br/>
<span class="id" title="keyword">Instance</span> <a id="bind_bind_ITree" class="idref" href="#bind_bind_ITree"><span class="id" title="instance">bind_bind_ITree</span></a> {<a id="E:220" class="idref" href="#E:220"><span class="id" title="binder">E</span></a>}: <a class="idref" href="ITree.EqmR.EqmRMonad.html#BindBind"><span class="id" title="class">BindBind</span></a> (<a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#E:220"><span class="id" title="variable">E</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">red</span>. <span class="id" title="tactic">intros</span> *. <span class="id" title="tactic">red</span>. <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="ITree.Eq.Eq.html#bind_bind"><span class="id" title="lemma">Eq.bind_bind</span></a>. <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">global</span>]<br/>
<span class="id" title="keyword">Instance</span> <a id="eqmR_ret_ITree" class="idref" href="#eqmR_ret_ITree"><span class="id" title="instance">eqmR_ret_ITree</span></a> {<a id="E:221" class="idref" href="#E:221"><span class="id" title="binder">E</span></a>}: <a class="idref" href="ITree.EqmR.EqmRMonad.html#RetFinal"><span class="id" title="class">RetFinal</span></a> (<a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#E:221"><span class="id" title="variable">E</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">red</span>. <span class="id" title="tactic">intros</span> *. <span class="id" title="tactic">apply</span> <a class="idref" href="ITree.Eq.Eq.html#eqit_Ret"><span class="id" title="lemma">eqit_Ret</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <a id="EqmRMonad_ITree" class="idref" href="#EqmRMonad_ITree"><span class="id" title="instance">EqmRMonad_ITree</span></a> {<a id="E:222" class="idref" href="#E:222"><span class="id" title="binder">E</span></a>} : <a class="idref" href="ITree.EqmR.EqmRMonad.html#EqmRMonadLaws"><span class="id" title="class">EqmRMonadLaws</span></a> (<a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#E:222"><span class="id" title="variable">E</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#image_ma_Refl_ITree"><span class="id" title="lemma">image_ma_Refl_ITree</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">global</span>]<br/>
<span class="id" title="keyword">Instance</span> <a id="eqmR_ret_inv_itree" class="idref" href="#eqmR_ret_inv_itree"><span class="id" title="instance">eqmR_ret_inv_itree</span></a> {<a id="E:223" class="idref" href="#E:223"><span class="id" title="binder">E</span></a>}: <a class="idref" href="ITree.EqmR.EqmRMonad.html#RetInv"><span class="id" title="class">RetInv</span></a> (<a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#E:223"><span class="id" title="variable">E</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">red</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.Eq.Eq.html#eqit_inv_Ret"><span class="id" title="lemma">eqit_inv_Ret</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">global</span>]<br/>
<span class="id" title="keyword">Instance</span> <a id="mayRet_bind_inv_itree" class="idref" href="#mayRet_bind_inv_itree"><span class="id" title="instance">mayRet_bind_inv_itree</span></a> {<a id="E:224" class="idref" href="#E:224"><span class="id" title="binder">E</span></a>}: <a class="idref" href="ITree.EqmR.EqmRMonad.html#MayRetBindInv"><span class="id" title="class">MayRetBindInv</span></a> (<a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#E:224"><span class="id" title="variable">E</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">red</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#Returns_mayRet"><span class="id" title="lemma">Returns_mayRet</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a id="x:226" class="idref" href="#x:226"><span class="id" title="binder">x</span></a> <span class="id" title="notation">&lt;-</span> <span class="id" title="var">ma</span><span class="id" title="notation">;;</span> <span class="id" title="var">k</span> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#x:225"><span class="id" title="variable">x</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">i</span> <a class="idref" href="ITree.Eq.Eq.html#7123c605943b5e01235e17fe532efcae"><span class="id" title="notation">≅</span></a> <a id="x:228" class="idref" href="#x:228"><span class="id" title="binder">x</span></a> <span class="id" title="notation">&lt;-</span> <span class="id" title="var">ma</span> <span class="id" title="notation">;;</span> <span class="id" title="var">k</span> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#x:227"><span class="id" title="variable">x</span></a>) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">subst</span>; <span class="id" title="tactic">reflexivity</span>). <span class="id" title="tactic">clear</span> <span class="id" title="var">Heqi</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">ma</span> <span class="id" title="var">k</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ITree.Eq.Eq.html#eqit_inv_bind_ret"><span class="id" title="lemma">eqit_inv_bind_ret</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">crunch</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">rewrite</span>! <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#Returns_mayRet"><span class="id" title="lemma">Returns_mayRet</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span>|<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H1</span>]; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ITree.Eq.Eq.html#eqit_inv_bind_tau"><span class="id" title="lemma">eqit_inv_bind_tau</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>; <span class="id" title="var">crunch</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHReturns</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H2</span>). <span class="id" title="var">crunch</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#Returns_mayRet"><span class="id" title="lemma">Returns_mayRet</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#Returns_mayRet"><span class="id" title="lemma">Returns_mayRet</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span>, <span class="id" title="var">H4</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#ReturnsTau"><span class="id" title="constructor">ReturnsTau</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.Eq.Eq.html#eqit_inv"><span class="id" title="lemma">eqit_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>. <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="ITree.Core.ITreeDefinition.html#_observe"><span class="id" title="projection">_observe</span></a> (<span class="id" title="var">k</span> <span class="id" title="var">x</span>)) <span class="id" title="var">eqn</span>: <span class="id" title="var">Hk</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">u</span> <a class="idref" href="ITree.Eq.Eq.html#7123c605943b5e01235e17fe532efcae"><span class="id" title="notation">≅</span></a> <a class="idref" href="ITree.Core.ITreeDefinition.html#Ret"><span class="id" title="abbreviation">Ret</span></a> <span class="id" title="var">x</span> <span class="id" title="notation">;;</span> <span class="id" title="var">t0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H2</span>. <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="ITree.Eq.Eq.html#bind_ret_l"><span class="id" title="lemma">Eq.bind_ret_l</span></a>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHReturns</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H3</span>). <span class="id" title="var">crunch</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">x0</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#Returns_mayRet"><span class="id" title="lemma">Returns_mayRet</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H4</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="ITree.Eq.Eq.html#eqit_inv"><span class="id" title="lemma">eqit_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H6</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">try</span> <span class="id" title="var">contradiction</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#Returns_mayRet"><span class="id" title="lemma">Returns_mayRet</span></a>. <span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hk</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.Eq.Eq.html#simpobs"><span class="id" title="lemma">simpobs</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hk</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#ReturnsTau"><span class="id" title="constructor">ReturnsTau</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#Returns_mayRet"><span class="id" title="lemma">Returns_mayRet</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H5</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ITree.Eq.Eq.html#eqit_inv_bind_vis"><span class="id" title="lemma">eqit_inv_bind_vis</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>; <span class="id" title="var">crunch</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">edestruct</span> <span class="id" title="var">IHReturns</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H1</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.Eq.Eq.html#eq_itree_clo_bind"><span class="id" title="lemma">eq_itree_clo_bind</span></a>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">crunch</span>; <span class="id" title="var">esplit</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#Returns_mayRet"><span class="id" title="lemma">Returns_mayRet</span></a>. <span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#ReturnsVis"><span class="id" title="constructor">ReturnsVis</span></a>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#Returns_mayRet"><span class="id" title="lemma">Returns_mayRet</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exists</span> <span class="id" title="var">x0</span>. <span class="id" title="tactic">split</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#Returns_mayRet"><span class="id" title="lemma">Returns_mayRet</span></a>. <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#ReturnsVis"><span class="id" title="constructor">ReturnsVis</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#Returns_mayRet"><span class="id" title="lemma">Returns_mayRet</span></a>. <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">global</span>]<br/>
<span class="id" title="keyword">Instance</span> <a id="fmap_inv_mayRet_itree" class="idref" href="#fmap_inv_mayRet_itree"><span class="id" title="instance">fmap_inv_mayRet_itree</span></a> {<a id="E:229" class="idref" href="#E:229"><span class="id" title="binder">E</span></a>}: <a class="idref" href="ITree.EqmR.EqmRMonad.html#FmapInvRet"><span class="id" title="class">FmapInvRet</span></a> (<a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#E:229"><span class="id" title="variable">E</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">red</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="method">fmap</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#eq_itree_bind_inv_homog"><span class="id" title="lemma">eq_itree_bind_inv_homog</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">global</span>]<br/>
<span class="id" title="keyword">Instance</span> <a id="eqmR_inv_itree" class="idref" href="#eqmR_inv_itree"><span class="id" title="instance">eqmR_inv_itree</span></a> {<a id="E:230" class="idref" href="#E:230"><span class="id" title="binder">E</span></a>}: <a class="idref" href="ITree.EqmR.EqmRMonad.html#EqmRInv"><span class="id" title="class">EqmRInv</span></a> (<a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#E:230"><span class="id" title="variable">E</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="ITree.Eq.Eq.html#bind_ret_r"><span class="id" title="lemma">Eq.bind_ret_r</span></a> <span class="id" title="var">ma</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> @<a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#eq_itree_bind_inv_homog"><span class="id" title="lemma">eq_itree_bind_inv_homog</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ITree.Eq.Eq.html#eqit_inv"><span class="id" title="lemma">eqit_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <a id="EqmRMonadInverses_ITree" class="idref" href="#EqmRMonadInverses_ITree"><span class="id" title="instance">EqmRMonadInverses_ITree</span></a> {<a id="E:231" class="idref" href="#E:231"><span class="id" title="binder">E</span></a>} : <a class="idref" href="ITree.EqmR.EqmRMonad.html#EqmRInversionProperties"><span class="id" title="class">EqmRInversionProperties</span></a> (<a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#E:231"><span class="id" title="variable">E</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>;<span class="id" title="tactic">try</span> <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Global Instance</span> <a id="EQM_ITree" class="idref" href="#EQM_ITree"><span class="id" title="instance">EQM_ITree</span></a> {<a id="E:232" class="idref" href="#E:232"><span class="id" title="binder">E</span></a>} : <a class="idref" href="ITree.EqmR.EqmRMonad.html#EQM"><span class="id" title="class">EQM</span></a> (<a class="idref" href="ITree.Core.ITreeDefinition.html#itree"><span class="id" title="record">itree</span></a> <a class="idref" href="ITree.EqmR.Monads.ITree_strong.html#E:232"><span class="id" title="variable">E</span></a>) <span class="id" title="var">_</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>;<span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
